


<!DOCTYPE HTML>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
	<head>
		<meta charset="utf-8">
		<meta content="Vitis Database Library, primitive, apis, database" name="keywords" />
<meta content="Vitis Database Library primitive application programming interface reference." name="description" />
<meta content="Document" name="xlnxdocumentclass" />
<meta content="Tutorials" name="xlnxdocumenttype" />

		<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
		<link rel="stylesheet" href="https://static.cloud.coveo.com/searchui/v2.4382/css/CoveoFullSearch.css"/>
		<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<meta name="description"/>
		<meta name="keywords"/>
		<meta property="og:title" content=""/>
		<meta property="og:description"/>
		<!-- favicon -->
		<link rel="icon" type="image/vnd.microsoft.icon" href="../_static/favicon.ico"/>
		<link rel="shortcut icon" type="image/vnd.microsoft.icon" href="../_static/favicon.ico"/>
		<!-- Fonts -->
		<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet" type="text/css"/>

  
  
  
  

  
      <script type="text/javascript" src="../_static/js/jquery.min.js"></script>	
	  <script type="text/javascript" src="../_static/js/gtm.js"></script>
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
    <script type="text/javascript" src="../_static/js/d3dd8c60ed.js"></script>
    <script type="text/javascript" src="../_static/js/common-ui-all.min.js"></script>		
    <script type="text/javascript" src="../_static/js/header-footer.min.js"></script>	
    <script type="text/javascript" src="../_static/js/jquery-ui.min.js"></script>	
    <script type="text/javascript" src="../_static/js/CoveoJsSearch.Lazy.min.js"></script>	
    <script type="text/javascript" src="../_static/js/linkid.js"></script>		
    <script type="text/javascript" src="../_static/js/Searchbox.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/common-ui-all.min.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/header-footer.min.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/pro.min.css" media="all" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Primitive Design Internals" href="internals.html" />
    <link rel="prev" title="Primitive Overview" href="hw_sql_guide.html" /> 
	</head>
	<body>
		<div class="xilinx-bs3"/>
		<div class="root responsivegrid">
			<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 aem-Grid--large--16 aem-Grid--xlarge--16 aem-Grid--xxlarge--16 aem-Grid--xxxlarge--16 ">
				<div class="xilinxExperienceFragments experiencefragment aem-GridColumn aem-GridColumn--default--12">
					<div class="xf-content-height">
						<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 ">
							<div class="header parbase aem-GridColumn aem-GridColumn--default--12">
								<noindex>
									<header data-component="header">
										<nav class="navbar navbar-default aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid main-nav">
													<div class="row">
														<div class="col-xs-12">
															<div class="logo-column">
																<div class="logo">
																	<a href="https://www.xilinx.com/">
																	<img src="https://www.xilinx.com/etc.clientlibs/site/clientlibs/xilinx/all/resources/imgs/header/xilinx-header-logo.svg" title="Xilinx Inc"/>
																	</a>
																</div>
															</div>
															<div class="navbar-column">
																<div class="navbar navbar-collapse collapse" id="xilinx-main-menu">
																	<div class="mobile-search-container">
																		<div id="headerSearchBox" class="headerSearch"
																			data-component="header-search" 
																			data-redirect-if-empty="false"
																			data-coveo-access-token="xxa237d4dd-f0aa-47fc-9baa-af9121851b33"
																			data-coveo-organization-id="xilinxcomprode2rjoqok">
																			<div class='coveo-search-section'>
																				<div class="CoveoAnalytics" data-search-hub="Site"></div>
																				<ul class="dropdown-menu options">
																					<li class="option" data-label="All" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-search-hub="Site">
																						<a href="#">
																						All</a>
																					</li>
																					<li data-label="Silicon Devices" data-action-link="https://www.xilinx.com//products/silicon-devices/si-keyword-search.html" data-search-hub="Product">
																						<a href="#">
																						Silicon Devices</a>
																					</li>
																					<li data-label="Boards and Kits" data-action-link="https://www.xilinx.com//products/boards-and-kits/bk-keyword-search.html" data-search-hub="Product">
																						<a href="#">
																						Boards and Kits</a>
																					</li>
																					<li data-label="Intellectual Property" data-action-link="https://www.xilinx.com//products/intellectual-property/ip-keyword-search.html" data-search-hub="Product">
																						<a href="#">
																						Intellectual Property</a>
																					</li>
																					<li data-label="Support" class="option" data-action-link="https://www.xilinx.com/search/support-keyword-search.html" data-search-hub="Support">
																						<a href="#">
																						Support</a>
																						<ul>
																							<li data-label="Documentation" data-action-link="https://www.xilinx.com//support/documentation-navigation/documentation-keyword-search.html" data-search-hub="Document">
																								<a href="#">
																								Documentation</a>
																							</li>
																							<li data-label="Knowledge Base" data-action-link="https://www.xilinx.com//support/answer-navigation/answer-keyword-search.html" data-search-hub="AnswerRecord">
																								<a href="#">
																								Knowledge Base</a>
																							</li>
																							<li data-label="Community Forums" data-action-link="https://www.xilinx.com/search/forums-keyword-search.html" data-search-hub="Forums">
																								<a href="#">
																								Community Forums</a>
																							</li>
																						</ul>
																					</li>
																					<li data-label="Partners" data-action-link="https://www.xilinx.com//alliance/member-keyword-search.html" data-search-hub="Partner">
																						<a href="#">
																						Partners</a>
																					</li>
																					<li data-label="Videos" data-action-link="https://www.xilinx.com/video/video-keyword-search.html" data-search-hub="Video">
																						<a href="#">
																						Videos</a>
																					</li>
																					<li data-label="Press" data-action-link="https://www.xilinx.com/search/press-keyword-search.html" data-search-hub="Press">
																						<a href="#">
																						Press</a>
																					</li>
																				</ul>
																				<a href="#" class="btn dropdown-toggle value" data-toggle="dropdown"></a>
																				<div class="CoveoSearchbox" data-id="coveosearchbox" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-placeholder="Search Xilinx"></div>
																			</div>
																		</div>
																	</div>
																	<ul class="nav navbar-nav nav-justified">
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/applications.html">
																			Applications</a> 
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/products/silicon-devices.html">
																			Products</a> 
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://developer.xilinx.com/">
																			Developers</a> 
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/support.html">
																			Support</a> 
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/about/company-overview.html">
																			About</a> 
																		</li>
																	</ul>
																</div>
															</div>
															<script type="text/javascript" src="../_static/js/gtm.js"></script>
															<!--<div class="mini-nav">
																<button type="button" data-function="xilinx-mobile-menu" id="nav-toggle" class="navbar-toggle collapsed visible-xs-block" aria-expanded="false">
																<span></span>
																<span></span>
																<span></span>
																<span></span>
																</button>
																<ul class="list-inline">
																	<li class="dropdown user-menu">
																		<button data-toggle="dropdown">
																		<span class="sr-only">Account</span>
																		<span class="fas fa-user"></span>
																		</button>
																		<ul class="dropdown-menu">
																			<li>
																				<a href="https://www.xilinx.com/myprofile/subscriptions.html">
																				My Account</a>
																			</li>
																			<li>
																				<a href="https://www.xilinx.com/registration/create-account.html">
																				Create Account</a>
																			</li>
																			<li>
																				<a href="https://www.xilinx.com/bin/protected/en/signout">
																				Sign Out</a>
																			</li>
																		</ul>
																	</li>
																	<li class="hidden-xs">
																		<button data-function="search-toggle">
																		<span class="sr-only">Search</span>
																		<span class="far fa-search"></span>
																		</button>
																	</li>
																</ul>
															</div>
															-->
															<div class="search-container">
																<div id="headerSearchBox" class="headerSearch"
																	data-component="header-search" 
																	data-redirect-if-empty="false"
																	data-coveo-access-token="xxa237d4dd-f0aa-47fc-9baa-af9121851b33"
																	data-coveo-organization-id="xilinxcomprode2rjoqok">
																	<div class='coveo-search-section'>
																		<div class="CoveoAnalytics" data-search-hub="Site"></div>
																		<ul class="dropdown-menu options">
																			<li class="option" data-label="All" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-search-hub="Site">
																				<a href="#">
																				All</a>
																			</li>
																			<li data-label="Silicon Devices" data-action-link="https://www.xilinx.com/products/silicon-devices/si-keyword-search.html" data-search-hub="Product">
																				<a href="#">
																				Silicon Devices</a>
																			</li>
																			<li data-label="Boards and Kits" data-action-link="https://www.xilinx.com/products/boards-and-kits/bk-keyword-search.html" data-search-hub="Product">
																				<a href="#">
																				Boards and Kits</a>
																			</li>
																			<li data-label="Intellectual Property" data-action-link="https://www.xilinx.com/products/intellectual-property/ip-keyword-search.html" data-search-hub="Product">
																				<a href="#">
																				Intellectual Property</a>
																			</li>
																			<li data-label="Support" class="option" data-action-link="https://www.xilinx.com/search/support-keyword-search.html" data-search-hub="Support">
																				<a href="#">
																				Support</a>
																				<ul>
																					<li data-label="Documentation" data-action-link="https://www.xilinx.com/support/documentation-navigation/documentation-keyword-search.html" data-search-hub="Document">
																						<a href="#">
																						Documentation</a>
																					</li>
																					<li data-label="Knowledge Base" data-action-link="https://www.xilinx.com/support/answer-navigation/answer-keyword-search.html" data-search-hub="AnswerRecord">
																						<a href="#">
																						Knowledge Base</a>
																					</li>
																					<li data-label="Community Forums" data-action-link="https://www.xilinx.com/search/forums-keyword-search.html" data-search-hub="Forums">
																						<a href="#">
																						Community Forums</a>
																					</li>
																				</ul>
																			</li>
																			<li data-label="Partners" data-action-link="https://www.xilinx.com/alliance/member-keyword-search.html" data-search-hub="Partner">
																				<a href="#">
																				Partners</a>
																			</li>
																			<li data-label="Videos" data-action-link="https://www.xilinx.com/video/video-keyword-search.html" data-search-hub="Video">
																				<a href="#">
																				Videos</a>
																			</li>
																			<li data-label="Press" data-action-link="https://www.xilinx.com/search/press-keyword-search.html" data-search-hub="Press">
																				<a href="#">
																				Press</a>
																			</li>
																		</ul>
																		<a href="#" class="btn dropdown-toggle value" data-toggle="dropdown"></a>
																		<div class="CoveoSearchbox" data-id="coveosearchbox" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-placeholder="Search Xilinx"></div>
																	</div>
																</div>
																<button data-function="search-toggle">
																<span class="sr-only">Search</span>
																<span class="far fa-times"></span>
																</button>
															</div>
														</div>
													</div>
												</div>
											</div>
										</nav>
									</header>
								</noindex>
							</div>
						</div>
					</div>
				</div>
				<div class="parsys aem-GridColumn--xxxlarge--none aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
						<div class="container-fluid">
							<div class="row">
							<div class="col-xs-12">
   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> Vitis Database Library
          

          
          </a>

          
            
            
              <div class="version">
                2020.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Library Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../overview.html">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview.html#design-flows">Design Flows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview.html#license">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview.html#trademark-notice">Trademark Notice</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release.html">Release Note</a></li>
</ul>
<p class="caption"><span class="caption-text">User Guide</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../usecase.html">Typical Use Cases</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="L1.html">L1 Module User Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="hw_sql_guide.html">Primitive Overview</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Primitive APIs in <code class="docutils literal notranslate"><span class="pre">xf::database</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#aggregate">aggregate</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#aggregate-overload-1">aggregate overload (1)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#aggregate-overload-2">aggregate overload (2)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#aggregate-overload-3">aggregate overload (3)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#bitonicsort">bitonicSort</a></li>
<li class="toctree-l3"><a class="reference internal" href="#bfgen">bfGen</a></li>
<li class="toctree-l3"><a class="reference internal" href="#bfgenstream">bfGenStream</a></li>
<li class="toctree-l3"><a class="reference internal" href="#bfcheck">bfCheck</a></li>
<li class="toctree-l3"><a class="reference internal" href="#combinecol">combineCol</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#combinecol-overload-1">combineCol overload (1)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#combinecol-overload-2">combineCol overload (2)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#combinecol-overload-3">combineCol overload (3)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#combinecol-overload-4">combineCol overload (4)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#splitcol">splitCol</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#splitcol-overload-1">splitCol overload (1)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#splitcol-overload-2">splitCol overload (2)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#splitcol-overload-3">splitCol overload (3)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#splitcol-overload-4">splitCol overload (4)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#compoundsort">compoundSort</a></li>
<li class="toctree-l3"><a class="reference internal" href="#directgroupaggregate">directGroupAggregate</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#directgroupaggregate-overload-1">directGroupAggregate overload (1)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#directgroupaggregate-overload-2">directGroupAggregate overload (2)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#duplicatecol">duplicateCol</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dynamiceval">dynamicEval</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dynamicfilter">dynamicFilter</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#dynamicfilter-overload-1">dynamicFilter overload (1)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dynamicfilter-overload-2">dynamicFilter overload (2)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dynamicfilter-overload-3">dynamicFilter overload (3)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dynamicfilter-overload-4">dynamicFilter overload (4)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#groupaggregate">groupAggregate</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#groupaggregate-overload-1">groupAggregate overload (1)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#groupaggregate-overload-2">groupAggregate overload (2)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#groupaggregate-overload-3">groupAggregate overload (3)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#groupaggregate-overload-4">groupAggregate overload (4)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#hashantijoin">hashAntiJoin</a></li>
<li class="toctree-l3"><a class="reference internal" href="#hashgroupaggregate">hashGroupAggregate</a></li>
<li class="toctree-l3"><a class="reference internal" href="#hashjoinmpu">hashJoinMPU</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#hashjoinmpu-overload-1">hashJoinMPU overload (1)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#hashjoinmpu-overload-2">hashJoinMPU overload (2)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#hashjoinv3">hashJoinV3</a></li>
<li class="toctree-l3"><a class="reference internal" href="#hashbuildprobev3">hashBuildProbeV3</a></li>
<li class="toctree-l3"><a class="reference internal" href="#hashjoinv4">hashJoinV4</a></li>
<li class="toctree-l3"><a class="reference internal" href="#hashbuildprobev4">hashBuildProbeV4</a></li>
<li class="toctree-l3"><a class="reference internal" href="#hashlookup3">hashLookup3</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#hashlookup3-overload-1">hashLookup3 overload (1)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#hashlookup3-overload-2">hashLookup3 overload (2)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#hashlookup3-overload-3">hashLookup3 overload (3)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#hashmultijoin">hashMultiJoin</a></li>
<li class="toctree-l3"><a class="reference internal" href="#hashmurmur3">hashMurmur3</a></li>
<li class="toctree-l3"><a class="reference internal" href="#hashpartition">hashPartition</a></li>
<li class="toctree-l3"><a class="reference internal" href="#hashsemijoin">hashSemiJoin</a></li>
<li class="toctree-l3"><a class="reference internal" href="#insertsort">insertSort</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#insertsort-overload-1">insertSort overload (1)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#insertsort-overload-2">insertSort overload (2)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#mergejoin">mergeJoin</a></li>
<li class="toctree-l3"><a class="reference internal" href="#mergeleftjoin">mergeLeftJoin</a></li>
<li class="toctree-l3"><a class="reference internal" href="#mergesort">mergeSort</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#mergesort-overload-1">mergeSort overload (1)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mergesort-overload-2">mergeSort overload (2)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#nestedloopjoin">nestedLoopJoin</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scancmpstrcol">scanCmpStrCol</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scancol">scanCol</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#scancol-overload-1">scanCol overload (1)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#scancol-overload-2">scanCol overload (2)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#scancol-overload-3">scanCol overload (3)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#scancol-overload-4">scanCol overload (4)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#scancol-overload-5">scanCol overload (5)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#scancol-overload-6">scanCol overload (6)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#scancol-overload-7">scanCol overload (7)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#scancol-overload-8">scanCol overload (8)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#scancol-overload-9">scanCol overload (9)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#scancol-overload-10">scanCol overload (10)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#scancol-overload-11">scanCol overload (11)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#scancol-overload-12">scanCol overload (12)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#scancol-overload-13">scanCol overload (13)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#staticeval">staticEval</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#staticeval-overload-1">staticEval overload (1)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#staticeval-overload-2">staticEval overload (2)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#staticeval-overload-3">staticEval overload (3)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#staticeval-overload-4">staticEval overload (4)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="internals.html">Primitive Design Internals</a></li>
<li class="toctree-l2"><a class="reference internal" href="query_demo.html">Query-Specific Acceleration Demo</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../gqe_guide/L2.html">L2 GQE Kernel User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gqe_guide/L3.html">L3 GQE Overlay User Guide</a></li>
</ul>
<p class="caption"><span class="caption-text">Benchmark Result</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../benchmark/tpc_h.html">TPC-H Queries with GQE</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Vitis Database Library</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="L1.html">L1 Module User Guide</a> &raquo;</li>
        
      <li>Primitive APIs in <code class="docutils literal notranslate"><span class="pre">xf::database</span></code></li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="primitive-apis-in-xf-database">
<h1>Primitive APIs in <code class="docutils literal notranslate"><span class="pre">xf::database</span></code><a class="headerlink" href="#primitive-apis-in-xf-database" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
<div class="section" id="aggregate">
<span id="cid-xf-database-aggregate"></span><span id="doxid-namespacexf-1-1database-1a1c571308e9d677a298740676270a0696"></span><h2>aggregate<a class="headerlink" href="#aggregate" title="Permalink to this headline">¶</a></h2>
<div class="section" id="aggregate-overload-1">
<h3>aggregate overload (1)<a class="headerlink" href="#aggregate-overload-1" title="Permalink to this headline">¶</a></h3>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/aggregate.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="n">AggregateOp</span> <span class="n">op</span><span class="p">,</span>
    <span class="k">typename</span> <span class="n">T</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">aggregate</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;&amp;</span> <span class="n">in_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">in_e_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;&amp;</span> <span class="n">out_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">out_e_strm</span>
    <span class="p">)</span>
</pre>
<p>Overload for most common aggregations.</p>
<p>As shown below in the parameters, this function can calculate one of a range of statistics, including minimal, maximal, average (mean), variance, L1 norm, L2 norm. It can also calculate the sum and count.</p>
<p>The limitation in this function is that the output data type must match with the input data type. In some cases, the sum or count may overflow the output type, but it can be safely covered by other aggregation overloads.</p>
<p>Note that minimum, maximum, sum, count, number of non-zero, L1 norm as well as L2 norm aggregate functions will all be returned as zero when the input is empty.</p>
<p>For group-by aggregation, please refer to the <code class="docutils literal notranslate"><span class="pre">hashGroupAggregateMPU</span></code> primitive.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>op</td>
<td>the aggregate operator: AOP_SUM, AOP_MAX, AOP_MIN, AOP_MEAN, AOP_VARIANCE, AOP_NORML1 or AOP_NORML2</td>
</tr>
<tr class="row-even"><td>T</td>
<td>the data type of input and output streams</td>
</tr>
<tr class="row-odd"><td>in_strm</td>
<td>input data stream</td>
</tr>
<tr class="row-even"><td>in_e_strm</td>
<td>end flag stream for input data</td>
</tr>
<tr class="row-odd"><td>out_strm</td>
<td>output data stream</td>
</tr>
<tr class="row-even"><td>out_e_strm</td>
<td>end flag stream for output data</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="aggregate-overload-2">
<span id="cid-xf-database-aggregate-2"></span><span id="doxid-namespacexf-1-1database-1ac3d446260e4a3d074686410fc1f60ab3"></span><h3>aggregate overload (2)<a class="headerlink" href="#aggregate-overload-2" title="Permalink to this headline">¶</a></h3>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/aggregate.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="n">AggregateOp</span> <span class="n">op</span><span class="p">,</span>
    <span class="k">typename</span> <span class="n">T</span><span class="p">,</span>
    <span class="k">typename</span> <span class="n">T2</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">aggregate</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;&amp;</span> <span class="n">in_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">in_e_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">T2</span><span class="o">&gt;&amp;</span> <span class="n">out_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">out_e_strm</span>
    <span class="p">)</span>
</pre>
<p>Aggregate function overload for SUM operation.</p>
<p>The output type can be inferred to be different from input type, this allows the sum value to have more precision bits than input, and avoid overflow.</p>
<p>Note that sum aggregate function will be returned as zero when the input is empty.</p>
<p>For group-by aggregation, please refer to the <code class="docutils literal notranslate"><span class="pre">hashGroupAggregateMPU</span></code> primitive.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>op</td>
<td>the aggregate operator: AOP_SUM</td>
</tr>
<tr class="row-even"><td>T</td>
<td>the data type of input stream, inferred from argument</td>
</tr>
<tr class="row-odd"><td>T2</td>
<td>the data type of output stream, inferred from argument</td>
</tr>
<tr class="row-even"><td>in_strm</td>
<td>input data stream</td>
</tr>
<tr class="row-odd"><td>in_e_strm</td>
<td>end flag stream for input data</td>
</tr>
<tr class="row-even"><td>out_strm</td>
<td>output data stream</td>
</tr>
<tr class="row-odd"><td>out_e_strm</td>
<td>end flag stream for output data</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="aggregate-overload-3">
<span id="cid-xf-database-aggregate-3"></span><span id="doxid-namespacexf-1-1database-1aaed0653e6169b885b388a2f6ca38cfe3"></span><h3>aggregate overload (3)<a class="headerlink" href="#aggregate-overload-3" title="Permalink to this headline">¶</a></h3>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/aggregate.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="n">AggregateOp</span> <span class="n">op</span><span class="p">,</span>
    <span class="k">typename</span> <span class="n">T</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">aggregate</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;&amp;</span> <span class="n">in_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">in_e_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">uint64_t</span><span class="o">&gt;&amp;</span> <span class="n">out_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">out_e_strm</span>
    <span class="p">)</span>
</pre>
<p>Aggregate function overload for counting.</p>
<p>This function counts the number of input rows, or number of non-zero input rows, and returns the count as <code class="docutils literal notranslate"><span class="pre">uint64_t</span></code> value.</p>
<p>Note that count aggregate function will be returned as zero when the input is empty.</p>
<p>For group-by aggregation, please refer to the <code class="docutils literal notranslate"><span class="pre">hashGroupAggregateMPU</span></code> primitive.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>op</td>
<td>the aggregate operator: AOP_COUNT or AOP_COUNTNONZEROS</td>
</tr>
<tr class="row-even"><td>T</td>
<td>the data type of input stream, inferred from argument</td>
</tr>
<tr class="row-odd"><td>in_strm</td>
<td>input data stream</td>
</tr>
<tr class="row-even"><td>in_e_strm</td>
<td>end flag stream for input data</td>
</tr>
<tr class="row-odd"><td>out_strm</td>
<td>output data stream</td>
</tr>
<tr class="row-even"><td>out_e_strm</td>
<td>end flag stream for output data</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="bitonicsort">
<span id="cid-xf-database-bitonicsort"></span><span id="doxid-namespacexf-1-1database-1aed29c2843bdb40e2ac9099bace873804"></span><h2>bitonicSort<a class="headerlink" href="#bitonicsort" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/bitonic_sort.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="k">typename</span> <span class="n">Key_Type</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">BitonicSortNumber</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">bitonicSort</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">Key_Type</span><span class="o">&gt;&amp;</span> <span class="n">kin_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">kin_strm_end</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">Key_Type</span><span class="o">&gt;&amp;</span> <span class="n">kout_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">kout_strm_end</span><span class="p">,</span>
    <span class="kt">bool</span> <span class="n">order</span>
    <span class="p">)</span>
</pre>
<p>Bitonic sort is parallel algorithm for sorting.</p>
<p>This algorithms can sort a large vector of data in parallel, and by cascading the sorters into a network it can offer good theoretical throughput.</p>
<p>Although this algorithms is suitable for FPGA acceleration, it does not work well with the row-by-row streaming interface in database library. <strong>Please consider this primitive as a demo, and only use it by deriving from this code.</strong> Alternative sorting algorithms in this library are <code class="docutils literal notranslate"><span class="pre">insertSort</span></code> and <code class="docutils literal notranslate"><span class="pre">mergeSort</span></code> .</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Key_Type</td>
<td>the input and output key type</td>
</tr>
<tr class="row-even"><td>BitonicSortNumber</td>
<td>the parallel number</td>
</tr>
<tr class="row-odd"><td>kin_strm</td>
<td>input key stream</td>
</tr>
<tr class="row-even"><td>kin_strm_end</td>
<td>end flag stream for input key</td>
</tr>
<tr class="row-odd"><td>kout_strm</td>
<td>output key stream</td>
</tr>
<tr class="row-even"><td>kout_strm_end</td>
<td>end flag stream for output key</td>
</tr>
<tr class="row-odd"><td>order</td>
<td>1 for ascending or 0 for descending sort</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="bfgen">
<span id="cid-xf-database-bfgen"></span><span id="doxid-namespacexf-1-1database-1a005f09635e21aaaff2b6927bd6941aba"></span><h2>bfGen<a class="headerlink" href="#bfgen" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/bloom_filter.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="kt">bool</span> <span class="n">IS_BRAM</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">STR_IN_W</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">BV_W</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">bfGen</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">STR_IN_W</span><span class="o">&gt;&gt;&amp;</span> <span class="n">msg_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">in_e_strm</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">IS_BRAM</span><span class="o">?</span><span class="mi">16</span><span class="o">:</span><span class="mi">72</span><span class="o">&gt;*</span> <span class="n">bit_vector_ptr0</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">IS_BRAM</span><span class="o">?</span><span class="mi">16</span><span class="o">:</span><span class="mi">72</span><span class="o">&gt;*</span> <span class="n">bit_vector_ptr1</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">IS_BRAM</span><span class="o">?</span><span class="mi">16</span><span class="o">:</span><span class="mi">72</span><span class="o">&gt;*</span> <span class="n">bit_vector_ptr2</span>
    <span class="p">)</span>
</pre>
<p>Generate the bloomfilter in on-chip RAM blocks.</p>
<p>This primitive calculates hash of input values, and marks corresponding bits in the on-chip RAM blocks. RAM blocks can be configured to be 18-bit BRAM or 72-bit URAM.</p>
<p>The bloom-filter bit vectors are passed as three pointers, and behind the scene, one hash value is calculated and manipulated into three distint marker locatins in these vectors.</p>
<p>To check for existance of a value with generated vector, use the <code class="docutils literal notranslate"><span class="pre">bfCheck</span></code> primitive.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>STR_IN_W</td>
<td>W width of the streamed input message, e.g., W=512.</td>
</tr>
<tr class="row-even"><td>BV_W</td>
<td>width of the hash value. ptr0, ptr1 and ptr2 should point at MEM_SPACE=2^BV_W (bit).</td>
</tr>
<tr class="row-odd"><td>msg_strm</td>
<td>input message stream.</td>
</tr>
<tr class="row-even"><td>in_e_strm</td>
<td>the flag that indicate the end of input message stream.</td>
</tr>
<tr class="row-odd"><td>bit_vector_ptr0</td>
<td>the pointer of bit_vector0.</td>
</tr>
<tr class="row-even"><td>bit_vector_ptr1</td>
<td>the pointer of bit_vector1.</td>
</tr>
<tr class="row-odd"><td>bit_vector_ptr2</td>
<td>the pointer of bit_vector2.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="bfgenstream">
<span id="cid-xf-database-bfgenstream"></span><span id="doxid-namespacexf-1-1database-1a93c03c8a6ce280434e65a865b85cad67"></span><h2>bfGenStream<a class="headerlink" href="#bfgenstream" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/bloom_filter.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="kt">bool</span> <span class="n">IS_BRAM</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">STR_IN_W</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">BV_W</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">bfGenStream</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">STR_IN_W</span><span class="o">&gt;&gt;&amp;</span> <span class="n">msg_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">in_e_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">IS_BRAM</span><span class="o">?</span><span class="mi">16</span><span class="o">:</span><span class="mi">64</span><span class="o">&gt;&gt;&amp;</span> <span class="n">bit_vet_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">out_e_strm</span>
    <span class="p">)</span>
</pre>
<p>Generate the bloomfilter in on-chip RAM blocks, and emit the vectors upon finish.</p>
<p>This primitive calculates hash values of input, and marks corresponding bits in the on-chip RAM blocks. RAM blocks can be configured to be 18-bit BRAM or 72-bit URAM.</p>
<p>The bloom-filter bit vectors are built into internally allocated buffers, and streamed out after the filter has been fully built.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>STR_IN_W</td>
<td>W width of the streamed input message, e.g., W=512.</td>
</tr>
<tr class="row-even"><td>BV_W</td>
<td>width of the hash value. bit_vet_strm should send out MEM_SPACE=2^BV_W (bit) data in total.</td>
</tr>
<tr class="row-odd"><td>msg_strm</td>
<td>input message stream.</td>
</tr>
<tr class="row-even"><td>in_e_strm</td>
<td>the flag that indicate the end of input message stream.</td>
</tr>
<tr class="row-odd"><td>bit_vet_strm</td>
<td>the output stream of bit_vector.</td>
</tr>
<tr class="row-even"><td>out_e_strm</td>
<td>the flag that indicate the end of output stream.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="bfcheck">
<span id="cid-xf-database-bfcheck"></span><span id="doxid-namespacexf-1-1database-1a672e10a9f66cee3048832648c99ad905"></span><h2>bfCheck<a class="headerlink" href="#bfcheck" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/bloom_filter.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="kt">bool</span> <span class="n">IS_BRAM</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">STR_IN_W</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">BV_W</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">bfCheck</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">STR_IN_W</span><span class="o">&gt;&gt;&amp;</span> <span class="n">msg_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">in_e_strm</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">IS_BRAM</span><span class="o">?</span><span class="mi">16</span><span class="o">:</span><span class="mi">72</span><span class="o">&gt;*</span> <span class="n">bit_vector_ptr0</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">IS_BRAM</span><span class="o">?</span><span class="mi">16</span><span class="o">:</span><span class="mi">72</span><span class="o">&gt;*</span> <span class="n">bit_vector_ptr1</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">IS_BRAM</span><span class="o">?</span><span class="mi">16</span><span class="o">:</span><span class="mi">72</span><span class="o">&gt;*</span> <span class="n">bit_vector_ptr2</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">out_v_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">out_e_strm</span>
    <span class="p">)</span>
</pre>
<p>Check existance of value using bloom-filter vectors.</p>
<p>This primitive is designed to work with the bloom-filter vectors generated by the <code class="docutils literal notranslate"><span class="pre">bfGen</span></code> primitive. Basically, it detects the existance of value by hashing it and check for the corresponding vector bits. When hit, it is likely to be in the set of generating values, otherwise, it cannot be element of the set. RAM blocks can be configured to be 18-bit BRAM or 72-bit URAM, the setting must match <code class="docutils literal notranslate"><span class="pre">bfGen</span></code> .</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>IS_BRAM</td>
<td>choose which types of memory to use. True for BRAM. False for URAM</td>
</tr>
<tr class="row-even"><td>STR_IN_W</td>
<td>W width of the streamed input message, e.g., W=512.</td>
</tr>
<tr class="row-odd"><td>BV_W</td>
<td>width of the hash value. ptr0, ptr1 and ptr2 should point at MEM_SPACE=2^BV_W (bit).</td>
</tr>
<tr class="row-even"><td>msg_strm</td>
<td>input message stream.</td>
</tr>
<tr class="row-odd"><td>in_e_strm</td>
<td>the flag that indicate the end of input message stream.</td>
</tr>
<tr class="row-even"><td>bit_vector_ptr0</td>
<td>the pointer of bit_vector0.</td>
</tr>
<tr class="row-odd"><td>bit_vector_ptr1</td>
<td>the pointer of bit_vector1.</td>
</tr>
<tr class="row-even"><td>bit_vector_ptr2</td>
<td>the pointer of bit_vector2.</td>
</tr>
<tr class="row-odd"><td>out_v_strm</td>
<td>the output stream that indicate whether the value may exist &lt;1 for true, 0 for false&gt;.</td>
</tr>
<tr class="row-even"><td>out_e_strm</td>
<td>the output end flag stream.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="combinecol">
<span id="cid-xf-database-combinecol"></span><span id="doxid-namespacexf-1-1database-1a162565f8b93c2bf7de01b03227ae4ca0"></span><h2>combineCol<a class="headerlink" href="#combinecol" title="Permalink to this headline">¶</a></h2>
<div class="section" id="combinecol-overload-1">
<h3>combineCol overload (1)<a class="headerlink" href="#combinecol-overload-1" title="Permalink to this headline">¶</a></h3>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/combine_split_col.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="kt">int</span> <span class="n">_WCol1</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">_WCol2</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">_WColOut</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">combineCol</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">_WCol1</span><span class="o">&gt;&gt;&amp;</span> <span class="n">din1_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">_WCol2</span><span class="o">&gt;&gt;&amp;</span> <span class="n">din2_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">in_e_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">_WColOut</span><span class="o">&gt;&gt;&amp;</span> <span class="n">dout_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">out_e_strm</span>
    <span class="p">)</span>
</pre>
<p>Combines two columns into one.</p>
<p>Columns are passed through streams of certain width in hardware. Normally, each column uses one stream, but for some primitives, the processing semantic abstract the columns into a couple of groups, and trait each group as a whole. To make calling such primitives easier, the combine column primitive fuses data of same row but different columns into one wide column.</p>
<p>The counter part of this primitive is <code class="docutils literal notranslate"><span class="pre">splitCol</span></code> .</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>_WCol1</td>
<td>the width of 1st input stream.</td>
</tr>
<tr class="row-even"><td>_WCol2</td>
<td>the width of 2nd input stream.</td>
</tr>
<tr class="row-odd"><td>_WColOut</td>
<td>the width of output stream.</td>
</tr>
<tr class="row-even"><td>din1_strm</td>
<td>1st input data stream.</td>
</tr>
<tr class="row-odd"><td>din2_strm</td>
<td>2nd input data stream.</td>
</tr>
<tr class="row-even"><td>in_e_strm</td>
<td>end flag stream for input data.</td>
</tr>
<tr class="row-odd"><td>dout_strm</td>
<td>output data stream.</td>
</tr>
<tr class="row-even"><td>out_e_strm</td>
<td>end flag stream for output data.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="combinecol-overload-2">
<span id="cid-xf-database-combinecol-2"></span><span id="doxid-namespacexf-1-1database-1ad3178355b6b5e51b444bf7de4b9277e7"></span><h3>combineCol overload (2)<a class="headerlink" href="#combinecol-overload-2" title="Permalink to this headline">¶</a></h3>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/combine_split_col.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="kt">int</span> <span class="n">_WCol1</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">_WCol2</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">_WCol3</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">_WColOut</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">combineCol</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">_WCol1</span><span class="o">&gt;&gt;&amp;</span> <span class="n">din1_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">_WCol2</span><span class="o">&gt;&gt;&amp;</span> <span class="n">din2_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">_WCol3</span><span class="o">&gt;&gt;&amp;</span> <span class="n">din3_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">in_e_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">_WColOut</span><span class="o">&gt;&gt;&amp;</span> <span class="n">dout_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">out_e_strm</span>
    <span class="p">)</span>
</pre>
<p>Combines three columns into one.</p>
<p>Columns are passed through streams of certain width in hardware. Normally, each column uses one stream, but for some primitives, the processing semantic abstract the columns into a couple of groups, and trait each group as a whole. To make calling such primitives easier, the combine column primitive fuses data of same row but different columns into one wide column.</p>
<p>The counter part of this primitive is <code class="docutils literal notranslate"><span class="pre">splitCol</span></code> .</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>_WCol1</td>
<td>the width of 1st input stream.</td>
</tr>
<tr class="row-even"><td>_WCol2</td>
<td>the width of 2nd input stream.</td>
</tr>
<tr class="row-odd"><td>_WCol3</td>
<td>the width of 3rd input stream.</td>
</tr>
<tr class="row-even"><td>_WColOut</td>
<td>the width of output stream.</td>
</tr>
<tr class="row-odd"><td>din1_strm</td>
<td>1st input data stream.</td>
</tr>
<tr class="row-even"><td>din2_strm</td>
<td>2nd input data stream.</td>
</tr>
<tr class="row-odd"><td>din3_strm</td>
<td>3rd input data stream.</td>
</tr>
<tr class="row-even"><td>in_e_strm</td>
<td>end flag stream for input data.</td>
</tr>
<tr class="row-odd"><td>dout_strm</td>
<td>output data stream.</td>
</tr>
<tr class="row-even"><td>out_e_strm</td>
<td>end flag stream for output data.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="combinecol-overload-3">
<span id="cid-xf-database-combinecol-3"></span><span id="doxid-namespacexf-1-1database-1a4f6c3f8afc589f338940ca58ce1398bd"></span><h3>combineCol overload (3)<a class="headerlink" href="#combinecol-overload-3" title="Permalink to this headline">¶</a></h3>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/combine_split_col.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="kt">int</span> <span class="n">_WCol1</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">_WCol2</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">_WCol3</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">_WCol4</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">_WColOut</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">combineCol</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">_WCol1</span><span class="o">&gt;&gt;&amp;</span> <span class="n">din1_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">_WCol2</span><span class="o">&gt;&gt;&amp;</span> <span class="n">din2_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">_WCol3</span><span class="o">&gt;&gt;&amp;</span> <span class="n">din3_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">_WCol4</span><span class="o">&gt;&gt;&amp;</span> <span class="n">din4_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">in_e_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">_WColOut</span><span class="o">&gt;&gt;&amp;</span> <span class="n">dout_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">out_e_strm</span>
    <span class="p">)</span>
</pre>
<p>Combines four columns into one.</p>
<p>Columns are passed through streams of certain width in hardware. Normally, each column uses one stream, but for some primitives, the processing semantic abstract the columns into a couple of groups, and trait each group as a whole. To make calling such primitives easier, the combine column primitive fuses data of same row but different columns into one wide column.</p>
<p>The counter part of this primitive is <code class="docutils literal notranslate"><span class="pre">splitCol</span></code> .</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>_WCol1</td>
<td>the width of 1st input stream.</td>
</tr>
<tr class="row-even"><td>_WCol2</td>
<td>the width of 2nd input stream.</td>
</tr>
<tr class="row-odd"><td>_WCol3</td>
<td>the width of 3rd input stream.</td>
</tr>
<tr class="row-even"><td>_WCol4</td>
<td>the width of 4th input stream.</td>
</tr>
<tr class="row-odd"><td>_WColOut</td>
<td>the width of output stream.</td>
</tr>
<tr class="row-even"><td>din1_strm</td>
<td>1st input data stream.</td>
</tr>
<tr class="row-odd"><td>din2_strm</td>
<td>2nd input data stream.</td>
</tr>
<tr class="row-even"><td>din3_strm</td>
<td>3rd input data stream.</td>
</tr>
<tr class="row-odd"><td>din4_strm</td>
<td>4th input data stream.</td>
</tr>
<tr class="row-even"><td>in_e_strm</td>
<td>end flag stream for input data.</td>
</tr>
<tr class="row-odd"><td>dout_strm</td>
<td>output data stream.</td>
</tr>
<tr class="row-even"><td>out_e_strm</td>
<td>end flag stream for output data.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="combinecol-overload-4">
<span id="cid-xf-database-combinecol-4"></span><span id="doxid-namespacexf-1-1database-1a2cf3e394e23dc24c8139e3e11168d979"></span><h3>combineCol overload (4)<a class="headerlink" href="#combinecol-overload-4" title="Permalink to this headline">¶</a></h3>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/combine_split_col.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="kt">int</span> <span class="n">_WCol1</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">_WCol2</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">_WCol3</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">_WCol4</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">_WCol5</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">_WColOut</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">combineCol</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">_WCol1</span><span class="o">&gt;&gt;&amp;</span> <span class="n">din1_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">_WCol2</span><span class="o">&gt;&gt;&amp;</span> <span class="n">din2_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">_WCol3</span><span class="o">&gt;&gt;&amp;</span> <span class="n">din3_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">_WCol4</span><span class="o">&gt;&gt;&amp;</span> <span class="n">din4_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">_WCol5</span><span class="o">&gt;&gt;&amp;</span> <span class="n">din5_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">in_e_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">_WColOut</span><span class="o">&gt;&gt;&amp;</span> <span class="n">dout_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">out_e_strm</span>
    <span class="p">)</span>
</pre>
<p>Combines five columns into one.</p>
<p>Columns are passed through streams of certain width in hardware. Normally, each column uses one stream, but for some primitives, the processing semantic abstract the columns into a couple of groups, and trait each group as a whole. To make calling such primitives easier, the combine column primitive fuses data of same row but different columns into one wide column.</p>
<p>The counter part of this primitive is <code class="docutils literal notranslate"><span class="pre">splitCol</span></code> .</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>_WCol1</td>
<td>the width of 1st input stream.</td>
</tr>
<tr class="row-even"><td>_WCol2</td>
<td>the width of 2nd input stream.</td>
</tr>
<tr class="row-odd"><td>_WCol3</td>
<td>the width of 3rd input stream.</td>
</tr>
<tr class="row-even"><td>_WCol4</td>
<td>the width of 4th input stream.</td>
</tr>
<tr class="row-odd"><td>_WCol5</td>
<td>the width of 5th input stream.</td>
</tr>
<tr class="row-even"><td>_WColOut</td>
<td>the width of output stream.</td>
</tr>
<tr class="row-odd"><td>din1_strm</td>
<td>1st input data stream.</td>
</tr>
<tr class="row-even"><td>din2_strm</td>
<td>2nd input data stream.</td>
</tr>
<tr class="row-odd"><td>din3_strm</td>
<td>3rd input data stream.</td>
</tr>
<tr class="row-even"><td>din4_strm</td>
<td>4th input data stream.</td>
</tr>
<tr class="row-odd"><td>din5_strm</td>
<td>5th input data stream.</td>
</tr>
<tr class="row-even"><td>in_e_strm</td>
<td>end flag stream for input data.</td>
</tr>
<tr class="row-odd"><td>dout_strm</td>
<td>output data stream.</td>
</tr>
<tr class="row-even"><td>out_e_strm</td>
<td>end flag stream for output data.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="splitcol">
<span id="cid-xf-database-splitcol"></span><span id="doxid-namespacexf-1-1database-1a29263e93192d48dc3132c0bba6816637"></span><h2>splitCol<a class="headerlink" href="#splitcol" title="Permalink to this headline">¶</a></h2>
<div class="section" id="splitcol-overload-1">
<h3>splitCol overload (1)<a class="headerlink" href="#splitcol-overload-1" title="Permalink to this headline">¶</a></h3>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/combine_split_col.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="kt">int</span> <span class="n">_WColIn</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">_WCol1</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">_WCol2</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">splitCol</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">_WColIn</span><span class="o">&gt;&gt;&amp;</span> <span class="n">din_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">in_e_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">_WCol1</span><span class="o">&gt;&gt;&amp;</span> <span class="n">dout1_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">_WCol2</span><span class="o">&gt;&gt;&amp;</span> <span class="n">dout2_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">out_e_strm</span>
    <span class="p">)</span>
</pre>
<p>Split previously combined columns into two.</p>
<p>Columns are passed through streams of certain width in hardware. Normally, each column uses one stream, but for some primitives, the processing semantic abstract the columns into a couple of groups, and trait each group as a whole. To make calling such primitives easier, the split column primitive breaks the wide output stream into independent column-specific streams.</p>
<p>The counter part of this primitive is <code class="docutils literal notranslate"><span class="pre">combineCol</span></code> .</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>_WColIn</td>
<td>the width of input stream.</td>
</tr>
<tr class="row-even"><td>_WCol1</td>
<td>the width of 1st output stream.</td>
</tr>
<tr class="row-odd"><td>_WCol2</td>
<td>the width of 2nd output stream.</td>
</tr>
<tr class="row-even"><td>din_strm</td>
<td>input data stream.</td>
</tr>
<tr class="row-odd"><td>in_e_strm</td>
<td>end flag stream for input data.</td>
</tr>
<tr class="row-even"><td>dout1_strm</td>
<td>1st output data stream.</td>
</tr>
<tr class="row-odd"><td>dout2_strm</td>
<td>2nd output data stream.</td>
</tr>
<tr class="row-even"><td>out_e_strm</td>
<td>end flag stream for output data.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="splitcol-overload-2">
<span id="cid-xf-database-splitcol-2"></span><span id="doxid-namespacexf-1-1database-1aca388bdbf65fb5c5ddf43d42792dd04d"></span><h3>splitCol overload (2)<a class="headerlink" href="#splitcol-overload-2" title="Permalink to this headline">¶</a></h3>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/combine_split_col.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="kt">int</span> <span class="n">_WColIn</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">_WCol1</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">_WCol2</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">_WCol3</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">splitCol</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">_WColIn</span><span class="o">&gt;&gt;&amp;</span> <span class="n">din_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">in_e_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">_WCol1</span><span class="o">&gt;&gt;&amp;</span> <span class="n">dout1_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">_WCol2</span><span class="o">&gt;&gt;&amp;</span> <span class="n">dout2_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">_WCol3</span><span class="o">&gt;&gt;&amp;</span> <span class="n">dout3_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">out_e_strm</span>
    <span class="p">)</span>
</pre>
<p>Split previously combined columns into three.</p>
<p>Columns are passed through streams of certain width in hardware. Normally, each column uses one stream, but for some primitives, the processing semantic abstract the columns into a couple of groups, and trait each group as a whole. To make calling such primitives easier, the split column primitive breaks the wide output stream into independent column-specific streams.</p>
<p>The counter part of this primitive is <code class="docutils literal notranslate"><span class="pre">combineCol</span></code> .</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>_WColIn</td>
<td>the width of input stream.</td>
</tr>
<tr class="row-even"><td>_WCol1</td>
<td>the width of 1st output stream.</td>
</tr>
<tr class="row-odd"><td>_WCol2</td>
<td>the width of 2nd output stream.</td>
</tr>
<tr class="row-even"><td>_WCol3</td>
<td>the width of 3rd output stream.</td>
</tr>
<tr class="row-odd"><td>din_strm</td>
<td>input data stream</td>
</tr>
<tr class="row-even"><td>in_e_strm</td>
<td>end flag stream for input data</td>
</tr>
<tr class="row-odd"><td>dout1_strm</td>
<td>1st output data stream</td>
</tr>
<tr class="row-even"><td>dout2_strm</td>
<td>2nd output data stream</td>
</tr>
<tr class="row-odd"><td>dout3_strm</td>
<td>3rd output data stream</td>
</tr>
<tr class="row-even"><td>out_e_strm</td>
<td>end flag stream for output data</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="splitcol-overload-3">
<span id="cid-xf-database-splitcol-3"></span><span id="doxid-namespacexf-1-1database-1aaab7cfc96a5c80b89774643cb56a13a1"></span><h3>splitCol overload (3)<a class="headerlink" href="#splitcol-overload-3" title="Permalink to this headline">¶</a></h3>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/combine_split_col.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="kt">int</span> <span class="n">_WColIn</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">_WCol1</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">_WCol2</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">_WCol3</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">_WCol4</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">splitCol</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">_WColIn</span><span class="o">&gt;&gt;&amp;</span> <span class="n">din_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">in_e_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">_WCol1</span><span class="o">&gt;&gt;&amp;</span> <span class="n">dout1_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">_WCol2</span><span class="o">&gt;&gt;&amp;</span> <span class="n">dout2_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">_WCol3</span><span class="o">&gt;&gt;&amp;</span> <span class="n">dout3_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">_WCol4</span><span class="o">&gt;&gt;&amp;</span> <span class="n">dout4_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">out_e_strm</span>
    <span class="p">)</span>
</pre>
<p>Split previously combined columns into four.</p>
<p>Columns are passed through streams of certain width in hardware. Normally, each column uses one stream, but for some primitives, the processing semantic abstract the columns into a couple of groups, and trait each group as a whole. To make calling such primitives easier, the split column primitive breaks the wide output stream into independent column-specific streams.</p>
<p>The counter part of this primitive is <code class="docutils literal notranslate"><span class="pre">combineCol</span></code> .</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>_WColIn</td>
<td>the width of input stream.</td>
</tr>
<tr class="row-even"><td>_WCol1</td>
<td>the width of 1st output stream.</td>
</tr>
<tr class="row-odd"><td>_WCol2</td>
<td>the width of 2nd output stream.</td>
</tr>
<tr class="row-even"><td>_WCol3</td>
<td>the width of 3rd output stream.</td>
</tr>
<tr class="row-odd"><td>_WCol4</td>
<td>the width of 4th output stream.</td>
</tr>
<tr class="row-even"><td>din_strm</td>
<td>input data stream</td>
</tr>
<tr class="row-odd"><td>in_e_strm</td>
<td>end flag stream for input data</td>
</tr>
<tr class="row-even"><td>dout1_strm</td>
<td>1st output data stream</td>
</tr>
<tr class="row-odd"><td>dout2_strm</td>
<td>2nd output data stream</td>
</tr>
<tr class="row-even"><td>dout3_strm</td>
<td>3rd output data stream</td>
</tr>
<tr class="row-odd"><td>dout4_strm</td>
<td>4th output data stream</td>
</tr>
<tr class="row-even"><td>out_e_strm</td>
<td>end flag stream for output data</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="splitcol-overload-4">
<span id="cid-xf-database-splitcol-4"></span><span id="doxid-namespacexf-1-1database-1a78c859f95b21236a539a2b0f35f42c84"></span><h3>splitCol overload (4)<a class="headerlink" href="#splitcol-overload-4" title="Permalink to this headline">¶</a></h3>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/combine_split_col.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="kt">int</span> <span class="n">_WColIn</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">_WCol1</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">_WCol2</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">_WCol3</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">_WCol4</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">_WCol5</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">splitCol</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">_WColIn</span><span class="o">&gt;&gt;&amp;</span> <span class="n">din_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">in_e_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">_WCol1</span><span class="o">&gt;&gt;&amp;</span> <span class="n">dout1_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">_WCol2</span><span class="o">&gt;&gt;&amp;</span> <span class="n">dout2_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">_WCol3</span><span class="o">&gt;&gt;&amp;</span> <span class="n">dout3_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">_WCol4</span><span class="o">&gt;&gt;&amp;</span> <span class="n">dout4_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">_WCol5</span><span class="o">&gt;&gt;&amp;</span> <span class="n">dout5_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">out_e_strm</span>
    <span class="p">)</span>
</pre>
<p>Split previously combined columns into five.</p>
<p>Columns are passed through streams of certain width in hardware. Normally, each column uses one stream, but for some primitives, the processing semantic abstract the columns into a couple of groups, and trait each group as a whole. To make calling such primitives easier, the split column primitive breaks the wide output stream into independent column-specific streams.</p>
<p>The counter part of this primitive is <code class="docutils literal notranslate"><span class="pre">combineCol</span></code> .</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>_WColIn</td>
<td>the width of input stream.</td>
</tr>
<tr class="row-even"><td>_WCol1</td>
<td>the width of 1st output stream.</td>
</tr>
<tr class="row-odd"><td>_WCol2</td>
<td>the width of 2nd output stream.</td>
</tr>
<tr class="row-even"><td>_WCol3</td>
<td>the width of 3rd output stream.</td>
</tr>
<tr class="row-odd"><td>_WCol4</td>
<td>the width of 4th output stream.</td>
</tr>
<tr class="row-even"><td>_WCol5</td>
<td>the width of 5th output stream.</td>
</tr>
<tr class="row-odd"><td>din_strm</td>
<td>input data stream</td>
</tr>
<tr class="row-even"><td>in_e_strm</td>
<td>end flag stream for input data</td>
</tr>
<tr class="row-odd"><td>dout1_strm</td>
<td>1st output data stream</td>
</tr>
<tr class="row-even"><td>dout2_strm</td>
<td>2nd output data stream</td>
</tr>
<tr class="row-odd"><td>dout3_strm</td>
<td>3rd output data stream</td>
</tr>
<tr class="row-even"><td>dout4_strm</td>
<td>4th output data stream</td>
</tr>
<tr class="row-odd"><td>dout5_strm</td>
<td>5th output data stream</td>
</tr>
<tr class="row-even"><td>out_e_strm</td>
<td>end flag stream for output data</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="compoundsort">
<span id="cid-xf-database-compoundsort"></span><span id="doxid-namespacexf-1-1database-1ac6c5ff325a84131a1c8f9eac48cda561"></span><h2>compoundSort<a class="headerlink" href="#compoundsort" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/compound_sort.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="k">typename</span> <span class="n">KEY_TYPE</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">SORT_LEN</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">INSERT_LEN</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">compoundSort</span> <span class="p">(</span>
    <span class="kt">bool</span> <span class="n">order</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">KEY_TYPE</span><span class="o">&gt;&amp;</span> <span class="n">inKeyStrm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">inEndStrm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">KEY_TYPE</span><span class="o">&gt;&amp;</span> <span class="n">outKeyStrm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">outEndStrm</span>
    <span class="p">)</span>
</pre>
<p>compoundSort sort the key based on insert sort and merge sort.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>KEY_TYPE</td>
<td>key type</td>
</tr>
<tr class="row-even"><td>SORT_LEN</td>
<td>Maximum support sort length, between 16K to 2M, but it must be an integer power of 2.</td>
</tr>
<tr class="row-odd"><td>INSERT_LEN</td>
<td>insert sort length, maximum length 1024 (recommend)</td>
</tr>
<tr class="row-even"><td>order</td>
<td>1:sort ascending 0:sort descending</td>
</tr>
<tr class="row-odd"><td>inKeyStrm</td>
<td>input key stream</td>
</tr>
<tr class="row-even"><td>inEndStrm</td>
<td>end flag stream for input key</td>
</tr>
<tr class="row-odd"><td>outKeyStrm</td>
<td>output key-sorted stream</td>
</tr>
<tr class="row-even"><td>outEndStrm</td>
<td>end flag stream for output key</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="directgroupaggregate">
<span id="cid-xf-database-directgroupaggregate"></span><span id="doxid-namespacexf-1-1database-1a318c773fd19bbf5484833517ce9ab044"></span><h2>directGroupAggregate<a class="headerlink" href="#directgroupaggregate" title="Permalink to this headline">¶</a></h2>
<div class="section" id="directgroupaggregate-overload-1">
<h3>directGroupAggregate overload (1)<a class="headerlink" href="#directgroupaggregate-overload-1" title="Permalink to this headline">¶</a></h3>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/direct_group_aggregate.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="kt">int</span> <span class="n">op</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">DATINW</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">DATOUTW</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">DIRECTW</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">directGroupAggregate</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">DATINW</span><span class="o">&gt;&gt;&amp;</span> <span class="n">vin_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">in_e_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">DATOUTW</span><span class="o">&gt;&gt;&amp;</span> <span class="n">vout_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">out_e_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">DIRECTW</span><span class="o">&gt;&gt;&amp;</span> <span class="n">kin_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">DIRECTW</span><span class="o">&gt;&gt;&amp;</span> <span class="n">kout_strm</span>
    <span class="p">)</span>
</pre>
<p>Group-by aggregation with limited key width.</p>
<p>This primitive is suitable for scenario in which the width of group key is limited, so that a on-chip array directly addressed by the key can be created to store the aggregation value. The total storage required is <code class="docutils literal notranslate"><span class="pre">row</span> <span class="pre">size</span> <span class="pre">*</span> <span class="pre">(2</span> <span class="pre">^</span> <span class="pre">key</span> <span class="pre">width)</span></code> .</p>
<p>The following aggregate operators are supported:</p>
<ul class="simple">
<li>AOP_MAX</li>
<li>AOP_MIN</li>
<li>AOP_SUM</li>
<li>AOP_COUNT</li>
<li>AOP_MEAN</li>
<li>AOP_VARIANCE</li>
<li>AOP_NORML1</li>
<li>AOP_NORML2</li>
</ul>
<p>The return value is typed the same as the input payload value.</p>
<blockquote>
<div><div class="admonition caution">
<p class="first admonition-title">Caution</p>
<p class="last">Attention should be paid for overflow in sum or count.</p>
</div>
</div></blockquote>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>op</td>
<td>the aggregate operator, as defined in AggregateOp enum.</td>
</tr>
<tr class="row-even"><td>DATINW</td>
<td>the width of input payload</td>
</tr>
<tr class="row-odd"><td>DATOUTW</td>
<td>the width of output aggr-payload</td>
</tr>
<tr class="row-even"><td>DIRECTW</td>
<td>the width of input and output key</td>
</tr>
<tr class="row-odd"><td>vin_strm</td>
<td>value input</td>
</tr>
<tr class="row-even"><td>in_e_strm</td>
<td>end flag stream for input data</td>
</tr>
<tr class="row-odd"><td>vout_strm</td>
<td>value output</td>
</tr>
<tr class="row-even"><td>out_e_strm</td>
<td>end flag stream for output data</td>
</tr>
<tr class="row-odd"><td>kin_strm</td>
<td>group-by key input</td>
</tr>
<tr class="row-even"><td>kout_strm</td>
<td>group-by key output</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="directgroupaggregate-overload-2">
<span id="cid-xf-database-directgroupaggregate-2"></span><span id="doxid-namespacexf-1-1database-1ad8607478ec2cbe922fcbf593cd52dde3"></span><h3>directGroupAggregate overload (2)<a class="headerlink" href="#directgroupaggregate-overload-2" title="Permalink to this headline">¶</a></h3>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/direct_group_aggregate.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="kt">int</span> <span class="n">DATINW</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">DATOUTW</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">DIRECTW</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">directGroupAggregate</span> <span class="p">(</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">32</span><span class="o">&gt;</span> <span class="n">op</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">DATINW</span><span class="o">&gt;&gt;&amp;</span> <span class="n">vin_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">in_e_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">DATOUTW</span><span class="o">&gt;&gt;&amp;</span> <span class="n">vout_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">out_e_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">DIRECTW</span><span class="o">&gt;&gt;&amp;</span> <span class="n">kin_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">DIRECTW</span><span class="o">&gt;&gt;&amp;</span> <span class="n">kout_strm</span>
    <span class="p">)</span>
</pre>
<p>Group-by aggregation with limited key width, runtime programmable.</p>
<p>This primitive is suitable for scenario in which the width of group key is limited, so that a on-chip array directly addressed by the key can be created to store the aggregation value. The total storage required is <code class="docutils literal notranslate"><span class="pre">row</span> <span class="pre">size</span> <span class="pre">*</span> <span class="pre">(2</span> <span class="pre">^</span> <span class="pre">key</span> <span class="pre">width)</span></code> .</p>
<p>The following aggregate operators are supported:</p>
<ul class="simple">
<li>AOP_MAX</li>
<li>AOP_MIN</li>
<li>AOP_SUM</li>
<li>AOP_COUNT</li>
<li>AOP_MEAN</li>
<li>AOP_NORM1</li>
</ul>
<p>The return value is typed the same as the input payload value.</p>
<blockquote>
<div><div class="admonition caution">
<p class="first admonition-title">Caution</p>
<p class="last">Attention should be paid for overflow in sum or count.</p>
</div>
</div></blockquote>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>DATINW</td>
<td>the width of input payload</td>
</tr>
<tr class="row-even"><td>DATOUTW</td>
<td>the width of output aggr-payload</td>
</tr>
<tr class="row-odd"><td>DIRECTW</td>
<td>the width of input and output key</td>
</tr>
<tr class="row-even"><td>op</td>
<td>the aggregate operator, as defined in AggregateOp enum.</td>
</tr>
<tr class="row-odd"><td>vin_strm</td>
<td>value input</td>
</tr>
<tr class="row-even"><td>in_e_strm</td>
<td>end flag stream for input data</td>
</tr>
<tr class="row-odd"><td>vout_strm</td>
<td>value output</td>
</tr>
<tr class="row-even"><td>out_e_strm</td>
<td>end flag stream for output data</td>
</tr>
<tr class="row-odd"><td>kin_strm</td>
<td>group-by key input</td>
</tr>
<tr class="row-even"><td>kout_strm</td>
<td>group-by key output</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="duplicatecol">
<span id="cid-xf-database-duplicatecol"></span><span id="doxid-namespacexf-1-1database-1af207553b2fd51ecf3a596ab9f686eaf8"></span><h2>duplicateCol<a class="headerlink" href="#duplicatecol" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/duplicate_col.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span><span class="kt">int</span> <span class="n">W</span><span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">duplicateCol</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">W</span><span class="o">&gt;&gt;&amp;</span> <span class="n">d_in_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">e_in_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">W</span><span class="o">&gt;&gt;&amp;</span> <span class="n">d0_out_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">W</span><span class="o">&gt;&gt;&amp;</span> <span class="n">d1_out_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">e_out_strm</span>
    <span class="p">)</span>
</pre>
<p>Duplicate one column into two columns.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>W</td>
<td>column data width in bits.</td>
</tr>
<tr class="row-even"><td>d_in_strm</td>
<td>input data stream.</td>
</tr>
<tr class="row-odd"><td>e_in_strm</td>
<td>end flag for input data.</td>
</tr>
<tr class="row-even"><td>d0_out_strm</td>
<td>output data stream 0.</td>
</tr>
<tr class="row-odd"><td>d1_out_strm</td>
<td>output data stream 1.</td>
</tr>
<tr class="row-even"><td>e_out_strm</td>
<td>end flag for output data.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="dynamiceval">
<span id="cid-xf-database-dynamiceval"></span><span id="doxid-namespacexf-1-1database-1a4d77561de5a0faf815179b8226b78265"></span><h2>dynamicEval<a class="headerlink" href="#dynamiceval" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/dynamic_eval.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="k">typename</span> <span class="n">TStrm1</span><span class="p">,</span>
    <span class="k">typename</span> <span class="n">TStrm2</span><span class="p">,</span>
    <span class="k">typename</span> <span class="n">TStrm3</span><span class="p">,</span>
    <span class="k">typename</span> <span class="n">TStrm4</span><span class="p">,</span>
    <span class="k">typename</span> <span class="n">TConst1</span><span class="p">,</span>
    <span class="k">typename</span> <span class="n">TConst2</span><span class="p">,</span>
    <span class="k">typename</span> <span class="n">TConst3</span><span class="p">,</span>
    <span class="k">typename</span> <span class="n">TConst4</span><span class="p">,</span>
    <span class="k">typename</span> <span class="n">TOut</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">dynamicEval</span> <span class="p">(</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">289</span><span class="o">&gt;</span> <span class="n">config</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">TStrm1</span><span class="o">&gt;&amp;</span> <span class="n">strm_in1</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">TStrm2</span><span class="o">&gt;&amp;</span> <span class="n">strm_in2</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">TStrm3</span><span class="o">&gt;&amp;</span> <span class="n">strm_in3</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">TStrm4</span><span class="o">&gt;&amp;</span> <span class="n">strm_in4</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">strm_in_end</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">TOut</span><span class="o">&gt;&amp;</span> <span class="n">strm_out</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">strm_out_end</span>
    <span class="p">)</span>
</pre>
<p>Dynamic expression evaluation.</p>
<p>This primitive has four fixed number of column inputs, and allows up to four constants to be specified via configuration. The operation between the column values and constants can be defined dynamically through the configuration at run-time. The same configuration is used for all rows until the end of input.</p>
<p>The constant numbers are assumed to be no more than 32-bits.</p>
<p>For the definition of the config word, please refer to the “Design Internal” Section of the document and the corresponding test in <code class="docutils literal notranslate"><span class="pre">L1/tests</span></code> .</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>TStrm1</td>
<td>Type of input Stream1</td>
</tr>
<tr class="row-even"><td>TStrm2</td>
<td>Type of input Stream2</td>
</tr>
<tr class="row-odd"><td>TStrm3</td>
<td>Type of input Stream3</td>
</tr>
<tr class="row-even"><td>TStrm4</td>
<td>Type of input Stream4</td>
</tr>
<tr class="row-odd"><td>TConst1</td>
<td>Type of input Constant1</td>
</tr>
<tr class="row-even"><td>TConst2</td>
<td>Type of input Constant2</td>
</tr>
<tr class="row-odd"><td>TConst3</td>
<td>Type of input Constant3</td>
</tr>
<tr class="row-even"><td>TConst4</td>
<td>Type of input Constant4</td>
</tr>
<tr class="row-odd"><td>TOut</td>
<td>Type of Compute Result</td>
</tr>
<tr class="row-even"><td>config</td>
<td>configuration bits of ops and constants.</td>
</tr>
<tr class="row-odd"><td>strm_in1</td>
<td>input Stream1</td>
</tr>
<tr class="row-even"><td>strm_in2</td>
<td>input Stream2</td>
</tr>
<tr class="row-odd"><td>strm_in3</td>
<td>input Stream3</td>
</tr>
<tr class="row-even"><td>strm_in4</td>
<td>input Stream4</td>
</tr>
<tr class="row-odd"><td>strm_in_end</td>
<td>end flag of input stream</td>
</tr>
<tr class="row-even"><td>strm_out</td>
<td>output Stream</td>
</tr>
<tr class="row-odd"><td>strm_out_end</td>
<td>end flag of output stream</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="dynamicfilter">
<span id="cid-xf-database-dynamicfilter"></span><span id="doxid-namespacexf-1-1database-1a2a5cf6b101564cdac52bc0e0b600db74"></span><h2>dynamicFilter<a class="headerlink" href="#dynamicfilter" title="Permalink to this headline">¶</a></h2>
<div class="section" id="dynamicfilter-overload-1">
<h3>dynamicFilter overload (1)<a class="headerlink" href="#dynamicfilter-overload-1" title="Permalink to this headline">¶</a></h3>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/dynamic_filter.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="kt">int</span> <span class="n">W</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">WP</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">dynamicFilter</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">32</span><span class="o">&gt;&gt;&amp;</span> <span class="n">filter_cfg_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">W</span><span class="o">&gt;&gt;&amp;</span> <span class="n">v0_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">W</span><span class="o">&gt;&gt;&amp;</span> <span class="n">v1_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">W</span><span class="o">&gt;&gt;&amp;</span> <span class="n">v2_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">W</span><span class="o">&gt;&gt;&amp;</span> <span class="n">v3_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">WP</span><span class="o">&gt;&gt;&amp;</span> <span class="n">pay_in_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">e_in_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">WP</span><span class="o">&gt;&gt;&amp;</span> <span class="n">pay_out_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">e_pay_out_strm</span>
    <span class="p">)</span>
</pre>
<p>Filter payloads according to conditions set during run-time.</p>
<p>This primitive, with its 3 overloads, supports filtering rows using up to four columns as conditions. The payload columns should be grouped together into this primitive, using <code class="docutils literal notranslate"><span class="pre">combineCol</span></code> primitive, and its total width is not explicitly limited (but naturally bound by resources).</p>
<p>The filter conditions consists of whether each of the conditions is within a given range, and relations between any two conditions. The configuration is set once before processing the rows, and reused until the last row. For configuration generation, please refer to the “Design Internals” Section of the document and corresponding test case of this primitive.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>W</td>
<td>width of all condition column streams, in bits.</td>
</tr>
<tr class="row-even"><td>WP</td>
<td>width of payload column, in bits.</td>
</tr>
<tr class="row-odd"><td>filter_cfg_strm</td>
<td>stream of raw config bits for this primitive.</td>
</tr>
<tr class="row-even"><td>v0_strm</td>
<td>condition column stream 0.</td>
</tr>
<tr class="row-odd"><td>v1_strm</td>
<td>condition column stream 1.</td>
</tr>
<tr class="row-even"><td>v2_strm</td>
<td>condition column stream 2.</td>
</tr>
<tr class="row-odd"><td>v3_strm</td>
<td>condition column stream 3.</td>
</tr>
<tr class="row-even"><td>pay_in_strm</td>
<td>payload input stream.</td>
</tr>
<tr class="row-odd"><td>e_in_strm</td>
<td>end flag stream for input table.</td>
</tr>
<tr class="row-even"><td>pay_out_strm</td>
<td>payload output stream.</td>
</tr>
<tr class="row-odd"><td>e_pay_out_strm</td>
<td>end flag stream for payload output.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="dynamicfilter-overload-2">
<span id="cid-xf-database-dynamicfilter-2"></span><span id="doxid-namespacexf-1-1database-1af0abe1921607dd4550be87d44084a1ed"></span><h3>dynamicFilter overload (2)<a class="headerlink" href="#dynamicfilter-overload-2" title="Permalink to this headline">¶</a></h3>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/dynamic_filter.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="kt">int</span> <span class="n">W</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">WP</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">dynamicFilter</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">32</span><span class="o">&gt;&gt;&amp;</span> <span class="n">filter_cfg_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">W</span><span class="o">&gt;&gt;&amp;</span> <span class="n">v0_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">W</span><span class="o">&gt;&gt;&amp;</span> <span class="n">v1_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">W</span><span class="o">&gt;&gt;&amp;</span> <span class="n">v2_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">WP</span><span class="o">&gt;&gt;&amp;</span> <span class="n">pay_in_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">e_in_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">WP</span><span class="o">&gt;&gt;&amp;</span> <span class="n">pay_out_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">e_pay_out_strm</span>
    <span class="p">)</span>
</pre>
<p>Filter payloads according to conditions set during run-time.</p>
<p>This function is a wrapper-around the four-condition-column dynamic_filter, just duplicating the columns to feed all its inputs. Thus they share the same configuration bit pattern. All op related to the 4th column should be set to <code class="docutils literal notranslate"><span class="pre">FOP_DC</span></code> .</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>W</td>
<td>width of all condition column streams, in bits.</td>
</tr>
<tr class="row-even"><td>WP</td>
<td>width of payload column, in bits.</td>
</tr>
<tr class="row-odd"><td>filter_cfg_strm</td>
<td>stream of raw config bits for this primitive.</td>
</tr>
<tr class="row-even"><td>v0_strm</td>
<td>condition column stream 0.</td>
</tr>
<tr class="row-odd"><td>v1_strm</td>
<td>condition column stream 1.</td>
</tr>
<tr class="row-even"><td>v2_strm</td>
<td>condition column stream 2.</td>
</tr>
<tr class="row-odd"><td>pay_in_strm</td>
<td>payload input stream.</td>
</tr>
<tr class="row-even"><td>e_in_strm</td>
<td>end flag stream for input table.</td>
</tr>
<tr class="row-odd"><td>pay_out_strm</td>
<td>payload output stream.</td>
</tr>
<tr class="row-even"><td>e_pay_out_strm</td>
<td>end flag stream for payload output.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="dynamicfilter-overload-3">
<span id="cid-xf-database-dynamicfilter-3"></span><span id="doxid-namespacexf-1-1database-1a847384cab7f8d9647ffe971c62ec9b2b"></span><h3>dynamicFilter overload (3)<a class="headerlink" href="#dynamicfilter-overload-3" title="Permalink to this headline">¶</a></h3>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/dynamic_filter.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="kt">int</span> <span class="n">W</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">WP</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">dynamicFilter</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">32</span><span class="o">&gt;&gt;&amp;</span> <span class="n">filter_cfg_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">W</span><span class="o">&gt;&gt;&amp;</span> <span class="n">v0_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">W</span><span class="o">&gt;&gt;&amp;</span> <span class="n">v1_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">WP</span><span class="o">&gt;&gt;&amp;</span> <span class="n">pay_in_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">e_in_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">WP</span><span class="o">&gt;&gt;&amp;</span> <span class="n">pay_out_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">e_pay_out_strm</span>
    <span class="p">)</span>
</pre>
<p>Filter payloads according to conditions set during run-time.</p>
<p>This function is a wrapper-around the four-condition-column dynamic_filter, just duplicating the columns to feed all its inputs. Thus they share the same configuration bit pattern. All op related to the 3rd and 4th columns should be set to <code class="docutils literal notranslate"><span class="pre">FOP_DC</span></code> .</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>W</td>
<td>width of all condition column streams, in bits.</td>
</tr>
<tr class="row-even"><td>WP</td>
<td>width of payload column, in bits.</td>
</tr>
<tr class="row-odd"><td>filter_cfg_strm</td>
<td>stream of raw config bits for this primitive.</td>
</tr>
<tr class="row-even"><td>v0_strm</td>
<td>condition column stream 0.</td>
</tr>
<tr class="row-odd"><td>v1_strm</td>
<td>condition column stream 1.</td>
</tr>
<tr class="row-even"><td>pay_in_strm</td>
<td>payload input stream.</td>
</tr>
<tr class="row-odd"><td>e_in_strm</td>
<td>end flag stream for input table.</td>
</tr>
<tr class="row-even"><td>pay_out_strm</td>
<td>payload output stream.</td>
</tr>
<tr class="row-odd"><td>e_pay_out_strm</td>
<td>end flag stream for payload output.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="dynamicfilter-overload-4">
<span id="cid-xf-database-dynamicfilter-4"></span><span id="doxid-namespacexf-1-1database-1a93fd62dd0ba62fe98d9fc4fc32aa6a78"></span><h3>dynamicFilter overload (4)<a class="headerlink" href="#dynamicfilter-overload-4" title="Permalink to this headline">¶</a></h3>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/dynamic_filter.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="kt">int</span> <span class="n">W</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">WP</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">dynamicFilter</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">32</span><span class="o">&gt;&gt;&amp;</span> <span class="n">filter_cfg_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">W</span><span class="o">&gt;&gt;&amp;</span> <span class="n">v0_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">WP</span><span class="o">&gt;&gt;&amp;</span> <span class="n">pay_in_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">e_in_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">WP</span><span class="o">&gt;&gt;&amp;</span> <span class="n">pay_out_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">e_pay_out_strm</span>
    <span class="p">)</span>
</pre>
<p>Filter payloads according to conditions set during run-time.</p>
<p>This function is a wrapper-around the four-condition-column dynamic_filter, just duplicating the columns to feed all its inputs. Thus they share the same configuration bit pattern. All op related to the 2nd to 4th columns should be set to <code class="docutils literal notranslate"><span class="pre">FOP_DC</span></code> .</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>W</td>
<td>width of all condition column streams, in bits.</td>
</tr>
<tr class="row-even"><td>WP</td>
<td>width of payload column, in bits.</td>
</tr>
<tr class="row-odd"><td>filter_cfg_strm</td>
<td>stream of raw config bits for this primitive.</td>
</tr>
<tr class="row-even"><td>v0_strm</td>
<td>condition column stream 0.</td>
</tr>
<tr class="row-odd"><td>pay_in_strm</td>
<td>payload input stream.</td>
</tr>
<tr class="row-even"><td>e_in_strm</td>
<td>end flag stream for input table.</td>
</tr>
<tr class="row-odd"><td>pay_out_strm</td>
<td>payload output stream.</td>
</tr>
<tr class="row-even"><td>e_pay_out_strm</td>
<td>end flag stream for payload output.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="groupaggregate">
<span id="cid-xf-database-groupaggregate"></span><span id="doxid-namespacexf-1-1database-1a4739aaf425fd97ca8a54f58e2a5a15d5"></span><h2>groupAggregate<a class="headerlink" href="#groupaggregate" title="Permalink to this headline">¶</a></h2>
<div class="section" id="groupaggregate-overload-1">
<h3>groupAggregate overload (1)<a class="headerlink" href="#groupaggregate-overload-1" title="Permalink to this headline">¶</a></h3>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/group_aggregate.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="n">AggregateOp</span> <span class="n">op</span><span class="p">,</span>
    <span class="k">typename</span> <span class="n">T</span><span class="p">,</span>
    <span class="k">typename</span> <span class="n">KEY_T</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">groupAggregate</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;&amp;</span> <span class="n">din_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">in_e_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;&amp;</span> <span class="n">dout_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">out_e_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">KEY_T</span><span class="o">&gt;&amp;</span> <span class="n">kin_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">KEY_T</span><span class="o">&gt;&amp;</span> <span class="n">kout_strm</span>
    <span class="p">)</span>
</pre>
<p>group aggregate function that returns same type as input</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>op</td>
<td>the aggregate operator: AOP_MAX, AOP_MIN, AOP_MEAN, AOP_VARIANCE, AOP_NORML1 or AOP_NORML2</td>
</tr>
<tr class="row-even"><td>T</td>
<td>the data type of input and output streams</td>
</tr>
<tr class="row-odd"><td>KEY_T</td>
<td>the input and output indexing key type</td>
</tr>
<tr class="row-even"><td>din_strm</td>
<td>input data stream</td>
</tr>
<tr class="row-odd"><td>in_e_strm</td>
<td>end flag stream for input data</td>
</tr>
<tr class="row-even"><td>dout_strm</td>
<td>output data stream</td>
</tr>
<tr class="row-odd"><td>out_e_strm</td>
<td>end flag stream for output data</td>
</tr>
<tr class="row-even"><td>kin_strm</td>
<td>input indexing key stream</td>
</tr>
<tr class="row-odd"><td>kout_strm</td>
<td>output indexing key stream</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="groupaggregate-overload-2">
<span id="cid-xf-database-groupaggregate-2"></span><span id="doxid-namespacexf-1-1database-1a03dfbf8653323d029b3dc14b18e46e4e"></span><h3>groupAggregate overload (2)<a class="headerlink" href="#groupaggregate-overload-2" title="Permalink to this headline">¶</a></h3>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/group_aggregate.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="n">AggregateOp</span> <span class="n">op</span><span class="p">,</span>
    <span class="k">typename</span> <span class="n">T</span><span class="p">,</span>
    <span class="k">typename</span> <span class="n">T2</span><span class="p">,</span>
    <span class="k">typename</span> <span class="n">KEY_T</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">groupAggregate</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;&amp;</span> <span class="n">in_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">in_e_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">T2</span><span class="o">&gt;&amp;</span> <span class="n">out_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">out_e_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">KEY_T</span><span class="o">&gt;&amp;</span> <span class="n">kin_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">KEY_T</span><span class="o">&gt;&amp;</span> <span class="n">kout_strm</span>
    <span class="p">)</span>
</pre>
<p>group aggregate function that returns different type as input</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>op</td>
<td>the aggregate operator: AOP_SUM</td>
</tr>
<tr class="row-even"><td>T</td>
<td>the input stream type, inferred from argument</td>
</tr>
<tr class="row-odd"><td>T2</td>
<td>the output stream type, inferred from argument</td>
</tr>
<tr class="row-even"><td>KEY_T</td>
<td>the input and output stream type, inferred from argument</td>
</tr>
<tr class="row-odd"><td>in_strm</td>
<td>input data stream</td>
</tr>
<tr class="row-even"><td>in_e_strm</td>
<td>end flag stream for input data</td>
</tr>
<tr class="row-odd"><td>out_strm</td>
<td>output data stream</td>
</tr>
<tr class="row-even"><td>out_e_strm</td>
<td>end flag stream for output data</td>
</tr>
<tr class="row-odd"><td>kin_strm</td>
<td>input indexing key stream</td>
</tr>
<tr class="row-even"><td>kout_strm</td>
<td>output indexing key stream</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="groupaggregate-overload-3">
<span id="cid-xf-database-groupaggregate-3"></span><span id="doxid-namespacexf-1-1database-1a02a1155889de985dde7f91a8c38f33f0"></span><h3>groupAggregate overload (3)<a class="headerlink" href="#groupaggregate-overload-3" title="Permalink to this headline">¶</a></h3>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/group_aggregate.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="n">AggregateOp</span> <span class="n">op</span><span class="p">,</span>
    <span class="k">typename</span> <span class="n">T</span><span class="p">,</span>
    <span class="k">typename</span> <span class="n">KEY_T</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">groupAggregate</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;&amp;</span> <span class="n">in_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">in_e_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">uint64_t</span><span class="o">&gt;&amp;</span> <span class="n">out_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">out_e_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">KEY_T</span><span class="o">&gt;&amp;</span> <span class="n">kin_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">KEY_T</span><span class="o">&gt;&amp;</span> <span class="n">kout_strm</span>
    <span class="p">)</span>
</pre>
<p>aggregate function that counts and returns uint64_t</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>op</td>
<td>the aggregate operator: AOP_COUNT or AOP_COUNTNONZEROS</td>
</tr>
<tr class="row-even"><td>T</td>
<td>the input stream type, inferred from argument</td>
</tr>
<tr class="row-odd"><td>KEY_T</td>
<td>the input and output stream type, inferred from argument</td>
</tr>
<tr class="row-even"><td>in_strm</td>
<td>input data stream</td>
</tr>
<tr class="row-odd"><td>in_e_strm</td>
<td>end flag stream for input data</td>
</tr>
<tr class="row-even"><td>out_strm</td>
<td>output data stream</td>
</tr>
<tr class="row-odd"><td>out_e_strm</td>
<td>end flag stream for output data</td>
</tr>
<tr class="row-even"><td>kin_strm</td>
<td>input indexing key stream</td>
</tr>
<tr class="row-odd"><td>kout_strm</td>
<td>output indexing key stream</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="groupaggregate-overload-4">
<span id="cid-xf-database-groupaggregate-4"></span><span id="doxid-namespacexf-1-1database-1aab1d37720700f94ac2a23e0fce2dbbfd"></span><h3>groupAggregate overload (4)<a class="headerlink" href="#groupaggregate-overload-4" title="Permalink to this headline">¶</a></h3>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/group_aggregate.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="n">AggregateOp</span> <span class="n">op</span><span class="p">,</span>
    <span class="k">typename</span> <span class="n">T</span><span class="p">,</span>
    <span class="k">typename</span> <span class="n">KEY_T</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">groupAggregate</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;&amp;</span> <span class="n">in_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">isnull_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">in_e_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">uint64_t</span><span class="o">&gt;&amp;</span> <span class="n">out_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">out_e_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">KEY_T</span><span class="o">&gt;&amp;</span> <span class="n">kin_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">KEY_T</span><span class="o">&gt;&amp;</span> <span class="n">kout_strm</span>
    <span class="p">)</span>
</pre>
<p>aggregate function that counts and returns uint64_t</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>op</td>
<td>the aggregate operator: AOP_COUNT</td>
</tr>
<tr class="row-even"><td>T</td>
<td>the input stream type, inferred from argument</td>
</tr>
<tr class="row-odd"><td>KEY_T</td>
<td>the input and output stream type, inferred from argument</td>
</tr>
<tr class="row-even"><td>in_strm</td>
<td>input data stream</td>
</tr>
<tr class="row-odd"><td>isnull_strm</td>
<td>flag to indicate the input data is null or not</td>
</tr>
<tr class="row-even"><td>in_e_strm</td>
<td>end flag stream for input data</td>
</tr>
<tr class="row-odd"><td>out_strm</td>
<td>output data stream</td>
</tr>
<tr class="row-even"><td>out_e_strm</td>
<td>end flag stream for output data</td>
</tr>
<tr class="row-odd"><td>kin_strm</td>
<td>input indexing key stream</td>
</tr>
<tr class="row-even"><td>kout_strm</td>
<td>output indexing key stream</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="hashantijoin">
<span id="cid-xf-database-hashantijoin"></span><span id="doxid-namespacexf-1-1database-1af9b1668d614ccaeeff51844ed8d15074"></span><h2>hashAntiJoin<a class="headerlink" href="#hashantijoin" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/hash_anti_join.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="kt">int</span> <span class="n">HASH_MODE</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">KEYW</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">PW</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">S_PW</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">B_PW</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">HASHWH</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">HASHWL</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">ARW</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">CH_NM</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">hashAntiJoin</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">KEYW</span><span class="o">&gt;&gt;</span> <span class="n">k0_strm_arry</span> <span class="p">[</span><span class="n">CH_NM</span><span class="p">],</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">PW</span><span class="o">&gt;&gt;</span> <span class="n">p0_strm_arry</span> <span class="p">[</span><span class="n">CH_NM</span><span class="p">],</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span> <span class="n">e0_strm_arry</span> <span class="p">[</span><span class="n">CH_NM</span><span class="p">],</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">htb0_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">htb1_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">htb2_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">htb3_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">htb4_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">htb5_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">htb6_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">htb7_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">stb0_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">stb1_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">stb2_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">stb3_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">stb4_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">stb5_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">stb6_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">stb7_buf</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">32</span><span class="o">&gt;&gt;&amp;</span> <span class="n">pu_begin_status_strms</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">32</span><span class="o">&gt;&gt;&amp;</span> <span class="n">pu_end_status_strms</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">KEYW</span><span class="o">+</span><span class="n">S_PW</span><span class="o">+</span><span class="n">B_PW</span><span class="o">&gt;&gt;&amp;</span> <span class="n">j_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">j_e_strm</span>
    <span class="p">)</span>
</pre>
<p>Multi-PU Hash-Anti-Join primitive, using multiple DDR/HBM buffers.</p>
<p>This primitive shares most of the structure of <code class="docutils literal notranslate"><span class="pre">hashJoinV3</span></code> , but performs anti-join instead of inner-join. Both inner and outer table should be send to this primitve once, starting with the inner table.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>HASH_MODE</td>
<td>0 for radix and 1 for Jenkin’s Lookup3 hash.</td>
</tr>
<tr class="row-even"><td>KEYW</td>
<td>width of key, in bit.</td>
</tr>
<tr class="row-odd"><td>PW</td>
<td>width of max payload, in bit.</td>
</tr>
<tr class="row-even"><td>S_PW</td>
<td>width of payload of small table.</td>
</tr>
<tr class="row-odd"><td>B_PW</td>
<td>width of payload of big table.</td>
</tr>
<tr class="row-even"><td>HASHWH</td>
<td>number of hash bits used for PU/buffer selection, 1~3.</td>
</tr>
<tr class="row-odd"><td>HASHWL</td>
<td>number of hash bits used for hash-table in PU.</td>
</tr>
<tr class="row-even"><td>ARW</td>
<td>width of address, larger than 24 is suggested.</td>
</tr>
<tr class="row-odd"><td>CH_NM</td>
<td>number of input channels, 1,2,4.</td>
</tr>
<tr class="row-even"><td>k0_strm_arry</td>
<td>input of key columns of both tables.</td>
</tr>
<tr class="row-odd"><td>p0_strm_arry</td>
<td>input of payload columns of both tables.</td>
</tr>
<tr class="row-even"><td>e0_strm_arry</td>
<td>input of end signal of both tables.</td>
</tr>
<tr class="row-odd"><td>htb0_buf</td>
<td>HBM/DDR buffer of hash_table0</td>
</tr>
<tr class="row-even"><td>htb1_buf</td>
<td>HBM/DDR buffer of hash_table1</td>
</tr>
<tr class="row-odd"><td>htb2_buf</td>
<td>HBM/DDR buffer of hash_table2</td>
</tr>
<tr class="row-even"><td>htb3_buf</td>
<td>HBM/DDR buffer of hash_table3</td>
</tr>
<tr class="row-odd"><td>htb4_buf</td>
<td>HBM/DDR buffer of hash_table4</td>
</tr>
<tr class="row-even"><td>htb5_buf</td>
<td>HBM/DDR buffer of hash_table5</td>
</tr>
<tr class="row-odd"><td>htb6_buf</td>
<td>HBM/DDR buffer of hash_table6</td>
</tr>
<tr class="row-even"><td>htb7_buf</td>
<td>HBM/DDR buffer of hash_table7</td>
</tr>
<tr class="row-odd"><td>stb0_buf</td>
<td>HBM/DDR buffer of PU0</td>
</tr>
<tr class="row-even"><td>stb1_buf</td>
<td>HBM/DDR buffer of PU1</td>
</tr>
<tr class="row-odd"><td>stb2_buf</td>
<td>HBM/DDR buffer of PU2</td>
</tr>
<tr class="row-even"><td>stb3_buf</td>
<td>HBM/DDR buffer of PU3</td>
</tr>
<tr class="row-odd"><td>stb4_buf</td>
<td>HBM/DDR buffer of PU4</td>
</tr>
<tr class="row-even"><td>stb5_buf</td>
<td>HBM/DDR buffer of PU5</td>
</tr>
<tr class="row-odd"><td>stb6_buf</td>
<td>HBM/DDR buffer of PU6</td>
</tr>
<tr class="row-even"><td>stb7_buf</td>
<td>HBM/DDR buffer of PU7</td>
</tr>
<tr class="row-odd"><td>pu_begin_status_strms</td>
<td>the 1st element is the depth of each hash, the 2nd element is joined number</td>
</tr>
<tr class="row-even"><td>pu_end_status_strms</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>j_strm</td>
<td>output of joined result</td>
</tr>
<tr class="row-even"><td>j_e_strm</td>
<td>end flag of joined result</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="hashgroupaggregate">
<span id="cid-xf-database-hashgroupaggregate"></span><span id="doxid-namespacexf-1-1database-1acbd6d9b1a2acd3dff91753d69aebb3c1"></span><h2>hashGroupAggregate<a class="headerlink" href="#hashgroupaggregate" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/hash_group_aggregate.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="kt">int</span> <span class="n">_WKey</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">_KeyNM</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">_WPay</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">_PayNM</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">_HashMode</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">_WHashHigh</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">_WHashLow</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">_CHNM</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">_Wcnt</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">_WBuffer</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">_BurstLenW</span> <span class="o">=</span> <span class="mi">32</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">_BurstLenR</span> <span class="o">=</span> <span class="mi">32</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">hashGroupAggregate</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">_WKey</span><span class="o">&gt;&gt;</span> <span class="n">strm_key_in</span> <span class="p">[</span><span class="n">_CHNM</span><span class="p">][</span><span class="n">_KeyNM</span><span class="p">],</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">_WPay</span><span class="o">&gt;&gt;</span> <span class="n">strm_pld_in</span> <span class="p">[</span><span class="n">_CHNM</span><span class="p">][</span><span class="n">_PayNM</span><span class="p">],</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span> <span class="n">strm_e_in</span> <span class="p">[</span><span class="n">_CHNM</span><span class="p">],</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">32</span><span class="o">&gt;&gt;&amp;</span> <span class="n">config</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">32</span><span class="o">&gt;&gt;&amp;</span> <span class="n">result_info</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">_WBuffer</span><span class="o">&gt;*</span> <span class="n">ping_buf0</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">_WBuffer</span><span class="o">&gt;*</span> <span class="n">ping_buf1</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">_WBuffer</span><span class="o">&gt;*</span> <span class="n">ping_buf2</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">_WBuffer</span><span class="o">&gt;*</span> <span class="n">ping_buf3</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">_WBuffer</span><span class="o">&gt;*</span> <span class="n">pong_buf0</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">_WBuffer</span><span class="o">&gt;*</span> <span class="n">pong_buf1</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">_WBuffer</span><span class="o">&gt;*</span> <span class="n">pong_buf2</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">_WBuffer</span><span class="o">&gt;*</span> <span class="n">pong_buf3</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">_WKey</span><span class="o">&gt;&gt;</span> <span class="n">aggr_key_out</span> <span class="p">[</span><span class="n">_KeyNM</span><span class="p">],</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">_WPay</span><span class="o">&gt;&gt;</span> <span class="n">aggr_pld_out</span> <span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="n">_PayNM</span><span class="p">],</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">strm_e_out</span>
    <span class="p">)</span>
</pre>
<p>Generic hash group aggregate primitive.</p>
<p>With this primitive, the max number of lines of aggregate table is bound by the AXI buffer size.</p>
<p>The group aggregation values are updated inside the chip, and when a hash-bucket overflows, the overflowed rows are spilled into external buffers. The overflow buffer will be automatically re-scanned, and within each round, a number of distinct groups will be aggregated and emitted. This algorithm ends when the overflow buffer is empty and all groups are aggregated.</p>
<div class="admonition attention">
<p class="first admonition-title">Attention</p>
<ol class="last arabic simple">
<li>This module can accept multiple input row of key and payload pair per cycle.</li>
<li>The max distinct groups aggregated in one pass is <code class="docutils literal notranslate"><span class="pre">2</span> <span class="pre">^</span> <span class="pre">(1</span> <span class="pre">+</span> <span class="pre">_WHash)</span></code>.</li>
<li>When the width of the input stream is not fully used, data should be aligned to the little-end.</li>
<li>It is highly recommended to assign the ping buffer and pong buffer in different HBM banks, input and output in
different DDR banks for a better performance.</li>
<li>The max number of lines of aggregate table cannot bigger than the max DDR/HBM SIZE used in this design.</li>
<li>When the bit-width of group key is known to be small, say 10-bit, please consider the <code class="docutils literal notranslate"><span class="pre">directAggregate</span></code>
primitive, which offers smaller utilization, and requires no external buffer access.</li>
</ol>
</div>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>_WKey</td>
<td>width of key, in bit.</td>
</tr>
<tr class="row-even"><td>_KeyNM</td>
<td>maximum number of key column, maximum is 8.</td>
</tr>
<tr class="row-odd"><td>_WPay</td>
<td>width of max payload, in bit.</td>
</tr>
<tr class="row-even"><td>_PayNM</td>
<td>maximum number of payload column, maximum is 8.</td>
</tr>
<tr class="row-odd"><td>_HashMode</td>
<td>control hash algotithm, 0: radix 1: lookup3.</td>
</tr>
<tr class="row-even"><td>_WHashHigh</td>
<td>number of hash bits used for dispatch pu.</td>
</tr>
<tr class="row-odd"><td>_WHashLow</td>
<td>number of hash bits used for hash-table.</td>
</tr>
<tr class="row-even"><td>_CHNM</td>
<td>number of input channels.</td>
</tr>
<tr class="row-odd"><td>_WBuffer</td>
<td>width of HBM/DDR buffer(ping_buf and pong_buf).</td>
</tr>
<tr class="row-even"><td>_BurstLenW</td>
<td>burst len of writting unhandled data.</td>
</tr>
<tr class="row-odd"><td>_BurstLenR</td>
<td>burst len of reloading unhandled data.</td>
</tr>
<tr class="row-even"><td>strm_key_in</td>
<td>input of key streams.</td>
</tr>
<tr class="row-odd"><td>strm_pld_in</td>
<td>input of payload streams.</td>
</tr>
<tr class="row-even"><td>strm_e_in</td>
<td>input of end signal.</td>
</tr>
<tr class="row-odd"><td>config</td>
<td>information for initializing primitive, contains op for maximum of 8 columns, key column number(less than 8), pld column number(less than 8) and initial aggregate cnt.</td>
</tr>
<tr class="row-even"><td>result_info</td>
<td>result information at kernel end, contains op, key_column, pld_column and aggregate result cnt</td>
</tr>
<tr class="row-odd"><td>ping_buf0</td>
<td>DDR/HBM ping buffer for unhandled data.</td>
</tr>
<tr class="row-even"><td>ping_buf1</td>
<td>DDR/HBM ping buffer for unhandled data.</td>
</tr>
<tr class="row-odd"><td>ping_buf2</td>
<td>DDR/HBM ping buffer for unhandled data.</td>
</tr>
<tr class="row-even"><td>ping_buf3</td>
<td>DDR/HBM ping buffer for unhandled data.</td>
</tr>
<tr class="row-odd"><td>pong_buf0</td>
<td>DDR/HBM pong buffer for unhandled data.</td>
</tr>
<tr class="row-even"><td>pong_buf1</td>
<td>DDR/HBM pong buffer for unhandled data.</td>
</tr>
<tr class="row-odd"><td>pong_buf2</td>
<td>DDR/HBM pong buffer for unhandled data.</td>
</tr>
<tr class="row-even"><td>pong_buf3</td>
<td>DDR/HBM pong buffer for unhandled data.</td>
</tr>
<tr class="row-odd"><td>aggr_key_out</td>
<td>output of key columns.</td>
</tr>
<tr class="row-even"><td>aggr_pld_out</td>
<td>output of pld columns. [0][*] is the result of min/max/cnt for pld columns, [1][*] is the low-bit value of sum/average, [2][*] is the hight-bit value of sum/average.</td>
</tr>
<tr class="row-odd"><td>strm_e_out</td>
<td>is the end signal of output.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="hashjoinmpu">
<span id="cid-xf-database-hashjoinmpu"></span><span id="doxid-namespacexf-1-1database-1abc8dd820bb6a9f87ffe53fd214f579ff"></span><h2>hashJoinMPU<a class="headerlink" href="#hashjoinmpu" title="Permalink to this headline">¶</a></h2>
<div class="section" id="hashjoinmpu-overload-1">
<h3>hashJoinMPU overload (1)<a class="headerlink" href="#hashjoinmpu-overload-1" title="Permalink to this headline">¶</a></h3>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/hash_join_v2.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="kt">int</span> <span class="n">HASH_MODE</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">KEYW</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">PW</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">S_PW</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">B_PW</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">HASHWH</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">HASHWL</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">ARW</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">BFW</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">CH_NM</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">BF_W</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">EN_BF</span>
    <span class="o">&gt;</span>
<span class="k">static</span> <span class="kt">void</span> <span class="n">hashJoinMPU</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">KEYW</span><span class="o">&gt;&gt;</span> <span class="n">k0_strm_arry</span> <span class="p">[</span><span class="n">CH_NM</span><span class="p">],</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">PW</span><span class="o">&gt;&gt;</span> <span class="n">p0_strm_arry</span> <span class="p">[</span><span class="n">CH_NM</span><span class="p">],</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span> <span class="n">e0_strm_arry</span> <span class="p">[</span><span class="n">CH_NM</span><span class="p">],</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">BFW</span><span class="o">&gt;*</span> <span class="n">stb0_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">BFW</span><span class="o">&gt;*</span> <span class="n">stb1_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">BFW</span><span class="o">&gt;*</span> <span class="n">stb2_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">BFW</span><span class="o">&gt;*</span> <span class="n">stb3_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">BFW</span><span class="o">&gt;*</span> <span class="n">stb4_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">BFW</span><span class="o">&gt;*</span> <span class="n">stb5_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">BFW</span><span class="o">&gt;*</span> <span class="n">stb6_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">BFW</span><span class="o">&gt;*</span> <span class="n">stb7_buf</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">S_PW</span><span class="o">+</span><span class="n">B_PW</span><span class="o">&gt;&gt;&amp;</span> <span class="n">j1_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">e5_strm</span>
    <span class="p">)</span>
</pre>
<p>Multi-PU Hash-Join primitive, using multiple DDR/HBM buffers.</p>
<p>The max number of lines of small table is 2M in this design. It is assumed that the hash-conflict is within 512 per bin.</p>
<p>This module can accept more than 1 input row per cycle, via multiple input channels. The small table and the big table shares the same input ports, so the width of the payload should be the max of both, while the data should be aligned to the little-end. The small table should be fed TWICE, followed by the big table once.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>HASH_MODE</td>
<td>0 for radix and 1 for Jenkin’s Lookup3 hash.</td>
</tr>
<tr class="row-even"><td>KEYW</td>
<td>width of key, in bit.</td>
</tr>
<tr class="row-odd"><td>PW</td>
<td>width of max payload, in bit.</td>
</tr>
<tr class="row-even"><td>S_PW</td>
<td>width of payload of small table.</td>
</tr>
<tr class="row-odd"><td>B_PW</td>
<td>width of payload of big table.</td>
</tr>
<tr class="row-even"><td>HASHWH</td>
<td>number of hash bits used for PU/buffer selection, 1~3.</td>
</tr>
<tr class="row-odd"><td>HASHWL</td>
<td>number of hash bits used for hash-table in PU.</td>
</tr>
<tr class="row-even"><td>ARW</td>
<td>width of address, log2(small table max num of rows).</td>
</tr>
<tr class="row-odd"><td>BFW</td>
<td>width of buffer.</td>
</tr>
<tr class="row-even"><td>CH_NM</td>
<td>number of input channels, 1,2,4.</td>
</tr>
<tr class="row-odd"><td>BF_W</td>
<td>bloom-filter hash width.</td>
</tr>
<tr class="row-even"><td>EN_BF</td>
<td>bloom-filter switch, 0 for off, 1 for on.</td>
</tr>
<tr class="row-odd"><td>k0_strm_arry</td>
<td>input of key columns of both tables.</td>
</tr>
<tr class="row-even"><td>p0_strm_arry</td>
<td>input of payload columns of both tables.</td>
</tr>
<tr class="row-odd"><td>e0_strm_arry</td>
<td>input of end signal of both tables.</td>
</tr>
<tr class="row-even"><td>stb0_buf</td>
<td>HBM/DDR buffer of PU0</td>
</tr>
<tr class="row-odd"><td>stb1_buf</td>
<td>HBM/DDR buffer of PU1</td>
</tr>
<tr class="row-even"><td>stb2_buf</td>
<td>HBM/DDR buffer of PU2</td>
</tr>
<tr class="row-odd"><td>stb3_buf</td>
<td>HBM/DDR buffer of PU3</td>
</tr>
<tr class="row-even"><td>stb4_buf</td>
<td>HBM/DDR buffer of PU4</td>
</tr>
<tr class="row-odd"><td>stb5_buf</td>
<td>HBM/DDR buffer of PU5</td>
</tr>
<tr class="row-even"><td>stb6_buf</td>
<td>HBM/DDR buffer of PU6</td>
</tr>
<tr class="row-odd"><td>stb7_buf</td>
<td>HBM/DDR buffer of PU7</td>
</tr>
<tr class="row-even"><td>j1_strm</td>
<td>output of joined rows.</td>
</tr>
<tr class="row-odd"><td>e5_strm</td>
<td>end signal of joined rows.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="hashjoinmpu-overload-2">
<span id="cid-xf-database-hashjoinmpu-2"></span><span id="doxid-namespacexf-1-1database-1ac1b46cc2a0a4eb7e095fc6d71c6c37fc"></span><h3>hashJoinMPU overload (2)<a class="headerlink" href="#hashjoinmpu-overload-2" title="Permalink to this headline">¶</a></h3>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/hash_join_v2.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="kt">int</span> <span class="n">HASH_MODE</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">KEYW</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">PW</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">S_PW</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">B_PW</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">HASHWH</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">HASHWL</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">ARW</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">BFW</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">CH_NM</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">hashJoinMPU</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">KEYW</span><span class="o">&gt;&gt;</span> <span class="n">k0_strm_arry</span> <span class="p">[</span><span class="n">CH_NM</span><span class="p">],</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">PW</span><span class="o">&gt;&gt;</span> <span class="n">p0_strm_arry</span> <span class="p">[</span><span class="n">CH_NM</span><span class="p">],</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span> <span class="n">e0_strm_arry</span> <span class="p">[</span><span class="n">CH_NM</span><span class="p">],</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">BFW</span><span class="o">&gt;*</span> <span class="n">stb0_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">BFW</span><span class="o">&gt;*</span> <span class="n">stb1_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">BFW</span><span class="o">&gt;*</span> <span class="n">stb2_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">BFW</span><span class="o">&gt;*</span> <span class="n">stb3_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">BFW</span><span class="o">&gt;*</span> <span class="n">stb4_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">BFW</span><span class="o">&gt;*</span> <span class="n">stb5_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">BFW</span><span class="o">&gt;*</span> <span class="n">stb6_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">BFW</span><span class="o">&gt;*</span> <span class="n">stb7_buf</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">S_PW</span><span class="o">+</span><span class="n">B_PW</span><span class="o">&gt;&gt;&amp;</span> <span class="n">j1_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">e5_strm</span>
    <span class="p">)</span>
</pre>
<p>Multi-PU Hash-Join primitive, using multiple DDR/HBM buffers.</p>
<p>The max number of lines of small table is 8M in this design. It is assumed that the hash-conflict is within 512 per bin.</p>
<p>This module can accept more than 1 input row per cycle, via multiple input channels. The small table and the big table shares the same input ports, so the width of the payload should be the max of both, while the data should be aligned to the little-end. The small table should be fed TWICE, followed by the big table once.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>HASH_MODE</td>
<td>0 for radix and 1 for Jenkin’s Lookup3 hash.</td>
</tr>
<tr class="row-even"><td>KEYW</td>
<td>width of key, in bit.</td>
</tr>
<tr class="row-odd"><td>PW</td>
<td>width of max payload, in bit.</td>
</tr>
<tr class="row-even"><td>S_PW</td>
<td>width of payload of small table.</td>
</tr>
<tr class="row-odd"><td>B_PW</td>
<td>width of payload of big table.</td>
</tr>
<tr class="row-even"><td>HASHWH</td>
<td>number of hash bits used for PU/buffer selection, 1~3.</td>
</tr>
<tr class="row-odd"><td>HASHWL</td>
<td>number of hash bits used for hash-table in PU.</td>
</tr>
<tr class="row-even"><td>ARW</td>
<td>width of address, log2(small table max num of rows).</td>
</tr>
<tr class="row-odd"><td>BFW</td>
<td>width of buffer.</td>
</tr>
<tr class="row-even"><td>CH_NM</td>
<td>number of input channels, 1,2,4.</td>
</tr>
<tr class="row-odd"><td>k0_strm_arry</td>
<td>input of key columns of both tables.</td>
</tr>
<tr class="row-even"><td>p0_strm_arry</td>
<td>input of payload columns of both tables.</td>
</tr>
<tr class="row-odd"><td>e0_strm_arry</td>
<td>input of end signal of both tables.</td>
</tr>
<tr class="row-even"><td>stb0_buf</td>
<td>HBM/DDR buffer of PU0</td>
</tr>
<tr class="row-odd"><td>stb1_buf</td>
<td>HBM/DDR buffer of PU1</td>
</tr>
<tr class="row-even"><td>stb2_buf</td>
<td>HBM/DDR buffer of PU2</td>
</tr>
<tr class="row-odd"><td>stb3_buf</td>
<td>HBM/DDR buffer of PU3</td>
</tr>
<tr class="row-even"><td>stb4_buf</td>
<td>HBM/DDR buffer of PU4</td>
</tr>
<tr class="row-odd"><td>stb5_buf</td>
<td>HBM/DDR buffer of PU5</td>
</tr>
<tr class="row-even"><td>stb6_buf</td>
<td>HBM/DDR buffer of PU6</td>
</tr>
<tr class="row-odd"><td>stb7_buf</td>
<td>HBM/DDR buffer of PU7</td>
</tr>
<tr class="row-even"><td>j1_strm</td>
<td>output of joined rows.</td>
</tr>
<tr class="row-odd"><td>e5_strm</td>
<td>end signal of joined rows.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="hashjoinv3">
<span id="cid-xf-database-hashjoinv3"></span><span id="doxid-namespacexf-1-1database-1a62a4b4e7bd121f40dbc6f5749d5f3de1"></span><h2>hashJoinV3<a class="headerlink" href="#hashjoinv3" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/hash_join_v3.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="kt">int</span> <span class="n">HASH_MODE</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">KEYW</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">PW</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">S_PW</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">B_PW</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">HASHWH</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">HASHWL</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">ARW</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">CH_NM</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">hashJoinV3</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">KEYW</span><span class="o">&gt;&gt;</span> <span class="n">k0_strm_arry</span> <span class="p">[</span><span class="n">CH_NM</span><span class="p">],</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">PW</span><span class="o">&gt;&gt;</span> <span class="n">p0_strm_arry</span> <span class="p">[</span><span class="n">CH_NM</span><span class="p">],</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span> <span class="n">e0_strm_arry</span> <span class="p">[</span><span class="n">CH_NM</span><span class="p">],</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">htb0_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">htb1_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">htb2_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">htb3_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">htb4_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">htb5_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">htb6_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">htb7_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">stb0_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">stb1_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">stb2_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">stb3_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">stb4_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">stb5_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">stb6_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">stb7_buf</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">32</span><span class="o">&gt;&gt;&amp;</span> <span class="n">pu_begin_status_strms</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">32</span><span class="o">&gt;&gt;&amp;</span> <span class="n">pu_end_status_strms</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">KEYW</span><span class="o">+</span><span class="n">S_PW</span><span class="o">+</span><span class="n">B_PW</span><span class="o">&gt;&gt;&amp;</span> <span class="n">j_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">j_e_strm</span>
    <span class="p">)</span>
</pre>
<p>Hash-Join v3 primitive, it takes more resourse than <code class="docutils literal notranslate"><span class="pre">hashJoinMPU</span></code> and promises a better performance in large size of table.</p>
<p>The maximum size of small table is 256MBx8(HBM number)=2GB in this design. The total hash entries is equal to 1&lt;&lt;(HASHWH + HASHWL), and it is limitied to maximum of 1M entries because of the size of URAM in a single SLR.</p>
<p>This module can accept more than 1 input row per cycle, via multiple input channels. The small table and the big table shares the same input ports, so the width of the payload should be the max of both, while the data should be aligned to the little-end. To be different with <code class="docutils literal notranslate"><span class="pre">hashJoinMPU</span></code> , the small table and big table should be fed only once.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>HASH_MODE</td>
<td>0 for radix and 1 for Jenkin’s Lookup3 hash.</td>
</tr>
<tr class="row-even"><td>KEYW</td>
<td>width of key, in bit.</td>
</tr>
<tr class="row-odd"><td>PW</td>
<td>width of max payload, in bit.</td>
</tr>
<tr class="row-even"><td>S_PW</td>
<td>width of payload of small table.</td>
</tr>
<tr class="row-odd"><td>B_PW</td>
<td>width of payload of big table.</td>
</tr>
<tr class="row-even"><td>HASHWH</td>
<td>number of hash bits used for PU/buffer selection, 1~3.</td>
</tr>
<tr class="row-odd"><td>HASHWL</td>
<td>number of hash bits used for hash-table in PU.</td>
</tr>
<tr class="row-even"><td>ARW</td>
<td>width of address, larger than 24 is suggested.</td>
</tr>
<tr class="row-odd"><td>CH_NM</td>
<td>number of input channels, 1,2,4.</td>
</tr>
<tr class="row-even"><td>k0_strm_arry</td>
<td>input of key columns of both tables.</td>
</tr>
<tr class="row-odd"><td>p0_strm_arry</td>
<td>input of payload columns of both tables.</td>
</tr>
<tr class="row-even"><td>e0_strm_arry</td>
<td>input of end signal of both tables.</td>
</tr>
<tr class="row-odd"><td>htb0_buf</td>
<td>HBM/DDR buffer of hash_table0</td>
</tr>
<tr class="row-even"><td>htb1_buf</td>
<td>HBM/DDR buffer of hash_table1</td>
</tr>
<tr class="row-odd"><td>htb2_buf</td>
<td>HBM/DDR buffer of hash_table2</td>
</tr>
<tr class="row-even"><td>htb3_buf</td>
<td>HBM/DDR buffer of hash_table3</td>
</tr>
<tr class="row-odd"><td>htb4_buf</td>
<td>HBM/DDR buffer of hash_table4</td>
</tr>
<tr class="row-even"><td>htb5_buf</td>
<td>HBM/DDR buffer of hash_table5</td>
</tr>
<tr class="row-odd"><td>htb6_buf</td>
<td>HBM/DDR buffer of hash_table6</td>
</tr>
<tr class="row-even"><td>htb7_buf</td>
<td>HBM/DDR buffer of hash_table7</td>
</tr>
<tr class="row-odd"><td>stb0_buf</td>
<td>HBM/DDR buffer of PU0</td>
</tr>
<tr class="row-even"><td>stb1_buf</td>
<td>HBM/DDR buffer of PU1</td>
</tr>
<tr class="row-odd"><td>stb2_buf</td>
<td>HBM/DDR buffer of PU2</td>
</tr>
<tr class="row-even"><td>stb3_buf</td>
<td>HBM/DDR buffer of PU3</td>
</tr>
<tr class="row-odd"><td>stb4_buf</td>
<td>HBM/DDR buffer of PU4</td>
</tr>
<tr class="row-even"><td>stb5_buf</td>
<td>HBM/DDR buffer of PU5</td>
</tr>
<tr class="row-odd"><td>stb6_buf</td>
<td>HBM/DDR buffer of PU6</td>
</tr>
<tr class="row-even"><td>stb7_buf</td>
<td>HBM/DDR buffer of PU7</td>
</tr>
<tr class="row-odd"><td>pu_begin_status_strms</td>
<td>contains hash depth, row number of join result</td>
</tr>
<tr class="row-even"><td>pu_end_status_strms</td>
<td>contains hash depth, row number of join result</td>
</tr>
<tr class="row-odd"><td>j_strm</td>
<td>output of joined result</td>
</tr>
<tr class="row-even"><td>j_e_strm</td>
<td>end flag of joined result</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="hashbuildprobev3">
<span id="cid-xf-database-hashbuildprobev3"></span><span id="doxid-namespacexf-1-1database-1a153caaf82ca0987a22f308d65cc62ffd"></span><h2>hashBuildProbeV3<a class="headerlink" href="#hashbuildprobev3" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/hash_join_v3.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="kt">int</span> <span class="n">HASH_MODE</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">KEYW</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">PW</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">S_PW</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">B_PW</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">HASHWH</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">HASHWL</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">ARW</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">CH_NM</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">BF_W</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">EN_BF</span>
    <span class="o">&gt;</span>
<span class="k">static</span> <span class="kt">void</span> <span class="n">hashBuildProbeV3</span> <span class="p">(</span>
    <span class="kt">bool</span><span class="o">&amp;</span> <span class="n">build_probe_flag</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">KEYW</span><span class="o">&gt;&gt;</span> <span class="n">k0_strm_arry</span> <span class="p">[</span><span class="n">CH_NM</span><span class="p">],</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">PW</span><span class="o">&gt;&gt;</span> <span class="n">p0_strm_arry</span> <span class="p">[</span><span class="n">CH_NM</span><span class="p">],</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span> <span class="n">e0_strm_arry</span> <span class="p">[</span><span class="n">CH_NM</span><span class="p">],</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">htb0_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">htb1_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">htb2_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">htb3_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">htb4_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">htb5_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">htb6_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">htb7_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">stb0_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">stb1_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">stb2_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">stb3_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">stb4_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">stb5_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">stb6_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">stb7_buf</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">32</span><span class="o">&gt;&gt;&amp;</span> <span class="n">pu_begin_status_strms</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">32</span><span class="o">&gt;&gt;&amp;</span> <span class="n">pu_end_status_strms</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">KEYW</span><span class="o">+</span><span class="n">S_PW</span><span class="o">+</span><span class="n">B_PW</span><span class="o">&gt;&gt;&amp;</span> <span class="n">j_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">j_e_strm</span>
    <span class="p">)</span>
</pre>
<p>Hash-Build-Probe v3 primitive, it can perform hash build and hash probe separately. It needs two call of kernel to perform build and probe seperately. There is a control flag to decide buld or probe. This primitive supports multiple build and mutiple probe, for example, you can scadule a workflow as: build0-&gt;build1-&gt;probe0-&gt;probe1-&gt;build2-&gt;build3-&gt;probe3…</p>
<p>The maximum size of small table is 256MBx8=2GB in this design. The total hash entries is equal to 1&lt;&lt;(HASHWH + HASHWL), and it is limitied to maximum of 1M entries because of the size of URAM in a single SLR.</p>
<p>This module can accept more than 1 input row per cycle, via multiple input channels. The small table and the big table shares the same input ports, so the width of the payload should be the max of both, while the data should be aligned to the little-end. The small table and big table should be fed only ONCE.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>HASH_MODE</td>
<td>0 for radix and 1 for Jenkin’s Lookup3 hash.</td>
</tr>
<tr class="row-even"><td>KEYW</td>
<td>width of key, in bit.</td>
</tr>
<tr class="row-odd"><td>PW</td>
<td>width of max payload, in bit.</td>
</tr>
<tr class="row-even"><td>S_PW</td>
<td>width of payload of small table.</td>
</tr>
<tr class="row-odd"><td>B_PW</td>
<td>width of payload of big table.</td>
</tr>
<tr class="row-even"><td>HASHWH</td>
<td>number of hash bits used for PU/buffer selection, 1~3.</td>
</tr>
<tr class="row-odd"><td>HASHWL</td>
<td>number of hash bits used for hash-table in PU.</td>
</tr>
<tr class="row-even"><td>ARW</td>
<td>width of address, log2(small table max num of rows).</td>
</tr>
<tr class="row-odd"><td>CH_NM</td>
<td>number of input channels, 1,2,4.</td>
</tr>
<tr class="row-even"><td>BF_W</td>
<td>bloom-filter hash width.</td>
</tr>
<tr class="row-odd"><td>EN_BF</td>
<td>bloom-filter switch, 0 for off, 1 for on.</td>
</tr>
<tr class="row-even"><td>build_probe_flag</td>
<td>0:build 1:probe</td>
</tr>
<tr class="row-odd"><td>k0_strm_arry</td>
<td>input of key columns of both tables.</td>
</tr>
<tr class="row-even"><td>p0_strm_arry</td>
<td>input of payload columns of both tables.</td>
</tr>
<tr class="row-odd"><td>e0_strm_arry</td>
<td>input of end signal of both tables.</td>
</tr>
<tr class="row-even"><td>htb0_buf</td>
<td>HBM/DDR buffer of hash_table0</td>
</tr>
<tr class="row-odd"><td>htb1_buf</td>
<td>HBM/DDR buffer of hash_table1</td>
</tr>
<tr class="row-even"><td>htb2_buf</td>
<td>HBM/DDR buffer of hash_table2</td>
</tr>
<tr class="row-odd"><td>htb3_buf</td>
<td>HBM/DDR buffer of hash_table3</td>
</tr>
<tr class="row-even"><td>htb4_buf</td>
<td>HBM/DDR buffer of hash_table4</td>
</tr>
<tr class="row-odd"><td>htb5_buf</td>
<td>HBM/DDR buffer of hash_table5</td>
</tr>
<tr class="row-even"><td>htb6_buf</td>
<td>HBM/DDR buffer of hash_table6</td>
</tr>
<tr class="row-odd"><td>htb7_buf</td>
<td>HBM/DDR buffer of hash_table7</td>
</tr>
<tr class="row-even"><td>stb0_buf</td>
<td>HBM/DDR buffer of PU0</td>
</tr>
<tr class="row-odd"><td>stb1_buf</td>
<td>HBM/DDR buffer of PU1</td>
</tr>
<tr class="row-even"><td>stb2_buf</td>
<td>HBM/DDR buffer of PU2</td>
</tr>
<tr class="row-odd"><td>stb3_buf</td>
<td>HBM/DDR buffer of PU3</td>
</tr>
<tr class="row-even"><td>stb4_buf</td>
<td>HBM/DDR buffer of PU4</td>
</tr>
<tr class="row-odd"><td>stb5_buf</td>
<td>HBM/DDR buffer of PU5</td>
</tr>
<tr class="row-even"><td>stb6_buf</td>
<td>HBM/DDR buffer of PU6</td>
</tr>
<tr class="row-odd"><td>stb7_buf</td>
<td>HBM/DDR buffer of PU7</td>
</tr>
<tr class="row-even"><td>pu_begin_status_strms</td>
<td>contains build id, fixed hash depth, joined number of last probe and start addr of unused stb_buf for each PU</td>
</tr>
<tr class="row-odd"><td>pu_end_status_strms</td>
<td>returns next build id, fixed hash depth, joined number of current probe and end addr of used stb_buf for each PU</td>
</tr>
<tr class="row-even"><td>j_strm</td>
<td>output of joined result</td>
</tr>
<tr class="row-odd"><td>j_e_strm</td>
<td>end flag of joined result</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="hashjoinv4">
<span id="cid-xf-database-hashjoinv4"></span><span id="doxid-namespacexf-1-1database-1a9c40690dfde94e8865f8bd64557689d7"></span><h2>hashJoinV4<a class="headerlink" href="#hashjoinv4" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/hash_join_v4.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="kt">int</span> <span class="n">HASH_MODE</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">KEYW</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">PW</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">S_PW</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">B_PW</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">HASHWH</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">HASHWL</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">ARW</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">CH_NM</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">BF_HASH_NM</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">BFW</span><span class="p">,</span>
    <span class="kt">bool</span> <span class="n">EN_BF</span>
    <span class="o">&gt;</span>
<span class="k">static</span> <span class="kt">void</span> <span class="n">hashJoinV4</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">KEYW</span><span class="o">&gt;&gt;</span> <span class="n">k0_strm_arry</span> <span class="p">[</span><span class="n">CH_NM</span><span class="p">],</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">PW</span><span class="o">&gt;&gt;</span> <span class="n">p0_strm_arry</span> <span class="p">[</span><span class="n">CH_NM</span><span class="p">],</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span> <span class="n">e0_strm_arry</span> <span class="p">[</span><span class="n">CH_NM</span><span class="p">],</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">htb0_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">htb1_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">htb2_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">htb3_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">htb4_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">htb5_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">htb6_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">htb7_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">stb0_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">stb1_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">stb2_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">stb3_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">stb4_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">stb5_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">stb6_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">stb7_buf</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">32</span><span class="o">&gt;&gt;&amp;</span> <span class="n">pu_begin_status_strms</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">32</span><span class="o">&gt;&gt;&amp;</span> <span class="n">pu_end_status_strms</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">KEYW</span><span class="o">+</span><span class="n">S_PW</span><span class="o">+</span><span class="n">B_PW</span><span class="o">&gt;&gt;&amp;</span> <span class="n">j_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">j_e_strm</span>
    <span class="p">)</span>
</pre>
<p>Hash-Join v4 primitive, using bloom filter to enhance performance of hash join.</p>
<p>The build and probe procedure is similar to which in <code class="docutils literal notranslate"><span class="pre">hashJoinV3</span></code> , and this primitive adds a bloom filter to reduce the redundant access to HBM.</p>
<p>The maximum size of small table is 256MBx8=2GB in this design. The total hash entries is equal to 1&lt;&lt;(HASHWH + HASHWL), and it is limitied to maximum of 1M entries because of the size of URAM in a single SLR.</p>
<p>This module can accept more than 1 input row per cycle, via multiple input channels. The small table and the big table shares the same input ports, so the width of the payload should be the max of both, while the data should be aligned to the little-end. Similar to <code class="docutils literal notranslate"><span class="pre">hashJoinV3</span></code> , small table and big table should be fed only once.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>HASH_MODE</td>
<td>0 for radix and 1 for Jenkin’s Lookup3 hash.</td>
</tr>
<tr class="row-even"><td>KEYW</td>
<td>width of key, in bit.</td>
</tr>
<tr class="row-odd"><td>PW</td>
<td>width of max payload, in bit.</td>
</tr>
<tr class="row-even"><td>S_PW</td>
<td>width of payload of small table.</td>
</tr>
<tr class="row-odd"><td>B_PW</td>
<td>width of payload of big table.</td>
</tr>
<tr class="row-even"><td>HASHWH</td>
<td>number of hash bits used for PU/buffer selection, 1~3.</td>
</tr>
<tr class="row-odd"><td>HASHWL</td>
<td>number of hash bits used for hash-table in PU.</td>
</tr>
<tr class="row-even"><td>ARW</td>
<td>width of address, log2(small table max num of rows).</td>
</tr>
<tr class="row-odd"><td>CH_NM</td>
<td>number of input channels, 1,2,4.</td>
</tr>
<tr class="row-even"><td>BF_HASH_NM</td>
<td>number of bloom filter, 1,2,3.</td>
</tr>
<tr class="row-odd"><td>BF_W</td>
<td>bloom-filter hash width.</td>
</tr>
<tr class="row-even"><td>EN_BF</td>
<td>bloom-filter switch, 0 for off, 1 for on.</td>
</tr>
<tr class="row-odd"><td>k0_strm_arry</td>
<td>input of key columns of both tables.</td>
</tr>
<tr class="row-even"><td>p0_strm_arry</td>
<td>input of payload columns of both tables.</td>
</tr>
<tr class="row-odd"><td>e0_strm_arry</td>
<td>input of end signal of both tables.</td>
</tr>
<tr class="row-even"><td>htb0_buf</td>
<td>HBM/DDR buffer of hash_table0</td>
</tr>
<tr class="row-odd"><td>htb1_buf</td>
<td>HBM/DDR buffer of hash_table1</td>
</tr>
<tr class="row-even"><td>htb2_buf</td>
<td>HBM/DDR buffer of hash_table2</td>
</tr>
<tr class="row-odd"><td>htb3_buf</td>
<td>HBM/DDR buffer of hash_table3</td>
</tr>
<tr class="row-even"><td>htb4_buf</td>
<td>HBM/DDR buffer of hash_table4</td>
</tr>
<tr class="row-odd"><td>htb5_buf</td>
<td>HBM/DDR buffer of hash_table5</td>
</tr>
<tr class="row-even"><td>htb6_buf</td>
<td>HBM/DDR buffer of hash_table6</td>
</tr>
<tr class="row-odd"><td>htb7_buf</td>
<td>HBM/DDR buffer of hash_table7</td>
</tr>
<tr class="row-even"><td>stb0_buf</td>
<td>HBM/DDR buffer of PU0</td>
</tr>
<tr class="row-odd"><td>stb1_buf</td>
<td>HBM/DDR buffer of PU1</td>
</tr>
<tr class="row-even"><td>stb2_buf</td>
<td>HBM/DDR buffer of PU2</td>
</tr>
<tr class="row-odd"><td>stb3_buf</td>
<td>HBM/DDR buffer of PU3</td>
</tr>
<tr class="row-even"><td>stb4_buf</td>
<td>HBM/DDR buffer of PU4</td>
</tr>
<tr class="row-odd"><td>stb5_buf</td>
<td>HBM/DDR buffer of PU5</td>
</tr>
<tr class="row-even"><td>stb6_buf</td>
<td>HBM/DDR buffer of PU6</td>
</tr>
<tr class="row-odd"><td>stb7_buf</td>
<td>HBM/DDR buffer of PU7</td>
</tr>
<tr class="row-even"><td>pu_begin_status_strms</td>
<td>contains build id, fixed hash depth</td>
</tr>
<tr class="row-odd"><td>pu_end_status_strms</td>
<td>returns next build id, fixed hash depth, joined number</td>
</tr>
<tr class="row-even"><td>j_strm</td>
<td>output of joined result</td>
</tr>
<tr class="row-odd"><td>j_e_strm</td>
<td>end flag of joined result</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="hashbuildprobev4">
<span id="cid-xf-database-hashbuildprobev4"></span><span id="doxid-namespacexf-1-1database-1a04357dba13166b3f738495ec7af1a745"></span><h2>hashBuildProbeV4<a class="headerlink" href="#hashbuildprobev4" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/hash_join_v4.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="kt">int</span> <span class="n">KEYW</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">PW</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">S_PW</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">B_PW</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">HASHWH</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">HASHWL</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">HASHO</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">ARW</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">CH_NM</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">BF_HASH_NM</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">BFW</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">EN_BF</span>
    <span class="o">&gt;</span>
<span class="k">static</span> <span class="kt">void</span> <span class="n">hashBuildProbeV4</span> <span class="p">(</span>
    <span class="kt">bool</span><span class="o">&amp;</span> <span class="n">build_probe_flag</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">KEYW</span><span class="o">&gt;&gt;</span> <span class="n">k0_strm_arry</span> <span class="p">[</span><span class="n">CH_NM</span><span class="p">],</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">PW</span><span class="o">&gt;&gt;</span> <span class="n">p0_strm_arry</span> <span class="p">[</span><span class="n">CH_NM</span><span class="p">],</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span> <span class="n">e0_strm_arry</span> <span class="p">[</span><span class="n">CH_NM</span><span class="p">],</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">htb0_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">htb1_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">htb2_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">htb3_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">htb4_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">htb5_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">htb6_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">htb7_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">stb0_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">stb1_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">stb2_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">stb3_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">stb4_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">stb5_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">stb6_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">stb7_buf</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">32</span><span class="o">&gt;&gt;&amp;</span> <span class="n">pu_begin_status_strms</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">32</span><span class="o">&gt;&gt;&amp;</span> <span class="n">pu_end_status_strms</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">KEYW</span><span class="o">+</span><span class="n">S_PW</span><span class="o">+</span><span class="n">B_PW</span><span class="o">&gt;&gt;&amp;</span> <span class="n">j_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">j_e_strm</span>
    <span class="p">)</span>
</pre>
<p>Hash-Build-Probe v4 primitive. Compared with <code class="docutils literal notranslate"><span class="pre">HashBuildProbeV3</span></code> , it enables bloom filter to reduce redundant access to HBM which can further reduce run-time of hash join. Build and probe are separately performed and controlled by a boolean flag. Mutiple build and probe are also provided, and it should make sure all rows in build phase can be stored temporarily in HBM to maintain correctness.</p>
<p>The maximum size of small table is 256MBx8=2GB in this design. The total hash entries is equal to 1&lt;&lt;(HASHWH + HASHWL), and it is limitied to maximun of 1M entries because of the size of URAM in a single SLR.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>KEYW</td>
<td>width of key, in bit.</td>
</tr>
<tr class="row-even"><td>PW</td>
<td>width of max payload, in bit.</td>
</tr>
<tr class="row-odd"><td>S_PW</td>
<td>width of payload of small table.</td>
</tr>
<tr class="row-even"><td>B_PW</td>
<td>width of payload of big table.</td>
</tr>
<tr class="row-odd"><td>HASHWH</td>
<td>number of hash bits used for PU/buffer selection, 1~3.</td>
</tr>
<tr class="row-even"><td>HASHWL</td>
<td>number of hash bits used for hash-table in PU.</td>
</tr>
<tr class="row-odd"><td>HASHO</td>
<td>number of hash bits used for overflow hash counter, 8-12.</td>
</tr>
<tr class="row-even"><td>ARW</td>
<td>width of address, log2(small table max num of rows).</td>
</tr>
<tr class="row-odd"><td>CH_NM</td>
<td>number of input channels, 1,2,4.</td>
</tr>
<tr class="row-even"><td>BF_HASH_NM</td>
<td>number of hash functions in bloom filter, 1,2,3.</td>
</tr>
<tr class="row-odd"><td>BFW</td>
<td>bloom-filter hash width.</td>
</tr>
<tr class="row-even"><td>EN_BF</td>
<td>bloom-filter switch, 0 for off, 1 for on.</td>
</tr>
<tr class="row-odd"><td>build_probe_flag</td>
<td>0:build 1:probe</td>
</tr>
<tr class="row-even"><td>k0_strm_arry</td>
<td>input of key columns of both tables.</td>
</tr>
<tr class="row-odd"><td>p0_strm_arry</td>
<td>input of payload columns of both tables.</td>
</tr>
<tr class="row-even"><td>e0_strm_arry</td>
<td>input of end signal of both tables.</td>
</tr>
<tr class="row-odd"><td>htb0_buf</td>
<td>HBM/DDR buffer of hash_table0</td>
</tr>
<tr class="row-even"><td>htb1_buf</td>
<td>HBM/DDR buffer of hash_table1</td>
</tr>
<tr class="row-odd"><td>htb2_buf</td>
<td>HBM/DDR buffer of hash_table2</td>
</tr>
<tr class="row-even"><td>htb3_buf</td>
<td>HBM/DDR buffer of hash_table3</td>
</tr>
<tr class="row-odd"><td>htb4_buf</td>
<td>HBM/DDR buffer of hash_table4</td>
</tr>
<tr class="row-even"><td>htb5_buf</td>
<td>HBM/DDR buffer of hash_table5</td>
</tr>
<tr class="row-odd"><td>htb6_buf</td>
<td>HBM/DDR buffer of hash_table6</td>
</tr>
<tr class="row-even"><td>htb7_buf</td>
<td>HBM/DDR buffer of hash_table7</td>
</tr>
<tr class="row-odd"><td>stb0_buf</td>
<td>HBM/DDR buffer of PU0</td>
</tr>
<tr class="row-even"><td>stb1_buf</td>
<td>HBM/DDR buffer of PU1</td>
</tr>
<tr class="row-odd"><td>stb2_buf</td>
<td>HBM/DDR buffer of PU2</td>
</tr>
<tr class="row-even"><td>stb3_buf</td>
<td>HBM/DDR buffer of PU3</td>
</tr>
<tr class="row-odd"><td>stb4_buf</td>
<td>HBM/DDR buffer of PU4</td>
</tr>
<tr class="row-even"><td>stb5_buf</td>
<td>HBM/DDR buffer of PU5</td>
</tr>
<tr class="row-odd"><td>stb6_buf</td>
<td>HBM/DDR buffer of PU6</td>
</tr>
<tr class="row-even"><td>stb7_buf</td>
<td>HBM/DDR buffer of PU7</td>
</tr>
<tr class="row-odd"><td>pu_begin_status_strms</td>
<td>contains build ID, probe ID, fixed hash depth, joined number of last probe and start addr of unused stb_buf for each PU</td>
</tr>
<tr class="row-even"><td>pu_end_status_strms</td>
<td>returns next build ID, next probe ID, fixed hash depth, joined number of current probe and end addr of stb_buf for each PU</td>
</tr>
<tr class="row-odd"><td>j_strm</td>
<td>output of joined rows.</td>
</tr>
<tr class="row-even"><td>j_e_strm</td>
<td>is the end flag of joined result.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="hashlookup3">
<span id="cid-xf-database-hashlookup3-2"></span><span id="doxid-namespacexf-1-1database-1ab6c74a152296c2ebfc8d2d61bd3c257f"></span><h2>hashLookup3<a class="headerlink" href="#hashlookup3" title="Permalink to this headline">¶</a></h2>
<div class="section" id="hashlookup3-overload-1">
<h3>hashLookup3 overload (1)<a class="headerlink" href="#hashlookup3-overload-1" title="Permalink to this headline">¶</a></h3>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/hash_lookup3.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span><span class="kt">int</span> <span class="n">W</span><span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">hashLookup3</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">W</span><span class="o">&gt;&gt;&amp;</span> <span class="n">key_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;&gt;&amp;</span> <span class="n">hash_strm</span>
    <span class="p">)</span>
</pre>
<p>lookup3 algorithm, 64-bit hash. II=1 when W&lt;=96, otherwise II=(W/96).</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>W</td>
<td>the bit width of ap_uint type for input message stream.</td>
</tr>
<tr class="row-even"><td>key_strm</td>
<td>the message being hashed.</td>
</tr>
<tr class="row-odd"><td>hash_strm</td>
<td>the result.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="hashlookup3-overload-2">
<span id="cid-xf-database-hashlookup3-3"></span><span id="doxid-namespacexf-1-1database-1a9b7e3ca38c36e0243a56ab4d5553be2f"></span><h3>hashLookup3 overload (2)<a class="headerlink" href="#hashlookup3-overload-2" title="Permalink to this headline">¶</a></h3>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/hash_lookup3.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span><span class="kt">int</span> <span class="n">W</span><span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">hashLookup3</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">W</span><span class="o">&gt;&gt;&amp;</span> <span class="n">key_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">32</span><span class="o">&gt;&gt;&amp;</span> <span class="n">hash_strm</span>
    <span class="p">)</span>
</pre>
<p>lookup3 algorithm, 32-bit hash. II=1 when W&lt;=96, otherwise II=(W/96).</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>W</td>
<td>the bit width of ap_uint type for input message stream.</td>
</tr>
<tr class="row-even"><td>key_strm</td>
<td>the message being hashed.</td>
</tr>
<tr class="row-odd"><td>hash_strm</td>
<td>the result.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="hashlookup3-overload-3">
<span id="cid-xf-database-hashlookup3-4"></span><span id="doxid-namespacexf-1-1database-1a9ac7fa85a272709594b05195b7d43081"></span><h3>hashLookup3 overload (3)<a class="headerlink" href="#hashlookup3-overload-3" title="Permalink to this headline">¶</a></h3>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/hash_lookup3.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="kt">int</span> <span class="n">WK</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">WH</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">hashLookup3</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">WK</span><span class="o">&gt;&gt;&amp;</span> <span class="n">key_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">e_key_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">WH</span><span class="o">&gt;&gt;&amp;</span> <span class="n">hash_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">e_hash_strm</span>
    <span class="p">)</span>
</pre>
<p>lookup3 algorithm, 64-bit or 32-bit hash.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>WK</td>
<td>the bit width of input message stream.</td>
</tr>
<tr class="row-even"><td>WH</td>
<td>the bit width of output hash stream, must be 64 or 32.</td>
</tr>
<tr class="row-odd"><td>key_strm</td>
<td>the message being hashed.</td>
</tr>
<tr class="row-even"><td>e_key_strm</td>
<td>end of key flag stream.</td>
</tr>
<tr class="row-odd"><td>hash_strm</td>
<td>the result.</td>
</tr>
<tr class="row-even"><td>e_hash_strm</td>
<td>end of hash flag stream.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="hashmultijoin">
<span id="cid-xf-database-hashmultijoin"></span><span id="doxid-namespacexf-1-1database-1a6294c70a4185cfc6af9b9d864e1d0085"></span><h2>hashMultiJoin<a class="headerlink" href="#hashmultijoin" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/hash_multi_join.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="kt">int</span> <span class="n">HASH_MODE</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">KEYW</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">PW</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">S_PW</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">B_PW</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">HASHWH</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">HASHWL</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">ARW</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">CH_NM</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">hashMultiJoin</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">3</span><span class="o">&gt;&gt;&amp;</span> <span class="n">join_flag_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">KEYW</span><span class="o">&gt;&gt;</span> <span class="n">k0_strm_arry</span> <span class="p">[</span><span class="n">CH_NM</span><span class="p">],</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">PW</span><span class="o">&gt;&gt;</span> <span class="n">p0_strm_arry</span> <span class="p">[</span><span class="n">CH_NM</span><span class="p">],</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span> <span class="n">e0_strm_arry</span> <span class="p">[</span><span class="n">CH_NM</span><span class="p">],</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">htb0_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">htb1_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">htb2_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">htb3_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">htb4_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">htb5_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">htb6_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">htb7_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">stb0_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">stb1_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">stb2_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">stb3_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">stb4_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">stb5_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">stb6_buf</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;*</span> <span class="n">stb7_buf</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">32</span><span class="o">&gt;&gt;&amp;</span> <span class="n">pu_begin_status_strms</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">32</span><span class="o">&gt;&gt;&amp;</span> <span class="n">pu_end_status_strms</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">KEYW</span><span class="o">+</span><span class="n">S_PW</span><span class="o">+</span><span class="n">B_PW</span><span class="o">&gt;&gt;&amp;</span> <span class="n">j_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">j_e_strm</span>
    <span class="p">)</span>
</pre>
<p>Multi-PU Hash-Multi-Join primitive, using multiple DDR/HBM buffers.</p>
<p>This primitive shares most of the structure of <code class="docutils literal notranslate"><span class="pre">hashJoinV3</span></code> . The inner table should be fed once, followed by the outer table once.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>HASH_MODE</td>
<td>0 for radix and 1 for Jenkin’s Lookup3 hash.</td>
</tr>
<tr class="row-even"><td>KEYW</td>
<td>width of key, in bit.</td>
</tr>
<tr class="row-odd"><td>PW</td>
<td>width of max payload, in bit.</td>
</tr>
<tr class="row-even"><td>S_PW</td>
<td>width of payload of small table.</td>
</tr>
<tr class="row-odd"><td>B_PW</td>
<td>width of payload of big table.</td>
</tr>
<tr class="row-even"><td>HASHWH</td>
<td>number of hash bits used for PU/buffer selection, 1~3.</td>
</tr>
<tr class="row-odd"><td>HASHWL</td>
<td>number of hash bits used for hash-table in PU.</td>
</tr>
<tr class="row-even"><td>ARW</td>
<td>width of address, larger than 24 is suggested.</td>
</tr>
<tr class="row-odd"><td>CH_NM</td>
<td>number of input channels, 1,2,4.</td>
</tr>
<tr class="row-even"><td>join_flag_strm</td>
<td>specifies the join type, this flag is only read once.</td>
</tr>
<tr class="row-odd"><td>k0_strm_arry</td>
<td>input of key columns of both tables.</td>
</tr>
<tr class="row-even"><td>p0_strm_arry</td>
<td>input of payload columns of both tables.</td>
</tr>
<tr class="row-odd"><td>e0_strm_arry</td>
<td>input of end signal of both tables.</td>
</tr>
<tr class="row-even"><td>htb0_buf</td>
<td>HBM/DDR buffer of hash_table0</td>
</tr>
<tr class="row-odd"><td>htb1_buf</td>
<td>HBM/DDR buffer of hash_table1</td>
</tr>
<tr class="row-even"><td>htb2_buf</td>
<td>HBM/DDR buffer of hash_table2</td>
</tr>
<tr class="row-odd"><td>htb3_buf</td>
<td>HBM/DDR buffer of hash_table3</td>
</tr>
<tr class="row-even"><td>htb4_buf</td>
<td>HBM/DDR buffer of hash_table4</td>
</tr>
<tr class="row-odd"><td>htb5_buf</td>
<td>HBM/DDR buffer of hash_table5</td>
</tr>
<tr class="row-even"><td>htb6_buf</td>
<td>HBM/DDR buffer of hash_table6</td>
</tr>
<tr class="row-odd"><td>htb7_buf</td>
<td>HBM/DDR buffer of hash_table7</td>
</tr>
<tr class="row-even"><td>stb0_buf</td>
<td>HBM/DDR buffer of PU0</td>
</tr>
<tr class="row-odd"><td>stb1_buf</td>
<td>HBM/DDR buffer of PU1</td>
</tr>
<tr class="row-even"><td>stb2_buf</td>
<td>HBM/DDR buffer of PU2</td>
</tr>
<tr class="row-odd"><td>stb3_buf</td>
<td>HBM/DDR buffer of PU3</td>
</tr>
<tr class="row-even"><td>stb4_buf</td>
<td>HBM/DDR buffer of PU4</td>
</tr>
<tr class="row-odd"><td>stb5_buf</td>
<td>HBM/DDR buffer of PU5</td>
</tr>
<tr class="row-even"><td>stb6_buf</td>
<td>HBM/DDR buffer of PU6</td>
</tr>
<tr class="row-odd"><td>stb7_buf</td>
<td>HBM/DDR buffer of PU7</td>
</tr>
<tr class="row-even"><td>pu_begin_status_strms</td>
<td>constains depth of hash, row number of join result</td>
</tr>
<tr class="row-odd"><td>pu_end_status_strms</td>
<td>constains depth of hash, row number of join result</td>
</tr>
<tr class="row-even"><td>j_strm</td>
<td>output of joined result</td>
</tr>
<tr class="row-odd"><td>j_e_strm</td>
<td>end flag of joined result</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="hashmurmur3">
<span id="cid-xf-database-hashmurmur3"></span><span id="doxid-namespacexf-1-1database-1a2391f4807b9d534a90defe74925f021a"></span><h2>hashMurmur3<a class="headerlink" href="#hashmurmur3" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/hash_murmur3.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="kt">int</span> <span class="n">W</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">H</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">hashMurmur3</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">W</span><span class="o">&gt;&gt;&amp;</span> <span class="n">key_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">H</span><span class="o">&gt;&gt;&amp;</span> <span class="n">hash_strm</span>
    <span class="p">)</span>
</pre>
<p>murmur3 algorithm.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>W</td>
<td>the bit width of ap_uint type for input message stream.</td>
</tr>
<tr class="row-even"><td>h</td>
<td>the bit width of ap_uint type for output hash stream.</td>
</tr>
<tr class="row-odd"><td>key_strm</td>
<td>the message being hashed.</td>
</tr>
<tr class="row-even"><td>hash_strm</td>
<td>the result.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="hashpartition">
<span id="cid-xf-database-hashpartition"></span><span id="doxid-namespacexf-1-1database-1a7e26c1c358c35ab49d23d391ea136bce"></span><h2>hashPartition<a class="headerlink" href="#hashpartition" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/hash_partition.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="kt">int</span> <span class="n">HASH_MODE</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">KEYW</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">PW</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">EW</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">HASHWH</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">HASHWL</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">ARW</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">CH_NM</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">COL_NM</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">hashPartition</span> <span class="p">(</span>
    <span class="kt">bool</span> <span class="n">mk_on</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">depth</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">bit_num_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">KEYW</span><span class="o">&gt;&gt;</span> <span class="n">k0_strm_arry</span> <span class="p">[</span><span class="n">CH_NM</span><span class="p">],</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">PW</span><span class="o">&gt;&gt;</span> <span class="n">p0_strm_arry</span> <span class="p">[</span><span class="n">CH_NM</span><span class="p">],</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span> <span class="n">e0_strm_arry</span> <span class="p">[</span><span class="n">CH_NM</span><span class="p">],</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">16</span><span class="o">&gt;&gt;&amp;</span> <span class="n">o_bkpu_num_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">10</span><span class="o">&gt;&gt;&amp;</span> <span class="n">o_nm_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">EW</span><span class="o">&gt;&gt;</span> <span class="n">o_kpld_strm</span> <span class="p">[</span><span class="n">COL_NM</span><span class="p">]</span>
    <span class="p">)</span>
</pre>
<p>Hash-Partition primitive.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>HASH_MODE</td>
<td>0 for radix and 1 for Jenkin’s Lookup3 hash.</td>
</tr>
<tr class="row-even"><td>KEYW</td>
<td>width of key, in bit.</td>
</tr>
<tr class="row-odd"><td>PW</td>
<td>width of max payload, in bit.</td>
</tr>
<tr class="row-even"><td>EW</td>
<td>element data width of input table, in bit.</td>
</tr>
<tr class="row-odd"><td>HASHWH</td>
<td>number of hash bits used for PU selection.</td>
</tr>
<tr class="row-even"><td>HASHWL</td>
<td>number of hash bits used for partition selection.</td>
</tr>
<tr class="row-odd"><td>ARW</td>
<td>width of address for URAM</td>
</tr>
<tr class="row-even"><td>CH_NM</td>
<td>number of input channels, 1,2,4.</td>
</tr>
<tr class="row-odd"><td>COL_NM</td>
<td>number of input columns, 1~8.</td>
</tr>
<tr class="row-even"><td>mk_on</td>
<td>input of double key flag, 0 for off, 1 for on.</td>
</tr>
<tr class="row-odd"><td>depth</td>
<td>input of depth of each hash bucket in URAM.</td>
</tr>
<tr class="row-even"><td>bit_num_strm</td>
<td>input of partition number, log2(number of partition).</td>
</tr>
<tr class="row-odd"><td>k0_strm_arry</td>
<td>input of key columns of both tables.</td>
</tr>
<tr class="row-even"><td>p0_strm_arry</td>
<td>input of payload columns of both tables.</td>
</tr>
<tr class="row-odd"><td>e0_strm_arry</td>
<td>input of end signal of both tables.</td>
</tr>
<tr class="row-even"><td>o_bkpu_num_strm</td>
<td>output of index for bucket and PU</td>
</tr>
<tr class="row-odd"><td>o_nm_strm</td>
<td>output of row number each time</td>
</tr>
<tr class="row-even"><td>o_kpld_strm</td>
<td>output of key+payload</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="hashsemijoin">
<span id="cid-xf-database-hashsemijoin"></span><span id="doxid-namespacexf-1-1database-1a74a9da224c92818957ca08d551540295"></span><h2>hashSemiJoin<a class="headerlink" href="#hashsemijoin" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/hash_semi_join.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="kt">int</span> <span class="n">HashMode</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">WKey</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">WPayload</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">WHashHigh</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">WhashLow</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">WTmpBufferAddress</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">WTmpBuffer</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">NChannels</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">WBloomFilter</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">EnBloomFilter</span>
    <span class="o">&gt;</span>
<span class="k">static</span> <span class="kt">void</span> <span class="n">hashSemiJoin</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">WKey</span><span class="o">&gt;&gt;</span> <span class="n">key_istrms</span> <span class="p">[</span><span class="n">NChannels</span><span class="p">],</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">WPayload</span><span class="o">&gt;&gt;</span> <span class="n">payload_istrms</span> <span class="p">[</span><span class="n">NChannels</span><span class="p">],</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span> <span class="n">e0_strm_arry</span> <span class="p">[</span><span class="n">NChannels</span><span class="p">],</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">WTmpBuffer</span><span class="o">&gt;*</span> <span class="n">pu0_tmp_rwtpr</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">WTmpBuffer</span><span class="o">&gt;*</span> <span class="n">pu1_tmp_rwptr</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">WTmpBuffer</span><span class="o">&gt;*</span> <span class="n">pu2_tmp_rwptr</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">WTmpBuffer</span><span class="o">&gt;*</span> <span class="n">pu3_tmp_rwptr</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">WTmpBuffer</span><span class="o">&gt;*</span> <span class="n">pu4_tmp_rwptr</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">WTmpBuffer</span><span class="o">&gt;*</span> <span class="n">pu5_tmp_rwptr</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">WTmpBuffer</span><span class="o">&gt;*</span> <span class="n">pu6_tmp_rwptr</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">WTmpBuffer</span><span class="o">&gt;*</span> <span class="n">pu7_tmp_rwptr</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">WPayload</span><span class="o">&gt;&gt;&amp;</span> <span class="n">join_ostrm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">end_ostrm</span>
    <span class="p">)</span>
</pre>
<p>Multi-PU Hash-Semi-Join primitive, using multiple DDR/HBM buffers.</p>
<p>The max number of lines of inner table is 2M in this design. It is assumed that the hash-conflict is within 256K per bin.</p>
<p>This module can accept more than 1 input row per cycle, via multiple input channels. The outer table and the inner table share the same input ports, so the width of the payload should be the max of both, while the data should be aligned to the little-end. The inner table should be fed TWICE, followed by the outer table ONCE.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>HashMode</td>
<td>0 for radix and 1 for Jenkin’s Lookup3 hash.</td>
</tr>
<tr class="row-even"><td>WKey</td>
<td>width of key, in bit.</td>
</tr>
<tr class="row-odd"><td>WPayload</td>
<td>width of payload of outer table.</td>
</tr>
<tr class="row-even"><td>WHashHigh</td>
<td>number of hash bits used for PU/buffer selection, 1~3.</td>
</tr>
<tr class="row-odd"><td>WhashLow</td>
<td>number of hash bits used for hash-table in PU.</td>
</tr>
<tr class="row-even"><td>WTmpBufferAddress</td>
<td>width of address, log2(inner table max num of rows).</td>
</tr>
<tr class="row-odd"><td>WTmpBuffer</td>
<td>width of buffer.</td>
</tr>
<tr class="row-even"><td>NChannels</td>
<td>number of input channels, 1,2,4.</td>
</tr>
<tr class="row-odd"><td>WBloomFilter</td>
<td>bloom-filter hash width.</td>
</tr>
<tr class="row-even"><td>EnBloomFilter</td>
<td>bloom-filter switch, 0 for off, 1 for on.</td>
</tr>
<tr class="row-odd"><td>key_istrms</td>
<td>input of key columns of both tables.</td>
</tr>
<tr class="row-even"><td>payload_istrms</td>
<td>input of payload columns of both tables.</td>
</tr>
<tr class="row-odd"><td>e0_strm_arry</td>
<td>input of end signal of both tables.</td>
</tr>
<tr class="row-even"><td>pu0_tmp_rwtpr</td>
<td>HBM/DDR buffer of PU0</td>
</tr>
<tr class="row-odd"><td>pu1_tmp_rwptr</td>
<td>HBM/DDR buffer of PU1</td>
</tr>
<tr class="row-even"><td>pu2_tmp_rwptr</td>
<td>HBM/DDR buffer of PU2</td>
</tr>
<tr class="row-odd"><td>pu3_tmp_rwptr</td>
<td>HBM/DDR buffer of PU3</td>
</tr>
<tr class="row-even"><td>pu4_tmp_rwptr</td>
<td>HBM/DDR buffer of PU4</td>
</tr>
<tr class="row-odd"><td>pu5_tmp_rwptr</td>
<td>HBM/DDR buffer of PU5</td>
</tr>
<tr class="row-even"><td>pu6_tmp_rwptr</td>
<td>HBM/DDR buffer of PU6</td>
</tr>
<tr class="row-odd"><td>pu7_tmp_rwptr</td>
<td>HBM/DDR buffer of PU7</td>
</tr>
<tr class="row-even"><td>join_ostrm</td>
<td>output of joined rows.</td>
</tr>
<tr class="row-odd"><td>end_ostrm</td>
<td>end signal of joined rows.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="insertsort">
<span id="cid-xf-database-insertsort"></span><span id="doxid-namespacexf-1-1database-1a8fa6206f2928ff47aa4ade16b8a23619"></span><h2>insertSort<a class="headerlink" href="#insertsort" title="Permalink to this headline">¶</a></h2>
<div class="section" id="insertsort-overload-1">
<h3>insertSort overload (1)<a class="headerlink" href="#insertsort-overload-1" title="Permalink to this headline">¶</a></h3>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/insert_sort.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="k">typename</span> <span class="n">KEY_TYPE</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">MAX_SORT_NUMBER</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">insertSort</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">KEY_TYPE</span><span class="o">&gt;&amp;</span> <span class="n">kinStrm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">endInStrm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">KEY_TYPE</span><span class="o">&gt;&amp;</span> <span class="n">koutStrm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">endOutStrm</span><span class="p">,</span>
    <span class="kt">bool</span> <span class="n">order</span>
    <span class="p">)</span>
</pre>
<p>Insert sort top function.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>KEY_TYPE</td>
<td>the input and output key type</td>
</tr>
<tr class="row-even"><td>MAX_SORT_NUMBER</td>
<td>the max number of the sequence can be sorted</td>
</tr>
<tr class="row-odd"><td>kinStrm</td>
<td>input key stream</td>
</tr>
<tr class="row-even"><td>endInStrm</td>
<td>end flag stream for input</td>
</tr>
<tr class="row-odd"><td>koutStrm</td>
<td>output key stream</td>
</tr>
<tr class="row-even"><td>endOutStrm</td>
<td>end flag stream for output</td>
</tr>
<tr class="row-odd"><td>order</td>
<td>1:sort ascending 0:sort descending</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="insertsort-overload-2">
<span id="cid-xf-database-insertsort-2"></span><span id="doxid-namespacexf-1-1database-1a9927fdd333ff4aee41dc34922f4765e9"></span><h3>insertSort overload (2)<a class="headerlink" href="#insertsort-overload-2" title="Permalink to this headline">¶</a></h3>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/insert_sort.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="k">typename</span> <span class="n">KEY_TYPE</span><span class="p">,</span>
    <span class="k">typename</span> <span class="n">DATA_TYPE</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">MAX_SORT_NUMBER</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">insertSort</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">DATA_TYPE</span><span class="o">&gt;&amp;</span> <span class="n">dinStrm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">KEY_TYPE</span><span class="o">&gt;&amp;</span> <span class="n">kinStrm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">endInStrm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">DATA_TYPE</span><span class="o">&gt;&amp;</span> <span class="n">doutStrm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">KEY_TYPE</span><span class="o">&gt;&amp;</span> <span class="n">koutStrm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">endOutStrm</span><span class="p">,</span>
    <span class="kt">bool</span> <span class="n">order</span>
    <span class="p">)</span>
</pre>
<p>Insert sort top function.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>KEY_TYPE</td>
<td>the input and output key type</td>
</tr>
<tr class="row-even"><td>DATA_TYPE</td>
<td>the input and output data type</td>
</tr>
<tr class="row-odd"><td>MAX_SORT_NUMBER</td>
<td>the max number of the sequence can be sorted</td>
</tr>
<tr class="row-even"><td>dinStrm</td>
<td>input data stream</td>
</tr>
<tr class="row-odd"><td>kinStrm</td>
<td>input key stream</td>
</tr>
<tr class="row-even"><td>endInStrm</td>
<td>end flag stream for input</td>
</tr>
<tr class="row-odd"><td>doutStrm</td>
<td>output data stream</td>
</tr>
<tr class="row-even"><td>koutStrm</td>
<td>output key stream</td>
</tr>
<tr class="row-odd"><td>endOutStrm</td>
<td>end flag stream for output</td>
</tr>
<tr class="row-even"><td>order</td>
<td>1:sort ascending 0:sort descending</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="mergejoin">
<span id="cid-xf-database-mergejoin"></span><span id="doxid-namespacexf-1-1database-1aa7811ae04da3cf97d869d7f966ccb482"></span><h2>mergeJoin<a class="headerlink" href="#mergejoin" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/merge_join.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="k">typename</span> <span class="n">KEY_T</span><span class="p">,</span>
    <span class="k">typename</span> <span class="n">LEFT_FIELD_T</span><span class="p">,</span>
    <span class="k">typename</span> <span class="n">RIGHT_FIELD_T</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">mergeJoin</span> <span class="p">(</span>
    <span class="kt">bool</span> <span class="n">isascend</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">KEY_T</span><span class="o">&gt;&amp;</span> <span class="n">left_strm_in_key</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">LEFT_FIELD_T</span><span class="o">&gt;&amp;</span> <span class="n">left_strm_in_field</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">left_e_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">KEY_T</span><span class="o">&gt;&amp;</span> <span class="n">right_strm_in_key</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">RIGHT_FIELD_T</span><span class="o">&gt;&amp;</span> <span class="n">right_strm_in_field</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">right_e_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">KEY_T</span><span class="o">&gt;&amp;</span> <span class="n">left_strm_out_key</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">LEFT_FIELD_T</span><span class="o">&gt;&amp;</span> <span class="n">left_strm_out_field</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">KEY_T</span><span class="o">&gt;&amp;</span> <span class="n">right_strm_out_key</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">RIGHT_FIELD_T</span><span class="o">&gt;&amp;</span> <span class="n">right_strm_out_field</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">out_e_strm</span>
    <span class="p">)</span>
</pre>
<p>merge join function for sorted tables without duplicated key in the left table</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>KEY_T</td>
<td>the type of the key of left table</td>
</tr>
<tr class="row-even"><td>LEFT_FIELD_T</td>
<td>the type of the field of left table</td>
</tr>
<tr class="row-odd"><td>RIGHT_FIELD_T</td>
<td>the type of the field of right table</td>
</tr>
<tr class="row-even"><td>isascend</td>
<td>the flag to show if the input tables are ascend or descend tables</td>
</tr>
<tr class="row-odd"><td>left_strm_in_key</td>
<td>the key stream of the left input table</td>
</tr>
<tr class="row-even"><td>left_strm_in_field</td>
<td>the field stream of the left input table</td>
</tr>
<tr class="row-odd"><td>left_e_strm</td>
<td>the end flag stream to mark the end of left input table</td>
</tr>
<tr class="row-even"><td>right_strm_in_key</td>
<td>the key stream of the right input table</td>
</tr>
<tr class="row-odd"><td>right_strm_in_field</td>
<td>the field stream of the right input table</td>
</tr>
<tr class="row-even"><td>right_e_strm</td>
<td>the end flag stream to mark the end of right input table</td>
</tr>
<tr class="row-odd"><td>left_strm_out_key</td>
<td>the output key stream of left table</td>
</tr>
<tr class="row-even"><td>left_strm_out_field</td>
<td>the output field stream of left table</td>
</tr>
<tr class="row-odd"><td>right_strm_out_key</td>
<td>the output key stream of right table</td>
</tr>
<tr class="row-even"><td>right_strm_out_field</td>
<td>the output field stream of right</td>
</tr>
<tr class="row-odd"><td>out_e_strm</td>
<td>the end flag stream to mark the end of out table</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="mergeleftjoin">
<span id="cid-xf-database-mergeleftjoin"></span><span id="doxid-namespacexf-1-1database-1a504fd9a17afb1a22dc11b75b14580f85"></span><h2>mergeLeftJoin<a class="headerlink" href="#mergeleftjoin" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/merge_left_join.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="k">typename</span> <span class="n">KEY_T</span><span class="p">,</span>
    <span class="k">typename</span> <span class="n">LEFT_FIELD_T</span><span class="p">,</span>
    <span class="k">typename</span> <span class="n">RIGHT_FIELD_T</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">mergeLeftJoin</span> <span class="p">(</span>
    <span class="kt">bool</span> <span class="n">isascend</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">KEY_T</span><span class="o">&gt;&amp;</span> <span class="n">left_strm_in_key</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">LEFT_FIELD_T</span><span class="o">&gt;&amp;</span> <span class="n">left_strm_in_field</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">left_e_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">KEY_T</span><span class="o">&gt;&amp;</span> <span class="n">right_strm_in_key</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">RIGHT_FIELD_T</span><span class="o">&gt;&amp;</span> <span class="n">right_strm_in_field</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">right_e_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">KEY_T</span><span class="o">&gt;&amp;</span> <span class="n">left_strm_out_key</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">LEFT_FIELD_T</span><span class="o">&gt;&amp;</span> <span class="n">left_strm_out_field</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">KEY_T</span><span class="o">&gt;&amp;</span> <span class="n">right_strm_out_key</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">RIGHT_FIELD_T</span><span class="o">&gt;&amp;</span> <span class="n">right_strm_out_field</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">out_e_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">isnull_strm</span>
    <span class="p">)</span>
</pre>
<p>merge left join function for sorted table, left table should not have duplicated keys.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>KEY_T</td>
<td>the type of the key</td>
</tr>
<tr class="row-even"><td>LEFT_FIELD_T</td>
<td>the type of the field of left table</td>
</tr>
<tr class="row-odd"><td>RIGHT_FIELD_T</td>
<td>the type of the field of right table</td>
</tr>
<tr class="row-even"><td>isascend</td>
<td>flag to show if the input tables are ascend tables</td>
</tr>
<tr class="row-odd"><td>left_strm_in_key</td>
<td>the key stream of the left input table</td>
</tr>
<tr class="row-even"><td>left_strm_in_field</td>
<td>the field stream of the left input table</td>
</tr>
<tr class="row-odd"><td>left_e_strm</td>
<td>the end flag stream to mark the end of left input table</td>
</tr>
<tr class="row-even"><td>right_strm_in_key</td>
<td>the key stream of the right input table</td>
</tr>
<tr class="row-odd"><td>right_strm_in_field</td>
<td>the field stream of the right input table</td>
</tr>
<tr class="row-even"><td>right_e_strm</td>
<td>the end flag stream to mark the end of right input table</td>
</tr>
<tr class="row-odd"><td>left_strm_out_key</td>
<td>the output key stream of left table</td>
</tr>
<tr class="row-even"><td>left_strm_out_field</td>
<td>the output field stream of left table</td>
</tr>
<tr class="row-odd"><td>right_strm_out_key</td>
<td>the output key stream of right table</td>
</tr>
<tr class="row-even"><td>right_strm_out_field</td>
<td>the output field stream of right</td>
</tr>
<tr class="row-odd"><td>out_e_strm</td>
<td>the end flag stream to mark the end of out table</td>
</tr>
<tr class="row-even"><td>isnull_strm</td>
<td>the isnull stream to show if the result right table is null.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="mergesort">
<span id="cid-xf-database-mergesort"></span><span id="doxid-namespacexf-1-1database-1a702c0c8524952de36f855fdeea325419"></span><h2>mergeSort<a class="headerlink" href="#mergesort" title="Permalink to this headline">¶</a></h2>
<div class="section" id="mergesort-overload-1">
<h3>mergeSort overload (1)<a class="headerlink" href="#mergesort-overload-1" title="Permalink to this headline">¶</a></h3>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/merge_sort.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span><span class="k">typename</span> <span class="n">Key_Type</span><span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">mergeSort</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">Key_Type</span><span class="o">&gt;&amp;</span> <span class="n">left_kin_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">left_strm_in_end</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">Key_Type</span><span class="o">&gt;&amp;</span> <span class="n">right_kin_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">right_strm_in_end</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">Key_Type</span><span class="o">&gt;&amp;</span> <span class="n">kout_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">strm_out_end</span><span class="p">,</span>
    <span class="kt">bool</span> <span class="n">order</span>
    <span class="p">)</span>
</pre>
<p>Merge sort function.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Data_Type</td>
<td>the input and output key type</td>
</tr>
<tr class="row-even"><td>left_kin_strm</td>
<td>input key stream</td>
</tr>
<tr class="row-odd"><td>left_strm_in_end</td>
<td>end flag stream for left input</td>
</tr>
<tr class="row-even"><td>right_kin_strm</td>
<td>input key stream</td>
</tr>
<tr class="row-odd"><td>right_strm_in_end</td>
<td>end flag stream for right input</td>
</tr>
<tr class="row-even"><td>kout_strm</td>
<td>output key stream</td>
</tr>
<tr class="row-odd"><td>strm_out_end</td>
<td>end flag stream for output data</td>
</tr>
<tr class="row-even"><td>order</td>
<td>1:ascending 0:descending</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="mergesort-overload-2">
<span id="cid-xf-database-mergesort-2"></span><span id="doxid-namespacexf-1-1database-1a556ab191978fbb08d2d94d7d35dc339b"></span><h3>mergeSort overload (2)<a class="headerlink" href="#mergesort-overload-2" title="Permalink to this headline">¶</a></h3>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/merge_sort.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="k">typename</span> <span class="n">Data_Type</span><span class="p">,</span>
    <span class="k">typename</span> <span class="n">Key_Type</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">mergeSort</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">Data_Type</span><span class="o">&gt;&amp;</span> <span class="n">left_din_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">Key_Type</span><span class="o">&gt;&amp;</span> <span class="n">left_kin_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">left_strm_in_end</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">Data_Type</span><span class="o">&gt;&amp;</span> <span class="n">right_din_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">Key_Type</span><span class="o">&gt;&amp;</span> <span class="n">right_kin_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">right_strm_in_end</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">Data_Type</span><span class="o">&gt;&amp;</span> <span class="n">dout_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">Key_Type</span><span class="o">&gt;&amp;</span> <span class="n">kout_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">strm_out_end</span><span class="p">,</span>
    <span class="kt">bool</span> <span class="n">order</span>
    <span class="p">)</span>
</pre>
<p>Merge sort function.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Data_Type</td>
<td>the input and output data type</td>
</tr>
<tr class="row-even"><td>Data_Type</td>
<td>the input and output key type</td>
</tr>
<tr class="row-odd"><td>left_din_strm</td>
<td>input left data stream</td>
</tr>
<tr class="row-even"><td>left_kin_strm</td>
<td>input key stream</td>
</tr>
<tr class="row-odd"><td>left_strm_in_end</td>
<td>end flag stream for left input</td>
</tr>
<tr class="row-even"><td>right_din_strm</td>
<td>input right data stream</td>
</tr>
<tr class="row-odd"><td>right_kin_strm</td>
<td>input key stream</td>
</tr>
<tr class="row-even"><td>right_strm_in_end</td>
<td>end flag stream for right input</td>
</tr>
<tr class="row-odd"><td>dout_strm</td>
<td>output data stream</td>
</tr>
<tr class="row-even"><td>kout_strm</td>
<td>output key stream</td>
</tr>
<tr class="row-odd"><td>strm_out_end</td>
<td>end flag stream for output data</td>
</tr>
<tr class="row-even"><td>order</td>
<td>1:ascending 0:descending</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="nestedloopjoin">
<span id="cid-xf-database-nestedloopjoin"></span><span id="doxid-namespacexf-1-1database-1a870a41fbebaeee1bbde81a301685e7b3"></span><h2>nestedLoopJoin<a class="headerlink" href="#nestedloopjoin" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/nested_loop_join.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="kt">int</span> <span class="n">CMP_NUM</span><span class="p">,</span>
    <span class="k">typename</span> <span class="n">KEY_T</span><span class="p">,</span>
    <span class="k">typename</span> <span class="n">LEFT_FIELD_T</span><span class="p">,</span>
    <span class="k">typename</span> <span class="n">RIGHT_FIELD_T</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">nestedLoopJoin</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">KEY_T</span><span class="o">&gt;&amp;</span> <span class="n">strm_in_left_key</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">LEFT_FIELD_T</span><span class="o">&gt;&amp;</span> <span class="n">strm_in_left_field</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">strm_in_left_e</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">KEY_T</span><span class="o">&gt;&amp;</span> <span class="n">strm_in_right_key</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">RIGHT_FIELD_T</span><span class="o">&gt;&amp;</span> <span class="n">strm_in_right_field</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">strm_in_right_e</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">KEY_T</span><span class="o">&gt;</span> <span class="n">strm_out_left_key</span> <span class="p">[</span><span class="n">CMP_NUM</span><span class="p">],</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">LEFT_FIELD_T</span><span class="o">&gt;</span> <span class="n">strm_out_left_field</span> <span class="p">[</span><span class="n">CMP_NUM</span><span class="p">],</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">KEY_T</span><span class="o">&gt;</span> <span class="n">strm_out_right_key</span> <span class="p">[</span><span class="n">CMP_NUM</span><span class="p">],</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">RIGHT_FIELD_T</span><span class="o">&gt;</span> <span class="n">strm_out_right_field</span> <span class="p">[</span><span class="n">CMP_NUM</span><span class="p">],</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span> <span class="n">strm_out_e</span> <span class="p">[</span><span class="n">CMP_NUM</span><span class="p">]</span>
    <span class="p">)</span>
</pre>
<p>Nested loop join function.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>KEY_T</td>
<td>the type of the key of left table</td>
</tr>
<tr class="row-even"><td>LEFT_FIELD_T</td>
<td>the type of the field of left table</td>
</tr>
<tr class="row-odd"><td>RIGHT_FIELD_T</td>
<td>the type of the field of right table</td>
</tr>
<tr class="row-even"><td>strm_in_left_key</td>
<td>the key stream of the left input table</td>
</tr>
<tr class="row-odd"><td>strm_in_left_field</td>
<td>the field stream of the left input table</td>
</tr>
<tr class="row-even"><td>strm_in_left_e</td>
<td>the end flag stream to mark the end of left input table</td>
</tr>
<tr class="row-odd"><td>strm_in_right_key</td>
<td>the key stream of the right input table</td>
</tr>
<tr class="row-even"><td>strm_in_right_field</td>
<td>the field stream of the right input table</td>
</tr>
<tr class="row-odd"><td>strm_in_right_e</td>
<td>the end flag stream to mark the end of right input table</td>
</tr>
<tr class="row-even"><td>strm_out_left_key</td>
<td>the output key stream of left table</td>
</tr>
<tr class="row-odd"><td>strm_out_left_field</td>
<td>the output field stream of left table</td>
</tr>
<tr class="row-even"><td>strm_out_right_key</td>
<td>the output key stream of right table</td>
</tr>
<tr class="row-odd"><td>strm_out_right_field</td>
<td>the output field stream of right</td>
</tr>
<tr class="row-even"><td>strm_out_e</td>
<td>the end flag stream to mark the end of out table</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="scancmpstrcol">
<span id="cid-xf-database-scancmpstrcol"></span><span id="doxid-namespacexf-1-1database-1a7e663c5ccb52fa7a1b3e1adc15f5143d"></span><h2>scanCmpStrCol<a class="headerlink" href="#scancmpstrcol" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/scan_cmp_str_col.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="kt">void</span> <span class="n">scanCmpStrCol</span> <span class="p">(</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">512</span><span class="o">&gt;*</span> <span class="n">ddr_ptr</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">size</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">num_str</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">512</span><span class="o">&gt;&gt;&amp;</span> <span class="n">cnst_stream</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">out_stream</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">e_str_o</span>
    <span class="p">)</span>
</pre>
<p>sacn multiple columns of string in global memory, and compare each of them with constant string</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>ddr_ptr</td>
<td>input string array stored in global memory.</td>
</tr>
<tr class="row-even"><td>size</td>
<td>the number of times reading global memory</td>
</tr>
<tr class="row-odd"><td>num_str</td>
<td>the number of actual strings</td>
</tr>
<tr class="row-even"><td>cnst_stream</td>
<td>input constant string stream, 512 bits in heading-length and padding-zero format, read only once as configuration.</td>
</tr>
<tr class="row-odd"><td>out_stream</td>
<td>output whether each string is equal to the constant string, true indicates they are equal.</td>
</tr>
<tr class="row-even"><td>e_str_o</td>
<td>end flag stream for output stream.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="scancol">
<span id="cid-xf-database-scancol"></span><span id="doxid-namespacexf-1-1database-1a4bf6aa9d9f62f2cee74e5113f8c9ca14"></span><h2>scanCol<a class="headerlink" href="#scancol" title="Permalink to this headline">¶</a></h2>
<div class="section" id="scancol-overload-1">
<h3>scanCol overload (1)<a class="headerlink" href="#scancol-overload-1" title="Permalink to this headline">¶</a></h3>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/scan_col.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="kt">int</span> <span class="n">burst_len</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">vec_len</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">size0</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">scanCol</span> <span class="p">(</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size0</span><span class="o">*</span><span class="n">vec_len</span><span class="o">&gt;*</span> <span class="n">c0vec_ptr</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">int</span> <span class="n">nrow</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size0</span><span class="o">&gt;&gt;&amp;</span> <span class="n">c0_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">e_row_strm</span>
    <span class="p">)</span>
</pre>
<p>Scan 1 column from DDR/HBM buffers.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>burst_len</td>
<td>burst read length, must be supported by MC.</td>
</tr>
<tr class="row-even"><td>vec_len</td>
<td>number of items to be scanned as a vector from AXI port.</td>
</tr>
<tr class="row-odd"><td>size0</td>
<td>size of column 0, in byte.</td>
</tr>
<tr class="row-even"><td>c0vec_ptr</td>
<td>buffer pointer to column 0.</td>
</tr>
<tr class="row-odd"><td>nrow</td>
<td>number of row to scan.</td>
</tr>
<tr class="row-even"><td>c0_strm</td>
<td>column 0 stream.</td>
</tr>
<tr class="row-odd"><td>e_row_strm</td>
<td>output end flag stream.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="scancol-overload-2">
<span id="cid-xf-database-scancol-2"></span><span id="doxid-namespacexf-1-1database-1a94de54ef68f2282bf911f137b902091d"></span><h3>scanCol overload (2)<a class="headerlink" href="#scancol-overload-2" title="Permalink to this headline">¶</a></h3>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/scan_col.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="kt">int</span> <span class="n">burst_len</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">vec_len</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">size0</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">size1</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">scanCol</span> <span class="p">(</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size0</span><span class="o">*</span><span class="n">vec_len</span><span class="o">&gt;*</span> <span class="n">c0vec_ptr</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size1</span><span class="o">*</span><span class="n">vec_len</span><span class="o">&gt;*</span> <span class="n">c1vec_ptr</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">int</span> <span class="n">nrow</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size0</span><span class="o">&gt;&gt;&amp;</span> <span class="n">c0_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size1</span><span class="o">&gt;&gt;&amp;</span> <span class="n">c1_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">e_row_strm</span>
    <span class="p">)</span>
</pre>
<p>Scan 2 columns from DDR/HBM buffers.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>burst_len</td>
<td>burst read length, must be supported by MC.</td>
</tr>
<tr class="row-even"><td>vec_len</td>
<td>number of items to be scanned as a vector from AXI port.</td>
</tr>
<tr class="row-odd"><td>size0</td>
<td>size of column 0, in byte.</td>
</tr>
<tr class="row-even"><td>size1</td>
<td>size of column 1, in byte.</td>
</tr>
<tr class="row-odd"><td>c0vec_ptr</td>
<td>buffer pointer to column 0.</td>
</tr>
<tr class="row-even"><td>c1vec_ptr</td>
<td>buffer pointer to column 1.</td>
</tr>
<tr class="row-odd"><td>nrow</td>
<td>number of row to scan.</td>
</tr>
<tr class="row-even"><td>c0_strm</td>
<td>column 0 stream.</td>
</tr>
<tr class="row-odd"><td>c1_strm</td>
<td>column 1 stream.</td>
</tr>
<tr class="row-even"><td>e_row_strm</td>
<td>output end flag stream.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="scancol-overload-3">
<span id="cid-xf-database-scancol-3"></span><span id="doxid-namespacexf-1-1database-1ae4d166a6b2937aa9054a274488819b5b"></span><h3>scanCol overload (3)<a class="headerlink" href="#scancol-overload-3" title="Permalink to this headline">¶</a></h3>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/scan_col.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="kt">int</span> <span class="n">burst_len</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">vec_len</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">size0</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">size1</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">size2</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">scanCol</span> <span class="p">(</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size0</span><span class="o">*</span><span class="n">vec_len</span><span class="o">&gt;*</span> <span class="n">c0vec_ptr</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size1</span><span class="o">*</span><span class="n">vec_len</span><span class="o">&gt;*</span> <span class="n">c1vec_ptr</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size2</span><span class="o">*</span><span class="n">vec_len</span><span class="o">&gt;*</span> <span class="n">c2vec_ptr</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">int</span> <span class="n">nrow</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size0</span><span class="o">&gt;&gt;&amp;</span> <span class="n">c0_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size1</span><span class="o">&gt;&gt;&amp;</span> <span class="n">c1_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size2</span><span class="o">&gt;&gt;&amp;</span> <span class="n">c2_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">e_row_strm</span>
    <span class="p">)</span>
</pre>
<p>Scan 3 columns from DDR/HBM buffers.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>burst_len</td>
<td>burst read length, must be supported by MC.</td>
</tr>
<tr class="row-even"><td>vec_len</td>
<td>number of items to be scanned as a vector from AXI port.</td>
</tr>
<tr class="row-odd"><td>size0</td>
<td>size of column 0, in byte.</td>
</tr>
<tr class="row-even"><td>size1</td>
<td>size of column 1, in byte.</td>
</tr>
<tr class="row-odd"><td>size2</td>
<td>size of column 2, in byte.</td>
</tr>
<tr class="row-even"><td>c0vec_ptr</td>
<td>buffer pointer to column 0.</td>
</tr>
<tr class="row-odd"><td>c1vec_ptr</td>
<td>buffer pointer to column 1.</td>
</tr>
<tr class="row-even"><td>c2vec_ptr</td>
<td>buffer pointer to column 2.</td>
</tr>
<tr class="row-odd"><td>nrow</td>
<td>number of row to scan.</td>
</tr>
<tr class="row-even"><td>c0_strm</td>
<td>column 0 stream.</td>
</tr>
<tr class="row-odd"><td>c1_strm</td>
<td>column 1 stream.</td>
</tr>
<tr class="row-even"><td>c2_strm</td>
<td>column 2 stream.</td>
</tr>
<tr class="row-odd"><td>e_row_strm</td>
<td>output end flag stream.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="scancol-overload-4">
<span id="cid-xf-database-scancol-4"></span><span id="doxid-namespacexf-1-1database-1aaaf9e9801b8f8071076acfac6e44cf62"></span><h3>scanCol overload (4)<a class="headerlink" href="#scancol-overload-4" title="Permalink to this headline">¶</a></h3>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/scan_col.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="kt">int</span> <span class="n">burst_len</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">vec_len</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">size0</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">size1</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">size2</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">size3</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">scanCol</span> <span class="p">(</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size0</span><span class="o">*</span><span class="n">vec_len</span><span class="o">&gt;*</span> <span class="n">c0vec_ptr</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size1</span><span class="o">*</span><span class="n">vec_len</span><span class="o">&gt;*</span> <span class="n">c1vec_ptr</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size2</span><span class="o">*</span><span class="n">vec_len</span><span class="o">&gt;*</span> <span class="n">c2vec_ptr</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size3</span><span class="o">*</span><span class="n">vec_len</span><span class="o">&gt;*</span> <span class="n">c3vec_ptr</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">int</span> <span class="n">nrow</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size0</span><span class="o">&gt;&gt;&amp;</span> <span class="n">c0_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size1</span><span class="o">&gt;&gt;&amp;</span> <span class="n">c1_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size2</span><span class="o">&gt;&gt;&amp;</span> <span class="n">c2_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size3</span><span class="o">&gt;&gt;&amp;</span> <span class="n">c3_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">e_row_strm</span>
    <span class="p">)</span>
</pre>
<p>Scan 4 columns from DDR/HBM buffers.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>burst_len</td>
<td>burst read length, must be supported by MC.</td>
</tr>
<tr class="row-even"><td>vec_len</td>
<td>number of items to be scanned as a vector from AXI port.</td>
</tr>
<tr class="row-odd"><td>size0</td>
<td>size of column 0, in byte.</td>
</tr>
<tr class="row-even"><td>size1</td>
<td>size of column 1, in byte.</td>
</tr>
<tr class="row-odd"><td>size2</td>
<td>size of column 2, in byte.</td>
</tr>
<tr class="row-even"><td>size3</td>
<td>size of column 3, in byte.</td>
</tr>
<tr class="row-odd"><td>c0vec_ptr</td>
<td>buffer pointer to column 0.</td>
</tr>
<tr class="row-even"><td>c1vec_ptr</td>
<td>buffer pointer to column 1.</td>
</tr>
<tr class="row-odd"><td>c2vec_ptr</td>
<td>buffer pointer to column 2.</td>
</tr>
<tr class="row-even"><td>c3vec_ptr</td>
<td>buffer pointer to column 3.</td>
</tr>
<tr class="row-odd"><td>nrow</td>
<td>number of row to scan.</td>
</tr>
<tr class="row-even"><td>c0_strm</td>
<td>column 0 stream.</td>
</tr>
<tr class="row-odd"><td>c1_strm</td>
<td>column 1 stream.</td>
</tr>
<tr class="row-even"><td>c2_strm</td>
<td>column 2 stream.</td>
</tr>
<tr class="row-odd"><td>c3_strm</td>
<td>column 3 stream.</td>
</tr>
<tr class="row-even"><td>e_row_strm</td>
<td>output end flag stream.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="scancol-overload-5">
<span id="cid-xf-database-scancol-5"></span><span id="doxid-namespacexf-1-1database-1aebbfd20783ed7b48ebee815a5a19d610"></span><h3>scanCol overload (5)<a class="headerlink" href="#scancol-overload-5" title="Permalink to this headline">¶</a></h3>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/scan_col.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="kt">int</span> <span class="n">burst_len</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">vec_len</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">size0</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">size1</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">size2</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">size3</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">size4</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">scanCol</span> <span class="p">(</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size0</span><span class="o">*</span><span class="n">vec_len</span><span class="o">&gt;*</span> <span class="n">c0vec_ptr</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size1</span><span class="o">*</span><span class="n">vec_len</span><span class="o">&gt;*</span> <span class="n">c1vec_ptr</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size2</span><span class="o">*</span><span class="n">vec_len</span><span class="o">&gt;*</span> <span class="n">c2vec_ptr</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size3</span><span class="o">*</span><span class="n">vec_len</span><span class="o">&gt;*</span> <span class="n">c3vec_ptr</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size4</span><span class="o">*</span><span class="n">vec_len</span><span class="o">&gt;*</span> <span class="n">c4vec_ptr</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">int</span> <span class="n">nrow</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size0</span><span class="o">&gt;&gt;&amp;</span> <span class="n">c0_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size1</span><span class="o">&gt;&gt;&amp;</span> <span class="n">c1_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size2</span><span class="o">&gt;&gt;&amp;</span> <span class="n">c2_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size3</span><span class="o">&gt;&gt;&amp;</span> <span class="n">c3_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size4</span><span class="o">&gt;&gt;&amp;</span> <span class="n">c4_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">e_row_strm</span>
    <span class="p">)</span>
</pre>
<p>Scan 5 columns from DDR/HBM buffers.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>burst_len</td>
<td>burst read length, must be supported by MC.</td>
</tr>
<tr class="row-even"><td>vec_len</td>
<td>number of items to be scanned as a vector from AXI port.</td>
</tr>
<tr class="row-odd"><td>size0</td>
<td>size of column 0, in byte.</td>
</tr>
<tr class="row-even"><td>size1</td>
<td>size of column 1, in byte.</td>
</tr>
<tr class="row-odd"><td>size2</td>
<td>size of column 2, in byte.</td>
</tr>
<tr class="row-even"><td>size3</td>
<td>size of column 3, in byte.</td>
</tr>
<tr class="row-odd"><td>size4</td>
<td>size of column 4, in byte.</td>
</tr>
<tr class="row-even"><td>c0vec_ptr</td>
<td>buffer pointer to column 0.</td>
</tr>
<tr class="row-odd"><td>c1vec_ptr</td>
<td>buffer pointer to column 1.</td>
</tr>
<tr class="row-even"><td>c2vec_ptr</td>
<td>buffer pointer to column 2.</td>
</tr>
<tr class="row-odd"><td>c3vec_ptr</td>
<td>buffer pointer to column 3.</td>
</tr>
<tr class="row-even"><td>c4vec_ptr</td>
<td>buffer pointer to column 4.</td>
</tr>
<tr class="row-odd"><td>nrow</td>
<td>number of row to scan.</td>
</tr>
<tr class="row-even"><td>c0_strm</td>
<td>column 0 stream.</td>
</tr>
<tr class="row-odd"><td>c1_strm</td>
<td>column 1 stream.</td>
</tr>
<tr class="row-even"><td>c2_strm</td>
<td>column 2 stream.</td>
</tr>
<tr class="row-odd"><td>c3_strm</td>
<td>column 3 stream.</td>
</tr>
<tr class="row-even"><td>c4_strm</td>
<td>column 4 stream.</td>
</tr>
<tr class="row-odd"><td>e_row_strm</td>
<td>output end flag stream.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="scancol-overload-6">
<span id="cid-xf-database-scancol-6"></span><span id="doxid-namespacexf-1-1database-1af37e2b071175742238066a3f97197757"></span><h3>scanCol overload (6)<a class="headerlink" href="#scancol-overload-6" title="Permalink to this headline">¶</a></h3>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/scan_col.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="kt">int</span> <span class="n">burst_len</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">vec_len</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">size0</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">size1</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">size2</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">size3</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">size4</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">size5</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">scanCol</span> <span class="p">(</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size0</span><span class="o">*</span><span class="n">vec_len</span><span class="o">&gt;*</span> <span class="n">c0vec_ptr</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size1</span><span class="o">*</span><span class="n">vec_len</span><span class="o">&gt;*</span> <span class="n">c1vec_ptr</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size2</span><span class="o">*</span><span class="n">vec_len</span><span class="o">&gt;*</span> <span class="n">c2vec_ptr</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size3</span><span class="o">*</span><span class="n">vec_len</span><span class="o">&gt;*</span> <span class="n">c3vec_ptr</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size4</span><span class="o">*</span><span class="n">vec_len</span><span class="o">&gt;*</span> <span class="n">c4vec_ptr</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size5</span><span class="o">*</span><span class="n">vec_len</span><span class="o">&gt;*</span> <span class="n">c5vec_ptr</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">int</span> <span class="n">nrow</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size0</span><span class="o">&gt;&gt;&amp;</span> <span class="n">c0_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size1</span><span class="o">&gt;&gt;&amp;</span> <span class="n">c1_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size2</span><span class="o">&gt;&gt;&amp;</span> <span class="n">c2_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size3</span><span class="o">&gt;&gt;&amp;</span> <span class="n">c3_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size4</span><span class="o">&gt;&gt;&amp;</span> <span class="n">c4_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size5</span><span class="o">&gt;&gt;&amp;</span> <span class="n">c5_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">e_row_strm</span>
    <span class="p">)</span>
</pre>
<p>Scan 6 columns from DDR/HBM buffers.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>burst_len</td>
<td>burst read length, must be supported by MC.</td>
</tr>
<tr class="row-even"><td>vec_len</td>
<td>number of items to be scanned as a vector from AXI port.</td>
</tr>
<tr class="row-odd"><td>size0</td>
<td>size of column 0, in byte.</td>
</tr>
<tr class="row-even"><td>size1</td>
<td>size of column 1, in byte.</td>
</tr>
<tr class="row-odd"><td>size2</td>
<td>size of column 2, in byte.</td>
</tr>
<tr class="row-even"><td>size3</td>
<td>size of column 3, in byte.</td>
</tr>
<tr class="row-odd"><td>size4</td>
<td>size of column 4, in byte.</td>
</tr>
<tr class="row-even"><td>size5</td>
<td>size of column 5, in byte.</td>
</tr>
<tr class="row-odd"><td>c0vec_ptr</td>
<td>buffer pointer to column 0.</td>
</tr>
<tr class="row-even"><td>c1vec_ptr</td>
<td>buffer pointer to column 1.</td>
</tr>
<tr class="row-odd"><td>c2vec_ptr</td>
<td>buffer pointer to column 2.</td>
</tr>
<tr class="row-even"><td>c3vec_ptr</td>
<td>buffer pointer to column 3.</td>
</tr>
<tr class="row-odd"><td>c4vec_ptr</td>
<td>buffer pointer to column 4.</td>
</tr>
<tr class="row-even"><td>c5vec_ptr</td>
<td>buffer pointer to column 5.</td>
</tr>
<tr class="row-odd"><td>nrow</td>
<td>number of row to scan.</td>
</tr>
<tr class="row-even"><td>c0_strm</td>
<td>column 0 stream.</td>
</tr>
<tr class="row-odd"><td>c1_strm</td>
<td>column 1 stream.</td>
</tr>
<tr class="row-even"><td>c2_strm</td>
<td>column 2 stream.</td>
</tr>
<tr class="row-odd"><td>c3_strm</td>
<td>column 3 stream.</td>
</tr>
<tr class="row-even"><td>c4_strm</td>
<td>column 4 stream.</td>
</tr>
<tr class="row-odd"><td>c5_strm</td>
<td>column 5 stream.</td>
</tr>
<tr class="row-even"><td>e_row_strm</td>
<td>output end flag stream.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="scancol-overload-7">
<span id="cid-xf-database-scancol-7"></span><span id="doxid-namespacexf-1-1database-1a9b122e4ed587ba58c60059b3bed29265"></span><h3>scanCol overload (7)<a class="headerlink" href="#scancol-overload-7" title="Permalink to this headline">¶</a></h3>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/scan_col.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="kt">int</span> <span class="n">burst_len</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">vec_len</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">ch_num</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">size0</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">scanCol</span> <span class="p">(</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size0</span><span class="o">*</span><span class="n">vec_len</span><span class="o">&gt;*</span> <span class="n">c0vec_ptr</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">int</span> <span class="n">nrow</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size0</span><span class="o">&gt;&gt;</span> <span class="n">c0_strm</span> <span class="p">[</span><span class="n">ch_num</span><span class="p">],</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span> <span class="n">e_row_strm</span> <span class="p">[</span><span class="n">ch_num</span><span class="p">]</span>
    <span class="p">)</span>
</pre>
<p>Scan one column from DDR/HBM buffers, emit multiple rows concurrently.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>burst_len</td>
<td>burst read length, must be supported by MC.</td>
</tr>
<tr class="row-even"><td>vec_len</td>
<td>number of items to be scanned as a vector from AXI port.</td>
</tr>
<tr class="row-odd"><td>ch_num</td>
<td>number of concurrent output channels per column.</td>
</tr>
<tr class="row-even"><td>size0</td>
<td>size of column 0, in byte.</td>
</tr>
<tr class="row-odd"><td>c0vec_ptr</td>
<td>buffer pointer to column 0.</td>
</tr>
<tr class="row-even"><td>nrow</td>
<td>number of row to scan.</td>
</tr>
<tr class="row-odd"><td>c0_strm</td>
<td>array of column 0 stream.</td>
</tr>
<tr class="row-even"><td>e_row_strm</td>
<td>array of output end flag stream.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="scancol-overload-8">
<span id="cid-xf-database-scancol-8"></span><span id="doxid-namespacexf-1-1database-1ab214b8d1c1c6c4d74206dba0ecef0ea4"></span><h3>scanCol overload (8)<a class="headerlink" href="#scancol-overload-8" title="Permalink to this headline">¶</a></h3>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/scan_col.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="kt">int</span> <span class="n">burst_len</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">vec_len</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">ch_num</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">size0</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">size1</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">scanCol</span> <span class="p">(</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size0</span><span class="o">*</span><span class="n">vec_len</span><span class="o">&gt;*</span> <span class="n">c0vec_ptr</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size1</span><span class="o">*</span><span class="n">vec_len</span><span class="o">&gt;*</span> <span class="n">c1vec_ptr</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">int</span> <span class="n">nrow</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size0</span><span class="o">&gt;&gt;</span> <span class="n">c0_strm</span> <span class="p">[</span><span class="n">ch_num</span><span class="p">],</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size1</span><span class="o">&gt;&gt;</span> <span class="n">c1_strm</span> <span class="p">[</span><span class="n">ch_num</span><span class="p">],</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span> <span class="n">e_row_strm</span> <span class="p">[</span><span class="n">ch_num</span><span class="p">]</span>
    <span class="p">)</span>
</pre>
<p>Scan two columns from DDR/HBM buffers, emit multiple rows concurrently.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>burst_len</td>
<td>burst read length, must be supported by MC.</td>
</tr>
<tr class="row-even"><td>vec_len</td>
<td>number of items to be scanned as a vector from AXI port.</td>
</tr>
<tr class="row-odd"><td>ch_num</td>
<td>number of concurrent output channels per column.</td>
</tr>
<tr class="row-even"><td>size0</td>
<td>size of column 0, in byte.</td>
</tr>
<tr class="row-odd"><td>size1</td>
<td>size of column 1, in byte.</td>
</tr>
<tr class="row-even"><td>c0vec_ptr</td>
<td>buffer pointer to column 0.</td>
</tr>
<tr class="row-odd"><td>c1vec_ptr</td>
<td>buffer pointer to column 1.</td>
</tr>
<tr class="row-even"><td>nrow</td>
<td>number of row to scan.</td>
</tr>
<tr class="row-odd"><td>c0_strm</td>
<td>array of column 0 stream.</td>
</tr>
<tr class="row-even"><td>c1_strm</td>
<td>array of column 1 stream.</td>
</tr>
<tr class="row-odd"><td>e_row_strm</td>
<td>array of output end flag stream.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="scancol-overload-9">
<span id="cid-xf-database-scancol-9"></span><span id="doxid-namespacexf-1-1database-1ab295a78febdba894efb055cc63c97b68"></span><h3>scanCol overload (9)<a class="headerlink" href="#scancol-overload-9" title="Permalink to this headline">¶</a></h3>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/scan_col.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="kt">int</span> <span class="n">burst_len</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">vec_len</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">ch_num</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">size0</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">size1</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">size2</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">scanCol</span> <span class="p">(</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size0</span><span class="o">*</span><span class="n">vec_len</span><span class="o">&gt;*</span> <span class="n">c0vec_ptr</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size1</span><span class="o">*</span><span class="n">vec_len</span><span class="o">&gt;*</span> <span class="n">c1vec_ptr</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size2</span><span class="o">*</span><span class="n">vec_len</span><span class="o">&gt;*</span> <span class="n">c2vec_ptr</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">int</span> <span class="n">nrow</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size0</span><span class="o">&gt;&gt;</span> <span class="n">c0_strm</span> <span class="p">[</span><span class="n">ch_num</span><span class="p">],</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size1</span><span class="o">&gt;&gt;</span> <span class="n">c1_strm</span> <span class="p">[</span><span class="n">ch_num</span><span class="p">],</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size2</span><span class="o">&gt;&gt;</span> <span class="n">c2_strm</span> <span class="p">[</span><span class="n">ch_num</span><span class="p">],</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span> <span class="n">e_row_strm</span> <span class="p">[</span><span class="n">ch_num</span><span class="p">]</span>
    <span class="p">)</span>
</pre>
<p>Scan three columns from DDR/HBM buffers, emit multiple rows concurrently.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>burst_len</td>
<td>burst read length, must be supported by MC.</td>
</tr>
<tr class="row-even"><td>vec_len</td>
<td>number of items to be scanned as a vector from AXI port.</td>
</tr>
<tr class="row-odd"><td>ch_num</td>
<td>number of concurrent output channels per column.</td>
</tr>
<tr class="row-even"><td>size0</td>
<td>size of column 0, in byte.</td>
</tr>
<tr class="row-odd"><td>size1</td>
<td>size of column 1, in byte.</td>
</tr>
<tr class="row-even"><td>size2</td>
<td>size of column 2, in byte.</td>
</tr>
<tr class="row-odd"><td>c0vec_ptr</td>
<td>buffer pointer to column 0.</td>
</tr>
<tr class="row-even"><td>c1vec_ptr</td>
<td>buffer pointer to column 1.</td>
</tr>
<tr class="row-odd"><td>c2vec_ptr</td>
<td>buffer pointer to column 2.</td>
</tr>
<tr class="row-even"><td>nrow</td>
<td>number of row to scan.</td>
</tr>
<tr class="row-odd"><td>c0_strm</td>
<td>array of column 0 stream.</td>
</tr>
<tr class="row-even"><td>c1_strm</td>
<td>array of column 1 stream.</td>
</tr>
<tr class="row-odd"><td>c2_strm</td>
<td>array of column 2 stream.</td>
</tr>
<tr class="row-even"><td>e_row_strm</td>
<td>array of output end flag stream.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="scancol-overload-10">
<span id="cid-xf-database-scancol-10"></span><span id="doxid-namespacexf-1-1database-1abd8e4952d308a22916d62b8426bc0cf0"></span><h3>scanCol overload (10)<a class="headerlink" href="#scancol-overload-10" title="Permalink to this headline">¶</a></h3>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/scan_col_2.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="kt">int</span> <span class="n">burst_len</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">vec_len</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">ch_nm</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">size0</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">size1</span>
    <span class="o">&gt;</span>
<span class="k">static</span> <span class="kt">void</span> <span class="n">scanCol</span> <span class="p">(</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size0</span><span class="o">*</span><span class="n">vec_len</span><span class="o">&gt;*</span> <span class="n">c0vec_ptr</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size1</span><span class="o">*</span><span class="n">vec_len</span><span class="o">&gt;*</span> <span class="n">c1vec_ptr</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size0</span><span class="o">&gt;&gt;</span> <span class="n">c0_strm</span> <span class="p">[</span><span class="n">ch_nm</span><span class="p">],</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size1</span><span class="o">&gt;&gt;</span> <span class="n">c1_strm</span> <span class="p">[</span><span class="n">ch_nm</span><span class="p">],</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span> <span class="n">e_row_strm</span> <span class="p">[</span><span class="n">ch_nm</span><span class="p">]</span>
    <span class="p">)</span>
</pre>
<p>scan 2 columns from DDR/HBM buffers.</p>
<p>The LSB of first vector of first column specifies the number of rows to be scanned. For a following buffer, if the first vector is zero, same number of zeros will be emitted, otherwise, same number of rows will be read from the buffer.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>burst_len</td>
<td>burst read length, must be supported by MC.</td>
</tr>
<tr class="row-even"><td>vec_len</td>
<td>scan this number of items as a vector from AXI port.</td>
</tr>
<tr class="row-odd"><td>ch_nm</td>
<td>number of concurrent output channels per column.</td>
</tr>
<tr class="row-even"><td>size0</td>
<td>size of column 0, in byte.</td>
</tr>
<tr class="row-odd"><td>size1</td>
<td>size of column 1, in byte.</td>
</tr>
<tr class="row-even"><td>c0vec_ptr</td>
<td>buffer pointer to column 0.</td>
</tr>
<tr class="row-odd"><td>c1vec_ptr</td>
<td>buffer pointer to column 1.</td>
</tr>
<tr class="row-even"><td>c0_strm</td>
<td>array of column 0 stream.</td>
</tr>
<tr class="row-odd"><td>c1_strm</td>
<td>array of column 1 stream.</td>
</tr>
<tr class="row-even"><td>e_row_strm</td>
<td>array of output end flag stream.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="scancol-overload-11">
<span id="cid-xf-database-scancol-11"></span><span id="doxid-namespacexf-1-1database-1a9c9c76bd2fe7822d3c4c2400adb93e9a"></span><h3>scanCol overload (11)<a class="headerlink" href="#scancol-overload-11" title="Permalink to this headline">¶</a></h3>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/scan_col_2.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="kt">int</span> <span class="n">burst_len</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">vec_len</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">ch_nm</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">size0</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">size1</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">size2</span>
    <span class="o">&gt;</span>
<span class="k">static</span> <span class="kt">void</span> <span class="n">scanCol</span> <span class="p">(</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size0</span><span class="o">*</span><span class="n">vec_len</span><span class="o">&gt;*</span> <span class="n">c0vec_ptr</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size1</span><span class="o">*</span><span class="n">vec_len</span><span class="o">&gt;*</span> <span class="n">c1vec_ptr</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size2</span><span class="o">*</span><span class="n">vec_len</span><span class="o">&gt;*</span> <span class="n">c2vec_ptr</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size0</span><span class="o">&gt;&gt;</span> <span class="n">c0_strm</span> <span class="p">[</span><span class="n">ch_nm</span><span class="p">],</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size1</span><span class="o">&gt;&gt;</span> <span class="n">c1_strm</span> <span class="p">[</span><span class="n">ch_nm</span><span class="p">],</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size2</span><span class="o">&gt;&gt;</span> <span class="n">c2_strm</span> <span class="p">[</span><span class="n">ch_nm</span><span class="p">],</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span> <span class="n">e_row_strm</span> <span class="p">[</span><span class="n">ch_nm</span><span class="p">]</span>
    <span class="p">)</span>
</pre>
<p>scan 3 columns from DDR/HBM buffers.</p>
<p>The LSB of first vector of first column specifies the number of rows to be scanned. For a following buffer, if the first vector is zero, same number of zeros will be emitted, otherwise, same number of rows will be read from the buffer.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>burst_len</td>
<td>burst read length, must be supported by MC.</td>
</tr>
<tr class="row-even"><td>vec_len</td>
<td>scan this number of items as a vector from AXI port.</td>
</tr>
<tr class="row-odd"><td>ch_nm</td>
<td>number of concurrent output channels per column.</td>
</tr>
<tr class="row-even"><td>size0</td>
<td>size of column 0, in byte.</td>
</tr>
<tr class="row-odd"><td>size1</td>
<td>size of column 1, in byte.</td>
</tr>
<tr class="row-even"><td>size2</td>
<td>size of column 2, in byte.</td>
</tr>
<tr class="row-odd"><td>c0vec_ptr</td>
<td>buffer pointer to column 0.</td>
</tr>
<tr class="row-even"><td>c1vec_ptr</td>
<td>buffer pointer to column 1.</td>
</tr>
<tr class="row-odd"><td>c2vec_ptr</td>
<td>buffer pointer to column 2.</td>
</tr>
<tr class="row-even"><td>c0_strm</td>
<td>array of column 0 stream.</td>
</tr>
<tr class="row-odd"><td>c1_strm</td>
<td>array of column 1 stream.</td>
</tr>
<tr class="row-even"><td>c2_strm</td>
<td>array of column 2 stream.</td>
</tr>
<tr class="row-odd"><td>e_row_strm</td>
<td>array of output end flag stream.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="scancol-overload-12">
<span id="cid-xf-database-scancol-12"></span><span id="doxid-namespacexf-1-1database-1ae7a37d2309baa735995c3c86ba651180"></span><h3>scanCol overload (12)<a class="headerlink" href="#scancol-overload-12" title="Permalink to this headline">¶</a></h3>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/scan_col_2.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="kt">int</span> <span class="n">burst_len</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">vec_len</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">ch_nm</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">size0</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">size1</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">size2</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">size3</span>
    <span class="o">&gt;</span>
<span class="k">static</span> <span class="kt">void</span> <span class="n">scanCol</span> <span class="p">(</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size0</span><span class="o">*</span><span class="n">vec_len</span><span class="o">&gt;*</span> <span class="n">c0vec_ptr</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size1</span><span class="o">*</span><span class="n">vec_len</span><span class="o">&gt;*</span> <span class="n">c1vec_ptr</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size2</span><span class="o">*</span><span class="n">vec_len</span><span class="o">&gt;*</span> <span class="n">c2vec_ptr</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size3</span><span class="o">*</span><span class="n">vec_len</span><span class="o">&gt;*</span> <span class="n">c3vec_ptr</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size0</span><span class="o">&gt;&gt;</span> <span class="n">c0_strm</span> <span class="p">[</span><span class="n">ch_nm</span><span class="p">],</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size1</span><span class="o">&gt;&gt;</span> <span class="n">c1_strm</span> <span class="p">[</span><span class="n">ch_nm</span><span class="p">],</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size2</span><span class="o">&gt;&gt;</span> <span class="n">c2_strm</span> <span class="p">[</span><span class="n">ch_nm</span><span class="p">],</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size3</span><span class="o">&gt;&gt;</span> <span class="n">c3_strm</span> <span class="p">[</span><span class="n">ch_nm</span><span class="p">],</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span> <span class="n">e_row_strm</span> <span class="p">[</span><span class="n">ch_nm</span><span class="p">]</span>
    <span class="p">)</span>
</pre>
<p>scan 4 columns from DDR/HBM buffers.</p>
<p>The LSB of first vector of first column specifies the number of rows to be scanned. For a following buffer, if the first vector is zero, same number of zeros will be emitted, otherwise, same number of rows will be read from the buffer.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>burst_len</td>
<td>burst read length, must be supported by MC.</td>
</tr>
<tr class="row-even"><td>vec_len</td>
<td>scan this number of items as a vector from AXI port.</td>
</tr>
<tr class="row-odd"><td>ch_nm</td>
<td>number of concurrent output channels per column.</td>
</tr>
<tr class="row-even"><td>size0</td>
<td>size of column 0, in byte.</td>
</tr>
<tr class="row-odd"><td>size1</td>
<td>size of column 1, in byte.</td>
</tr>
<tr class="row-even"><td>size2</td>
<td>size of column 2, in byte.</td>
</tr>
<tr class="row-odd"><td>size3</td>
<td>size of column 3, in byte.</td>
</tr>
<tr class="row-even"><td>c0vec_ptr</td>
<td>buffer pointer to column 0.</td>
</tr>
<tr class="row-odd"><td>c1vec_ptr</td>
<td>buffer pointer to column 1.</td>
</tr>
<tr class="row-even"><td>c2vec_ptr</td>
<td>buffer pointer to column 2.</td>
</tr>
<tr class="row-odd"><td>c3vec_ptr</td>
<td>buffer pointer to column 3.</td>
</tr>
<tr class="row-even"><td>c0_strm</td>
<td>array of column 0 stream.</td>
</tr>
<tr class="row-odd"><td>c1_strm</td>
<td>array of column 1 stream.</td>
</tr>
<tr class="row-even"><td>c2_strm</td>
<td>array of column 2 stream.</td>
</tr>
<tr class="row-odd"><td>c3_strm</td>
<td>array of column 3 stream.</td>
</tr>
<tr class="row-even"><td>e_row_strm</td>
<td>array of output end flag stream.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="scancol-overload-13">
<span id="cid-xf-database-scancol-13"></span><span id="doxid-namespacexf-1-1database-1a17439692dd9ad2deea1ae995e2baedb9"></span><h3>scanCol overload (13)<a class="headerlink" href="#scancol-overload-13" title="Permalink to this headline">¶</a></h3>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/scan_col_2.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="kt">int</span> <span class="n">burst_len</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">vec_len</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">ch_nm</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">size0</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">size1</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">size2</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">size3</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">size4</span>
    <span class="o">&gt;</span>
<span class="k">static</span> <span class="kt">void</span> <span class="n">scanCol</span> <span class="p">(</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size0</span><span class="o">*</span><span class="n">vec_len</span><span class="o">&gt;*</span> <span class="n">c0vec_ptr</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size1</span><span class="o">*</span><span class="n">vec_len</span><span class="o">&gt;*</span> <span class="n">c1vec_ptr</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size2</span><span class="o">*</span><span class="n">vec_len</span><span class="o">&gt;*</span> <span class="n">c2vec_ptr</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size3</span><span class="o">*</span><span class="n">vec_len</span><span class="o">&gt;*</span> <span class="n">c3vec_ptr</span><span class="p">,</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size4</span><span class="o">*</span><span class="n">vec_len</span><span class="o">&gt;*</span> <span class="n">c4vec_ptr</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size0</span><span class="o">&gt;&gt;</span> <span class="n">c0_strm</span> <span class="p">[</span><span class="n">ch_nm</span><span class="p">],</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size1</span><span class="o">&gt;&gt;</span> <span class="n">c1_strm</span> <span class="p">[</span><span class="n">ch_nm</span><span class="p">],</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size2</span><span class="o">&gt;&gt;</span> <span class="n">c2_strm</span> <span class="p">[</span><span class="n">ch_nm</span><span class="p">],</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size3</span><span class="o">&gt;&gt;</span> <span class="n">c3_strm</span> <span class="p">[</span><span class="n">ch_nm</span><span class="p">],</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">*</span><span class="n">size4</span><span class="o">&gt;&gt;</span> <span class="n">c4_strm</span> <span class="p">[</span><span class="n">ch_nm</span><span class="p">],</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span> <span class="n">e_row_strm</span> <span class="p">[</span><span class="n">ch_nm</span><span class="p">]</span>
    <span class="p">)</span>
</pre>
<p>scan 5 columns from DDR/HBM buffers.</p>
<p>The LSB of first vector of first column specifies the number of rows to be scanned. For a following buffer, if the first vector is zero, same number of zeros will be emitted, otherwise, same number of rows will be read from the buffer.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>burst_len</td>
<td>burst read length, must be supported by MC.</td>
</tr>
<tr class="row-even"><td>vec_len</td>
<td>scan this number of items as a vector from AXI port.</td>
</tr>
<tr class="row-odd"><td>ch_nm</td>
<td>number of concurrent output channels per column.</td>
</tr>
<tr class="row-even"><td>size0</td>
<td>size of column 0, in byte.</td>
</tr>
<tr class="row-odd"><td>size1</td>
<td>size of column 1, in byte.</td>
</tr>
<tr class="row-even"><td>size2</td>
<td>size of column 2, in byte.</td>
</tr>
<tr class="row-odd"><td>size3</td>
<td>size of column 3, in byte.</td>
</tr>
<tr class="row-even"><td>size4</td>
<td>size of column 4, in byte.</td>
</tr>
<tr class="row-odd"><td>c0vec_ptr</td>
<td>buffer pointer to column 0.</td>
</tr>
<tr class="row-even"><td>c1vec_ptr</td>
<td>buffer pointer to column 1.</td>
</tr>
<tr class="row-odd"><td>c2vec_ptr</td>
<td>buffer pointer to column 2.</td>
</tr>
<tr class="row-even"><td>c3vec_ptr</td>
<td>buffer pointer to column 3.</td>
</tr>
<tr class="row-odd"><td>c4vec_ptr</td>
<td>buffer pointer to column 4.</td>
</tr>
<tr class="row-even"><td>c0_strm</td>
<td>array of column 0 stream.</td>
</tr>
<tr class="row-odd"><td>c1_strm</td>
<td>array of column 1 stream.</td>
</tr>
<tr class="row-even"><td>c2_strm</td>
<td>array of column 2 stream.</td>
</tr>
<tr class="row-odd"><td>c3_strm</td>
<td>array of column 3 stream.</td>
</tr>
<tr class="row-even"><td>c4_strm</td>
<td>array of column 4 stream.</td>
</tr>
<tr class="row-odd"><td>e_row_strm</td>
<td>array of output end flag stream.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="staticeval">
<span id="cid-xf-database-staticeval"></span><span id="doxid-namespacexf-1-1database-1a22729a22a28558d1691c62c5165fdbd0"></span><h2>staticEval<a class="headerlink" href="#staticeval" title="Permalink to this headline">¶</a></h2>
<div class="section" id="staticeval-overload-1">
<h3>staticEval overload (1)<a class="headerlink" href="#staticeval-overload-1" title="Permalink to this headline">¶</a></h3>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/static_eval.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="k">typename</span> <span class="n">T</span><span class="p">,</span>
    <span class="k">typename</span> <span class="n">T_O</span><span class="p">,</span>
    <span class="n">T_O</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">T</span><span class="p">)</span> <span class="n">opf</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">staticEval</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;&amp;</span> <span class="n">in_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">e_in_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">T_O</span><span class="o">&gt;&amp;</span> <span class="n">out_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">e_out_strm</span>
    <span class="p">)</span>
</pre>
<p>One stream input static evaluation.</p>
<p>static_eval function calculates the experssion result that user defined. This result will be passed to aggregate module as the input. When calling this API, the <code class="docutils literal notranslate"><span class="pre">T</span></code> <code class="docutils literal notranslate"><span class="pre">T_O</span></code> are the input/output data types for each parameter of user code. E.g.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">decl</span>
<span class="n">long</span> <span class="n">user_func</span><span class="p">(</span><span class="nb">int</span> <span class="n">a</span><span class="p">);</span>
<span class="o">//</span> <span class="n">use</span>
 <span class="n">database</span><span class="p">::</span><span class="n">static_eval</span><span class="o">&lt;</span><span class="nb">int</span><span class="p">,</span> <span class="n">long</span><span class="p">,</span> <span class="n">user_func</span><span class="o">&gt;</span><span class="p">(</span>
  <span class="n">in1_strm</span><span class="p">,</span> <span class="n">e_in_strm</span><span class="p">,</span> <span class="n">out_strm</span><span class="p">,</span> <span class="n">e_out_strm</span><span class="p">);</span>
</pre></div>
</div>
<p>In the above call, <code class="docutils literal notranslate"><span class="pre">int</span></code> is the data type of input of <code class="docutils literal notranslate"><span class="pre">user_func</span></code> , and <code class="docutils literal notranslate"><span class="pre">long</span></code> is the return type of <code class="docutils literal notranslate"><span class="pre">user_func</span></code> .</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>T</td>
<td>the input stream type, inferred from argument</td>
</tr>
<tr class="row-even"><td>T_O</td>
<td>the output stream type, inferred from argument</td>
</tr>
<tr class="row-odd"><td>opf</td>
<td>the user-defined expression function</td>
</tr>
<tr class="row-even"><td>in_strm</td>
<td>input data stream</td>
</tr>
<tr class="row-odd"><td>e_in_strm</td>
<td>end flag stream for input data</td>
</tr>
<tr class="row-even"><td>out_strm</td>
<td>output data stream</td>
</tr>
<tr class="row-odd"><td>e_out_strm</td>
<td>end flag stream for output data</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="staticeval-overload-2">
<span id="cid-xf-database-staticeval-2"></span><span id="doxid-namespacexf-1-1database-1a7e77fe7a065f2162246d99424c1cb56a"></span><h3>staticEval overload (2)<a class="headerlink" href="#staticeval-overload-2" title="Permalink to this headline">¶</a></h3>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/static_eval.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="k">typename</span> <span class="n">T1</span><span class="p">,</span>
    <span class="k">typename</span> <span class="n">T2</span><span class="p">,</span>
    <span class="k">typename</span> <span class="n">T_O</span><span class="p">,</span>
    <span class="n">T_O</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">T1</span><span class="p">,</span> <span class="n">T2</span><span class="p">)</span> <span class="n">opf</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">staticEval</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">T1</span><span class="o">&gt;&amp;</span> <span class="n">in1_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">T2</span><span class="o">&gt;&amp;</span> <span class="n">in2_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">e_in_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">T_O</span><span class="o">&gt;&amp;</span> <span class="n">out_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">e_out_strm</span>
    <span class="p">)</span>
</pre>
<p>Two stream input static evaluation.</p>
<p>static_eval function calculate the experssion result that user defined. This result will be passed to aggregate module as the input. When calling this API, the <code class="docutils literal notranslate"><span class="pre">T1</span></code> <code class="docutils literal notranslate"><span class="pre">T2</span></code> <code class="docutils literal notranslate"><span class="pre">T_O</span></code> are the input/output data types for each parameter of user code. E.g.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">decl</span>
<span class="n">long</span> <span class="n">user_func</span><span class="p">(</span><span class="nb">int</span> <span class="n">a</span><span class="p">,</span> <span class="nb">int</span> <span class="n">b</span><span class="p">);</span>
<span class="o">//</span> <span class="n">use</span>
 <span class="n">database</span><span class="p">::</span><span class="n">static_eval</span><span class="o">&lt;</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="n">long</span><span class="p">,</span> <span class="n">user_func</span><span class="o">&gt;</span><span class="p">(</span>
  <span class="n">in1_strm</span><span class="p">,</span> <span class="n">in2_strm</span><span class="p">,</span> <span class="n">e_in_strm</span><span class="p">,</span> <span class="n">out_strm</span><span class="p">,</span> <span class="n">e_out_strm</span><span class="p">);</span>
</pre></div>
</div>
<p>In the above call, two <code class="docutils literal notranslate"><span class="pre">int</span></code> are the data type of input of <code class="docutils literal notranslate"><span class="pre">user_func</span></code> , and <code class="docutils literal notranslate"><span class="pre">long</span></code> is the return type of <code class="docutils literal notranslate"><span class="pre">user_func</span></code> .</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>T1</td>
<td>the input stream type, inferred from argument</td>
</tr>
<tr class="row-even"><td>T2</td>
<td>the input stream type, inferred from argument</td>
</tr>
<tr class="row-odd"><td>T_O</td>
<td>the output stream type, inferred from argument</td>
</tr>
<tr class="row-even"><td>opf</td>
<td>the user-defined expression function</td>
</tr>
<tr class="row-odd"><td>in1_strm</td>
<td>input data stream</td>
</tr>
<tr class="row-even"><td>in2_strm</td>
<td>input data stream</td>
</tr>
<tr class="row-odd"><td>e_in_strm</td>
<td>end flag stream for input data</td>
</tr>
<tr class="row-even"><td>out_strm</td>
<td>output data stream</td>
</tr>
<tr class="row-odd"><td>e_out_strm</td>
<td>end flag stream for output data</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="staticeval-overload-3">
<span id="cid-xf-database-staticeval-3"></span><span id="doxid-namespacexf-1-1database-1a86aae23caebdda1069d955ef25646bdb"></span><h3>staticEval overload (3)<a class="headerlink" href="#staticeval-overload-3" title="Permalink to this headline">¶</a></h3>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/static_eval.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="k">typename</span> <span class="n">T1</span><span class="p">,</span>
    <span class="k">typename</span> <span class="n">T2</span><span class="p">,</span>
    <span class="k">typename</span> <span class="n">T3</span><span class="p">,</span>
    <span class="k">typename</span> <span class="n">T_O</span><span class="p">,</span>
    <span class="n">T_O</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">T1</span><span class="p">,</span> <span class="n">T2</span><span class="p">,</span> <span class="n">T3</span><span class="p">)</span> <span class="n">opf</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">staticEval</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">T1</span><span class="o">&gt;&amp;</span> <span class="n">in1_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">T2</span><span class="o">&gt;&amp;</span> <span class="n">in2_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">T3</span><span class="o">&gt;&amp;</span> <span class="n">in3_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">e_in_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">T_O</span><span class="o">&gt;&amp;</span> <span class="n">out_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">e_out_strm</span>
    <span class="p">)</span>
</pre>
<p>Three stream input static evaluation.</p>
<p>static_eval function calculate the experssion result that user defined. This result will be passed to aggregate module as the input. When calling this API, the <code class="docutils literal notranslate"><span class="pre">T1</span></code> <code class="docutils literal notranslate"><span class="pre">T2</span></code> <code class="docutils literal notranslate"><span class="pre">T3</span></code> <code class="docutils literal notranslate"><span class="pre">T_O</span></code> are the input/output data types for each parameter of user code. E.g.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">decl</span>
<span class="n">long</span> <span class="n">user_func</span><span class="p">(</span><span class="nb">int</span> <span class="n">a</span><span class="p">,</span> <span class="nb">int</span> <span class="n">b</span><span class="p">,</span> <span class="nb">int</span> <span class="n">c</span><span class="p">);</span>
<span class="o">//</span> <span class="n">use</span>
 <span class="n">database</span><span class="p">::</span><span class="n">static_eval</span><span class="o">&lt;</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="n">long</span><span class="p">,</span> <span class="n">user_func</span><span class="o">&gt;</span><span class="p">(</span>
  <span class="n">in1_strm</span><span class="p">,</span> <span class="n">in2_strm</span><span class="p">,</span> <span class="n">in3_strm</span><span class="p">,</span> <span class="n">e_in_strm</span><span class="p">,</span>
  <span class="n">out_strm</span><span class="p">,</span> <span class="n">e_out_strm</span><span class="p">);</span>
</pre></div>
</div>
<p>In the above call, three <code class="docutils literal notranslate"><span class="pre">int</span></code> are the data type of input of <code class="docutils literal notranslate"><span class="pre">user_func</span></code> , and <code class="docutils literal notranslate"><span class="pre">long</span></code> is the return type of <code class="docutils literal notranslate"><span class="pre">user_func</span></code> .</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>T1</td>
<td>the input stream type, inferred from argument</td>
</tr>
<tr class="row-even"><td>T2</td>
<td>the input stream type, inferred from argument</td>
</tr>
<tr class="row-odd"><td>T3</td>
<td>the input stream type, inferred from argument</td>
</tr>
<tr class="row-even"><td>T_O</td>
<td>the output stream type, inferred from argument</td>
</tr>
<tr class="row-odd"><td>opf</td>
<td>the user-defined expression function</td>
</tr>
<tr class="row-even"><td>in1_strm</td>
<td>input data stream</td>
</tr>
<tr class="row-odd"><td>in2_strm</td>
<td>input data stream</td>
</tr>
<tr class="row-even"><td>in3_strm</td>
<td>input data stream</td>
</tr>
<tr class="row-odd"><td>e_in_strm</td>
<td>end flag stream for input data</td>
</tr>
<tr class="row-even"><td>out_strm</td>
<td>output data stream</td>
</tr>
<tr class="row-odd"><td>e_out_strm</td>
<td>end flag stream for output data</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="staticeval-overload-4">
<span id="cid-xf-database-staticeval-4"></span><span id="doxid-namespacexf-1-1database-1a90c7044db86ef66b874656521b4f017d"></span><h3>staticEval overload (4)<a class="headerlink" href="#staticeval-overload-4" title="Permalink to this headline">¶</a></h3>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;xf_database/static_eval.hpp&quot;</span>
</pre>
<pre class="highlight title-code-block literal-block">
<span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="k">typename</span> <span class="n">T1</span><span class="p">,</span>
    <span class="k">typename</span> <span class="n">T2</span><span class="p">,</span>
    <span class="k">typename</span> <span class="n">T3</span><span class="p">,</span>
    <span class="k">typename</span> <span class="n">T4</span><span class="p">,</span>
    <span class="k">typename</span> <span class="n">T_O</span><span class="p">,</span>
    <span class="n">T_O</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">T1</span><span class="p">,</span> <span class="n">T2</span><span class="p">,</span> <span class="n">T3</span><span class="p">,</span> <span class="n">T4</span><span class="p">)</span> <span class="n">opf</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">staticEval</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">T1</span><span class="o">&gt;&amp;</span> <span class="n">in1_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">T2</span><span class="o">&gt;&amp;</span> <span class="n">in2_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">T3</span><span class="o">&gt;&amp;</span> <span class="n">in3_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">T4</span><span class="o">&gt;&amp;</span> <span class="n">in4_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">e_in_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">T_O</span><span class="o">&gt;&amp;</span> <span class="n">out_strm</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">e_out_strm</span>
    <span class="p">)</span>
</pre>
<p>Four stream input static evaluation.</p>
<p>static_eval function calculate the experssion result that user defined. This result will be passed to aggregate module as the input. When calling this API, the <code class="docutils literal notranslate"><span class="pre">T1</span></code> <code class="docutils literal notranslate"><span class="pre">T2</span></code> <code class="docutils literal notranslate"><span class="pre">T3</span></code> <code class="docutils literal notranslate"><span class="pre">T_O</span></code> are the input/output data types for each parameter of user code. E.g.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">decl</span>
<span class="n">long</span> <span class="n">user_func</span><span class="p">(</span><span class="nb">int</span> <span class="n">a</span><span class="p">,</span> <span class="nb">int</span> <span class="n">b</span><span class="p">,</span> <span class="nb">int</span> <span class="n">c</span><span class="p">,</span> <span class="nb">int</span> <span class="n">d</span><span class="p">);</span>
<span class="o">//</span> <span class="n">use</span>
 <span class="n">database</span><span class="p">::</span><span class="n">static_eval</span><span class="o">&lt;</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="n">long</span><span class="p">,</span> <span class="n">user_func</span><span class="o">&gt;</span><span class="p">(</span>
  <span class="n">in1_strm</span><span class="p">,</span> <span class="n">in2_strm</span><span class="p">,</span> <span class="n">in3_strm</span><span class="p">,</span> <span class="n">in3_strm</span><span class="p">,</span> <span class="n">e_in_strm</span><span class="p">,</span>
  <span class="n">out_strm</span><span class="p">,</span> <span class="n">e_out_strm</span><span class="p">);</span>
</pre></div>
</div>
<p>In the above call, four <code class="docutils literal notranslate"><span class="pre">int</span></code> are the data type of input of <code class="docutils literal notranslate"><span class="pre">user_func</span></code> , and <code class="docutils literal notranslate"><span class="pre">long</span></code> is the return type of <code class="docutils literal notranslate"><span class="pre">user_func</span></code> .</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>T1</td>
<td>the input stream type, inferred from argument</td>
</tr>
<tr class="row-even"><td>T2</td>
<td>the input stream type, inferred from argument</td>
</tr>
<tr class="row-odd"><td>T3</td>
<td>the input stream type, inferred from argument</td>
</tr>
<tr class="row-even"><td>T4</td>
<td>the input stream type, inferred from argument</td>
</tr>
<tr class="row-odd"><td>T_O</td>
<td>the output stream type, inferred from argument</td>
</tr>
<tr class="row-even"><td>opf</td>
<td>the user-defined expression function</td>
</tr>
<tr class="row-odd"><td>in1_strm</td>
<td>input data stream</td>
</tr>
<tr class="row-even"><td>in2_strm</td>
<td>input data stream</td>
</tr>
<tr class="row-odd"><td>in3_strm</td>
<td>input data stream</td>
</tr>
<tr class="row-even"><td>in4_strm</td>
<td>input data stream</td>
</tr>
<tr class="row-odd"><td>e_in_strm</td>
<td>end flag stream for input data</td>
</tr>
<tr class="row-even"><td>out_strm</td>
<td>output data stream</td>
</tr>
<tr class="row-odd"><td>e_out_strm</td>
<td>end flag stream for output data</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
<!-- Atalwar: Moved the footer code to layout.html to resolve conflict with the Xilinx template -->
</footer>

        </div>
      </div>
	  
	  
	  <!-- Sphinx Page Footer block -->
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="internals.html" class="btn btn-neutral float-right" title="Primitive Design Internals" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="hw_sql_guide.html" class="btn btn-neutral float-left" title="Primitive Overview" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo" class="copyright">
    <p class="footerinfo">
      <span class="lastupdated">
        Last updated on May 26, 2020.
      </span>

    </p>
  </div>	  
      </div>
    </section>


  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
  

  
  <!--  Xilinx template footer block -->
							</div>
						</div>
					</div>
				</div>
				<div class="xilinxExperienceFragments experiencefragment aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
					<div class="xf-content-height">
						<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 ">
							<div class="footer parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
								<noindex>
									<footer>
										<div class="aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid sub-footer">
													<div class="row">
														<div class="footerSocial parbase">
															<div class="col-md-push-6 col-lg-push-6 col-md-6 col-lg-6">
																<ul class="list-inline pull-right social-menu">
																	<li>
																		<a href="https://www.linkedin.com/company/xilinx">
																		<span class="linkedin icon"></span>
																		<span class="sr-only">Connect on LinkedIn</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.twitter.com/XilinxInc">
																		<span class="twitter icon"></span>
																		<span class="sr-only">Follow us on Twitter</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.facebook.com/XilinxInc">
																		<span class="facebook icon"></span>
																		<span class="sr-only">Connect on Facebook</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.youtube.com/XilinxInc">
																		<span class="youtube icon"></span>
																		<span class="sr-only">Watch us on YouTube</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.xilinx.com/registration/subscriber-signup.html">
																		<span class="newsletter icon"></span>
																		<span class="sr-only">Subscribe to Newsletter</span>
																		</a>
																	</li>
																</ul>
															</div>
														</div>
														<div class="col-md-pull-6 col-lg-pull-6 col-md-6 col-lg-6">
															<span class="copyright">
                                  
                                  &copy; 2020, Xilinx
                              </span>
															<ul class="list-inline sub-menu">
																<li>
																	<a href="https://www.xilinx.com/about/privacy-policy.html">Privacy</a>
																</li>
																<li>
																	<a href="https://www.xilinx.com/about/legal.html">Legal</a>
																</li>
																<li>
																	<a href="https://www.xilinx.com/about/contact.html">Contact</a>
																</li>
															</ul>
														</div>
													</div>
												</div>
											</div>
										</div>
									</footer>
								</noindex>
							</div>
						</div>
					</div>
				</div>
				<div class="quicklinks parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
					<noindex>
						<span class="quickLinks">
							<ul>
								<li>
									<a href="#top" class="btn backToTop">
									<span class="fas fa-angle-up" aria-hidden="true"></span>
									</a>
								</li>
							</ul>
						</span>
					</noindex>
				</div>
			</div>
		</div>
		<script>window.CQ = window.CQ || {}</script>
		<script src="https://static.cloud.coveo.com/searchui/v2.4382/js/CoveoJsSearch.Lazy.min.js"></script>
		<script>
			var underscoreSetup = function () {
			  _.templateSettings.interpolate = /\{\{=([^-][\S\s]+?)\}\}/g;
			  _.templateSettings.evaluate = /\{\{([^-=][\S\s]+?)\}\}/g;
			  _.templateSettings.escape = /\{\{-([^=][\S\s]+?)\}\}/g;
			}
			
			underscoreSetup();
		</script>
	</body>
</html>