


<!DOCTYPE HTML>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
	<head>
		<meta charset="utf-8">
		
		<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
		<link rel="stylesheet" href="https://static.cloud.coveo.com/searchui/v2.4382/css/CoveoFullSearch.css"/>
		<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<meta name="description"/>
		<meta name="keywords"/>
		<meta property="og:title" content=""/>
		<meta property="og:description"/>
		<!-- favicon -->
		<link rel="icon" type="image/vnd.microsoft.icon" href="../../_static/favicon.ico"/>
		<link rel="shortcut icon" type="image/vnd.microsoft.icon" href="../../_static/favicon.ico"/>
		<!-- Fonts -->
		<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet" type="text/css"/>

  
  
  
  

  
      <script type="text/javascript" src="../../_static/js/jquery.min.js"></script>
	  <script type="text/javascript" src="../../_static/js/gtm.js"></script>
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
    <script type="text/javascript" src="../../_static/js/d3dd8c60ed.js"></script>
    <script type="text/javascript" src="../../_static/js/common-ui-all.min.js"></script>
    <script type="text/javascript" src="../../_static/js/header-footer.min.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-ui.min.js"></script>
    <script type="text/javascript" src="../../_static/js/CoveoJsSearch.Lazy.min.js"></script>
    <script type="text/javascript" src="../../_static/js/linkid.js"></script>
    <script type="text/javascript" src="../../_static/js/Searchbox.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/common-ui-all.min.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/header-footer.min.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/pro.min.css" media="all" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Internal Design of PageRankMultiChannels" href="PageRankMultiChannels.html" />
    <link rel="prev" title="Internal Design of Label Propagation" href="LabelPropagation.html" /> 
	</head>
	<body>
		<div class="xilinx-bs3"/>
		<div class="root responsivegrid">
			<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 aem-Grid--large--16 aem-Grid--xlarge--16 aem-Grid--xxlarge--16 aem-Grid--xxxlarge--16 ">
				<div class="xilinxExperienceFragments experiencefragment aem-GridColumn aem-GridColumn--default--12">
					<div class="xf-content-height">
						<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 ">
							<div class="header parbase aem-GridColumn aem-GridColumn--default--12">
								<noindex>
									<header data-component="header">
										<nav class="navbar navbar-default aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid main-nav">
													<div class="row">
														<div class="col-xs-12">
															<div class="logo-column">
																<div class="logo">
																	<a href="https://www.xilinx.com/">
																	<img src="https://www.xilinx.com/etc.clientlibs/site/clientlibs/xilinx/all/resources/imgs/header/xilinx-header-logo.svg" title="Xilinx Inc"/>
																	</a>
																</div>
															</div>
															<div class="navbar-column">
																<div class="navbar navbar-collapse collapse" id="xilinx-main-menu">
																	<div class="mobile-search-container">
																		<div id="headerSearchBox" class="headerSearch"
																			data-component="header-search"
																			data-redirect-if-empty="false"
																			data-coveo-access-token="xxa237d4dd-f0aa-47fc-9baa-af9121851b33"
																			data-coveo-organization-id="xilinxcomprode2rjoqok">
																			<div class='coveo-search-section'>
																				<div class="CoveoAnalytics" data-search-hub="Site"></div>
																				<ul class="dropdown-menu options">
																					<li class="option" data-label="All" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-search-hub="Site">
																						<a href="#">
																						All</a>
																					</li>
																					<li data-label="Silicon Devices" data-action-link="https://www.xilinx.com//products/silicon-devices/si-keyword-search.html" data-search-hub="Product">
																						<a href="#">
																						Silicon Devices</a>
																					</li>
																					<li data-label="Boards and Kits" data-action-link="https://www.xilinx.com//products/boards-and-kits/bk-keyword-search.html" data-search-hub="Product">
																						<a href="#">
																						Boards and Kits</a>
																					</li>
																					<li data-label="Intellectual Property" data-action-link="https://www.xilinx.com//products/intellectual-property/ip-keyword-search.html" data-search-hub="Product">
																						<a href="#">
																						Intellectual Property</a>
																					</li>
																					<li data-label="Support" class="option" data-action-link="https://www.xilinx.com/search/support-keyword-search.html" data-search-hub="Support">
																						<a href="#">
																						Support</a>
																						<ul>
																							<li data-label="Documentation" data-action-link="https://www.xilinx.com//support/documentation-navigation/documentation-keyword-search.html" data-search-hub="Document">
																								<a href="#">
																								Documentation</a>
																							</li>
																							<li data-label="Knowledge Base" data-action-link="https://www.xilinx.com//support/answer-navigation/answer-keyword-search.html" data-search-hub="AnswerRecord">
																								<a href="#">
																								Knowledge Base</a>
																							</li>
																							<li data-label="Community Forums" data-action-link="https://www.xilinx.com/search/forums-keyword-search.html" data-search-hub="Forums">
																								<a href="#">
																								Community Forums</a>
																							</li>
																						</ul>
																					</li>
																					<li data-label="Partners" data-action-link="https://www.xilinx.com//alliance/member-keyword-search.html" data-search-hub="Partner">
																						<a href="#">
																						Partners</a>
																					</li>
																					<li data-label="Videos" data-action-link="https://www.xilinx.com/video/video-keyword-search.html" data-search-hub="Video">
																						<a href="#">
																						Videos</a>
																					</li>
																					<li data-label="Press" data-action-link="https://www.xilinx.com/search/press-keyword-search.html" data-search-hub="Press">
																						<a href="#">
																						Press</a>
																					</li>
																				</ul>
																				<a href="#" class="btn dropdown-toggle value" data-toggle="dropdown"></a>
																				<div class="CoveoSearchbox" data-id="coveosearchbox" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-placeholder="Search Xilinx"></div>
																			</div>
																		</div>
																	</div>
																	<ul class="nav navbar-nav nav-justified">
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/applications.html">
																			Applications</a>
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/products/silicon-devices.html">
																			Products</a>
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://developer.xilinx.com/">
																			Developers</a>
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/support.html">
																			Support</a>
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/about/company-overview.html">
																			About</a>
																		</li>
																	</ul>
																</div>
															</div>
															<script type="text/javascript" src="../../_static/js/gtm.js"></script>
															<!--<div class="mini-nav">
																<button type="button" data-function="xilinx-mobile-menu" id="nav-toggle" class="navbar-toggle collapsed visible-xs-block" aria-expanded="false">
																<span></span>
																<span></span>
																<span></span>
																<span></span>
																</button>
																<ul class="list-inline">
																	<li class="dropdown user-menu">
																		<button data-toggle="dropdown">
																		<span class="sr-only">Account</span>
																		<span class="fas fa-user"></span>
																		</button>
																		<ul class="dropdown-menu">
																			<li>
																				<a href="https://www.xilinx.com/myprofile/subscriptions.html">
																				My Account</a>
																			</li>
																			<li>
																				<a href="https://www.xilinx.com/registration/create-account.html">
																				Create Account</a>
																			</li>
																			<li>
																				<a href="https://www.xilinx.com/bin/protected/en/signout">
																				Sign Out</a>
																			</li>
																		</ul>
																	</li>
																	<li class="hidden-xs">
																		<button data-function="search-toggle">
																		<span class="sr-only">Search</span>
																		<span class="far fa-search"></span>
																		</button>
																	</li>
																</ul>
															</div>
															-->
															<div class="search-container">
																<div id="headerSearchBox" class="headerSearch"
																	data-component="header-search"
																	data-redirect-if-empty="false"
																	data-coveo-access-token="xxa237d4dd-f0aa-47fc-9baa-af9121851b33"
																	data-coveo-organization-id="xilinxcomprode2rjoqok">
																	<div class='coveo-search-section'>
																		<div class="CoveoAnalytics" data-search-hub="Site"></div>
																		<ul class="dropdown-menu options">
																			<li class="option" data-label="All" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-search-hub="Site">
																				<a href="#">
																				All</a>
																			</li>
																			<li data-label="Silicon Devices" data-action-link="https://www.xilinx.com/products/silicon-devices/si-keyword-search.html" data-search-hub="Product">
																				<a href="#">
																				Silicon Devices</a>
																			</li>
																			<li data-label="Boards and Kits" data-action-link="https://www.xilinx.com/products/boards-and-kits/bk-keyword-search.html" data-search-hub="Product">
																				<a href="#">
																				Boards and Kits</a>
																			</li>
																			<li data-label="Intellectual Property" data-action-link="https://www.xilinx.com/products/intellectual-property/ip-keyword-search.html" data-search-hub="Product">
																				<a href="#">
																				Intellectual Property</a>
																			</li>
																			<li data-label="Support" class="option" data-action-link="https://www.xilinx.com/search/support-keyword-search.html" data-search-hub="Support">
																				<a href="#">
																				Support</a>
																				<ul>
																					<li data-label="Documentation" data-action-link="https://www.xilinx.com/support/documentation-navigation/documentation-keyword-search.html" data-search-hub="Document">
																						<a href="#">
																						Documentation</a>
																					</li>
																					<li data-label="Knowledge Base" data-action-link="https://www.xilinx.com/support/answer-navigation/answer-keyword-search.html" data-search-hub="AnswerRecord">
																						<a href="#">
																						Knowledge Base</a>
																					</li>
																					<li data-label="Community Forums" data-action-link="https://www.xilinx.com/search/forums-keyword-search.html" data-search-hub="Forums">
																						<a href="#">
																						Community Forums</a>
																					</li>
																				</ul>
																			</li>
																			<li data-label="Partners" data-action-link="https://www.xilinx.com/alliance/member-keyword-search.html" data-search-hub="Partner">
																				<a href="#">
																				Partners</a>
																			</li>
																			<li data-label="Videos" data-action-link="https://www.xilinx.com/video/video-keyword-search.html" data-search-hub="Video">
																				<a href="#">
																				Videos</a>
																			</li>
																			<li data-label="Press" data-action-link="https://www.xilinx.com/search/press-keyword-search.html" data-search-hub="Press">
																				<a href="#">
																				Press</a>
																			</li>
																		</ul>
																		<a href="#" class="btn dropdown-toggle value" data-toggle="dropdown"></a>
																		<div class="CoveoSearchbox" data-id="coveosearchbox" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-placeholder="Search Xilinx"></div>
																	</div>
																</div>
																<button data-function="search-toggle">
																<span class="sr-only">Search</span>
																<span class="far fa-times"></span>
																</button>
															</div>
														</div>
													</div>
												</div>
											</div>
										</nav>
									</header>
								</noindex>
							</div>
						</div>
					</div>
				</div>
				<div class="parsys aem-GridColumn--xxxlarge--none aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
						<div class="container-fluid">
							<div class="row">
							<div class="col-xs-12">
   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home" alt="Documentation Home"> Vitis Graph Library
          

          
          </a>

          
            
            
              <div class="version">
                2020.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

      
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
            
            
            
              
            
            
              <p class="caption"><span class="caption-text">Library Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../overview.html">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../overview.html#license">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../overview.html#trademark-notice">Trademark Notice</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../release.html">Release Note</a></li>
</ul>
<p class="caption"><span class="caption-text">L1 User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../guide_L1/api.html">API Document</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../guide_L1/internals.html">Design Internals</a></li>
</ul>
<p class="caption"><span class="caption-text">L2 User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api.html">API Document</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../internals.html">Design Internals</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="BFS.html">Internal Design of Breadth-first Search</a></li>
<li class="toctree-l2"><a class="reference internal" href="ShortestPath.html">Internal Design of Single Source Shortest Path</a></li>
<li class="toctree-l2"><a class="reference internal" href="ConnectedComponent.html">Internal Design of Connected Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="StronglyConnectedComponent.html">Internal Design of Strongly Connected Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="TriangleCount.html">Internal Design of Triangle Counting</a></li>
<li class="toctree-l2"><a class="reference internal" href="LabelPropagation.html">Internal Design of Label Propagation</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Internal Design of PageRank</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="#algorithm">Algorithm</a></li>
<li class="toctree-l3"><a class="reference internal" href="#implemention">Implemention</a></li>
<li class="toctree-l3"><a class="reference internal" href="#profiling">Profiling</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="PageRankMultiChannels.html">Internal Design of PageRankMultiChannels</a></li>
<li class="toctree-l2"><a class="reference internal" href="CalcuDgree.html">Internal Design of CalcuDgree</a></li>
<li class="toctree-l2"><a class="reference internal" href="ConvertCscCsr.html">Internal Design of Convert CSC CSR</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide_L1/primitives/generalSimilarity.html">Internal Design of General Similarity</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide_L1/primitives/sparseSimilarity.html">Internal Design of Sparse Similarity</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../guide_L1/primitives/denseSimilarity.html">Internal Design of Dense Similarity</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">L3 User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../guide_L3/utilization_L3.html">User Guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../guide_L3/api.html">API Document</a></li>
</ul>
<p class="caption"><span class="caption-text">Plugin User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../plugin/tigergraph_integration.html">TigerGraph Integration</a></li>
</ul>

            
			
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Vitis Graph Library</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../internals.html">Design Internals</a> &raquo;</li>
        
      <li>Internal Design of PageRank</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="internal-design-of-pagerank">
<h1>Internal Design of PageRank<a class="headerlink" href="#internal-design-of-pagerank" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>PageRank (PR) is an algorithm used by Google Search to rank web pages in their search engine results. PageRank is a way of measuring the importance of website pages. PageRank works by counting the number and quality of links to a page to determine a rough estimate of how important the website is. The underlying assumption is that more important websites are likely to receive more links from other websites. Currently, PageRank is not the only algorithm used by Google to order search results, but it is the first algorithm that was used by the companies, and it is the best known.</p>
</div>
<div class="section" id="algorithm">
<h2>Algorithm<a class="headerlink" href="#algorithm" title="Permalink to this headline">¶</a></h2>
<p>PageRank algorithm implementation:</p>
<div class="math notranslate nohighlight">
\[PR(A) = \alpha + (1 - \alpha) (\frac{PR(B)}{Out(B)}+\frac{PR(C)}{Out(C)}+\frac{PR(D)}{Out(D)}+...)\]</div>
<p><span class="math notranslate nohighlight">\(A, B, C ,D...\)</span> are different vertex. <span class="math notranslate nohighlight">\(PR\)</span> is the pagerank value of vertex, <span class="math notranslate nohighlight">\(Out\)</span> represents the out degree of vertex and <span class="math notranslate nohighlight">\(\alpha\)</span> is the damping factor, normally equals to 0.85</p>
<p>The algorithm’s pseudocode is as follows</p>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">each</span> <span class="n">edge</span> <span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span> <span class="ow">in</span> <span class="n">graph</span>   <span class="o">//</span> <span class="n">calculate</span> <span class="n">du</span> <span class="n">degree</span>
    <span class="n">degree</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="o">+=</span> <span class="mi">1</span>

<span class="k">for</span> <span class="n">each</span> <span class="n">node</span> <span class="n">u</span> <span class="ow">in</span> <span class="n">graph</span>    <span class="o">//</span> <span class="n">initiate</span> <span class="n">DDR</span>
    <span class="n">const</span><span class="p">(</span><span class="n">u</span><span class="p">)</span> <span class="p">:</span><span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span> <span class="n">alpha</span><span class="p">)</span> <span class="o">/</span> <span class="n">degree</span><span class="p">(</span><span class="n">u</span><span class="p">)</span>
    <span class="n">PR_old</span><span class="p">(</span><span class="n">u</span><span class="p">)</span> <span class="p">:</span><span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="n">total</span> <span class="n">vertex</span> <span class="n">number</span>

<span class="k">while</span> <span class="n">norm</span><span class="p">(</span><span class="n">PR_old</span> <span class="o">-</span> <span class="n">PR_new</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">tolerance</span>   <span class="o">//</span> <span class="n">iterative</span> <span class="n">add</span>
    <span class="k">for</span> <span class="n">each</span> <span class="n">vertex</span> <span class="n">u</span> <span class="ow">in</span> <span class="n">graph</span>
        <span class="n">PR_new</span><span class="p">(</span><span class="n">u</span><span class="p">)</span> <span class="p">:</span><span class="o">=</span> <span class="n">alpha</span>
        <span class="k">for</span> <span class="n">each</span> <span class="n">vertex</span> <span class="n">v</span> <span class="n">point</span> <span class="n">to</span> <span class="n">u</span>
            <span class="n">PR_new</span><span class="p">(</span><span class="n">u</span><span class="p">)</span> <span class="o">+=</span> <span class="n">const</span><span class="p">(</span><span class="n">v</span><span class="p">)</span><span class="o">*</span><span class="n">PR_old</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>

<span class="k">return</span> <span class="n">PR_new</span>
</pre></div>
</div>
</div>
<div class="section" id="implemention">
<h2>Implemention<a class="headerlink" href="#implemention" title="Permalink to this headline">¶</a></h2>
<p>The input matrix should ensure that the following conditions hold:</p>
<ol class="arabic simple">
<li>directed graph</li>
<li>No self edges</li>
<li>No duplicate edges</li>
<li>compressed sparse column (CSC) format</li>
</ol>
<p>Note that this is not the “normalized” PageRank:</p>
<ol class="arabic simple">
<li>The results are the same as some third-party graph databases, ex. Tigergraph</li>
<li>The results are the same as some third-party graph databases after normalized of order 1, ex. Spark</li>
<li>In the current version, the weighted PageRank algorithm is implemented by default.</li>
<li>For the input unweighted graph, the user still needs to initialize the weight buffer manually to make the kernel work normally, as shown in the ./tests/host codes.</li>
</ol>
<p>The algorithm implemention is shown as the figure below:</p>
<p>Figure 1 : PageRank calculate degree architecture on FPGA</p>
<div class="figure align-center" id="my-figure-pagerank-1">
<a class="reference internal image-reference" href="../../_images/Pagerank_kernelcalDgree.png"><img alt="Figure 1 PageRank calculate degree architecture on FPGA" src="../../_images/Pagerank_kernelcalDgree.png" style="width: 80%;" /></a>
</div>
<p>Figure 2 : PageRank initiation module architecture on FPGA</p>
<div class="figure align-center" id="my-figure-pagerank-2">
<a class="reference internal image-reference" href="../../_images/Pagerank_kernelInit.png"><img alt="Figure 2 PageRank initiation module architecture on FPGA" src="../../_images/Pagerank_kernelInit.png" style="width: 80%;" /></a>
</div>
<p>Figure 3 : PageRank Adder architecture on FPGA</p>
<div class="figure align-center" id="my-figure-pagerank-3">
<a class="reference internal image-reference" href="../../_images/Pagerank_kernelAdder.png"><img alt="Figure 3 PageRank Adder architecture on FPGA" src="../../_images/Pagerank_kernelAdder.png" style="width: 80%;" /></a>
</div>
<p>Figure 4 : PageRank calConvergence architecture on FPGA</p>
<div class="figure align-center" id="my-figure-pagerank-4">
<a class="reference internal image-reference" href="../../_images/Pagerank_kernelcalConvergence.png"><img alt="Figure 4 PageRank calConvrgence architecture on FPGA" src="../../_images/Pagerank_kernelcalConvergence.png" style="width: 80%;" /></a>
</div>
<p>As we can see from the figure:</p>
<ol class="arabic simple">
<li>Module <cite>calculate degree</cite>: first get the vertex node’s outdegree and keep them in one DDR buffer.</li>
<li>Module <cite>initiation</cite>: initiate PR DDR buffers and constant value buffer.</li>
<li>Module <cite>Adder</cite>: calculate Sparse matrix multiplification.</li>
<li>Module <cite>calConvergence</cite>: calculate convergence of pagerank iteration.</li>
</ol>
</div>
<div class="section" id="profiling">
<h2>Profiling<a class="headerlink" href="#profiling" title="Permalink to this headline">¶</a></h2>
<p>The hardware resource utilizations are listed in the following table.
Different tool versions may result slightly different resource.</p>
<p>Table 1 : Hardware resources for PageRank with small cache</p>
<table border="1" class="docutils align-center" id="id1">
<caption><span class="caption-text">Table 1 Hardware resources for PageRank with a small cache (cache size 512bits)</span><a class="headerlink" href="#id1" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="22%" />
<col width="12%" />
<col width="12%" />
<col width="12%" />
<col width="12%" />
<col width="11%" />
<col width="20%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Kernel</td>
<td>BRAM</td>
<td>URAM</td>
<td>DSP</td>
<td>FF</td>
<td>LUT</td>
<td>Frequency(MHz)</td>
</tr>
<tr class="row-even"><td>kernel_pagerank_0</td>
<td>546</td>
<td>0</td>
<td>52</td>
<td>401749</td>
<td>258942</td>
<td>300</td>
</tr>
</tbody>
</table>
<p>Table 2 : Hardware resources for PageRank with cache</p>
<table border="1" class="docutils align-center" id="id2">
<caption><span class="caption-text">Table 2 Hardware resources for PageRank with cache (maximum supported cache size 32K in one SLR of Alveo U250)</span><a class="headerlink" href="#id2" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="22%" />
<col width="12%" />
<col width="12%" />
<col width="12%" />
<col width="12%" />
<col width="11%" />
<col width="20%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Kernel</td>
<td>BRAM</td>
<td>URAM</td>
<td>DSP</td>
<td>FF</td>
<td>LUT</td>
<td>Frequency(MHz)</td>
</tr>
<tr class="row-even"><td>kernel_pagerank_0</td>
<td>546</td>
<td>224</td>
<td>52</td>
<td>391591</td>
<td>262918</td>
<td>225</td>
</tr>
</tbody>
</table>
<p>With the increase of cache depth, the acceleration ratio increases obviously, but due to the use of a lot of URAM, the frequency will drop. So the adviced cache depth is 32K for 1SLR of Alveo U250.</p>
<p>Table 3 : Comparison between CPU SPARK and FPGA VITIS_GRAPH</p>
<table border="1" class="docutils" id="id3">
<caption><span class="caption-text">Table 3 Comparison between CPU SPARK and FPGA VITIS_GRAPH</span><a class="headerlink" href="#id3" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="10%" />
<col width="5%" />
<col width="5%" />
<col width="6%" />
<col width="6%" />
<col width="6%" />
<col width="5%" />
<col width="5%" />
<col width="6%" />
<col width="5%" />
<col width="5%" />
<col width="6%" />
<col width="5%" />
<col width="5%" />
<col width="6%" />
<col width="5%" />
<col width="5%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td rowspan="2">datasets</td>
<td rowspan="2">Vertex</td>
<td rowspan="2">Edges</td>
<td rowspan="2">FPGA time
cache 1</td>
<td rowspan="2">FPGA time
cache 32K</td>
<td colspan="3">Spark (4 threads)</td>
<td colspan="3">Spark (8 threads)</td>
<td colspan="3">Spark (16 threads)</td>
<td colspan="3">Spark (32 threads)</td>
</tr>
<tr class="row-even"><td>Spark time</td>
<td>speedup
Cache 1</td>
<td>speedup
Cache 32K</td>
<td>Spark time</td>
<td>speedup
Cache 1</td>
<td>speedup
Cache 32K</td>
<td>Spark time</td>
<td>speedup
Cache 1</td>
<td>speedup
Cache 32K</td>
<td>Spark time</td>
<td>speedup
Cache 1</td>
<td>speedup
Cache 32K</td>
</tr>
<tr class="row-odd"><td>as-Skitter</td>
<td>1694616</td>
<td>11094209</td>
<td>8.723</td>
<td>3.786</td>
<td>25.431</td>
<td>2.915</td>
<td>6.717</td>
<td>23.064</td>
<td>2.644</td>
<td>6.092</td>
<td>25.163</td>
<td>2.885</td>
<td>6.646</td>
<td>48.137</td>
<td>5.518</td>
<td>12.714</td>
</tr>
<tr class="row-even"><td>coPapersDBLP</td>
<td>540486</td>
<td>15245729</td>
<td>6.523</td>
<td>4.217</td>
<td>29.366</td>
<td>4.502</td>
<td>6.964</td>
<td>23.56</td>
<td>3.612</td>
<td>5.587</td>
<td>27.756</td>
<td>4.255</td>
<td>6.582</td>
<td>58.432</td>
<td>8.958</td>
<td>13.856</td>
</tr>
<tr class="row-odd"><td>coPapersCiteseer</td>
<td>434102</td>
<td>16036720</td>
<td>5.571</td>
<td>4.166</td>
<td>24.161</td>
<td>4.337</td>
<td>5.800</td>
<td>21.274</td>
<td>3.819</td>
<td>5.107</td>
<td>24.545</td>
<td>4.406</td>
<td>5.892</td>
<td>55.312</td>
<td>9.929</td>
<td>13.277</td>
</tr>
<tr class="row-even"><td>cit-Patents</td>
<td>3774768</td>
<td>16518948</td>
<td>14.124</td>
<td>12.358</td>
<td>41.103</td>
<td>2.910</td>
<td>3.326</td>
<td>33.61</td>
<td>2.380</td>
<td>2.720</td>
<td>30.238</td>
<td>2.141</td>
<td>2.447</td>
<td>40.201</td>
<td>2.846</td>
<td>3.253</td>
</tr>
<tr class="row-odd"><td>europe_osm</td>
<td>50912018</td>
<td>54054660</td>
<td>47.376</td>
<td>51.919</td>
<td>1197.746</td>
<td>25.282</td>
<td>23.070</td>
<td>668.923</td>
<td>14.119</td>
<td>12.884</td>
<td>423.886</td>
<td>8.947</td>
<td>8.164</td>
<td><ul class="first last simple">
<li></li>
</ul>
</td>
<td><ul class="first last simple">
<li></li>
</ul>
</td>
<td><ul class="first last simple">
<li></li>
</ul>
</td>
</tr>
<tr class="row-even"><td>hollywood</td>
<td>1139905</td>
<td>57515616</td>
<td>66.782</td>
<td>19.999</td>
<td>98.685</td>
<td>1.478</td>
<td>4.934</td>
<td>77.557</td>
<td>1.161</td>
<td>3.878</td>
<td>78.66</td>
<td>1.178</td>
<td>3.933</td>
<td>146.719</td>
<td>2.197</td>
<td>7.336</td>
</tr>
<tr class="row-odd"><td>soc-LiveJournal1</td>
<td>4847571</td>
<td>68993773</td>
<td>142.526</td>
<td>79.792</td>
<td>403.137</td>
<td>2.829</td>
<td>5.052</td>
<td>288.605</td>
<td>2.025</td>
<td>3.617</td>
<td>281.886</td>
<td>1.978</td>
<td>3.533</td>
<td>272.344</td>
<td>1.911</td>
<td>3.413</td>
</tr>
<tr class="row-even"><td>ljournal-2008</td>
<td>5363260</td>
<td>79023142</td>
<td>166.998</td>
<td>66.814</td>
<td>447.311</td>
<td>2.679</td>
<td>6.695</td>
<td>258.133</td>
<td>1.546</td>
<td>3.864</td>
<td>208.849</td>
<td>1.251</td>
<td>3.126</td>
<td>281.81</td>
<td>1.688</td>
<td>4.218</td>
</tr>
<tr class="row-odd"><td>GEOMEAN</td>
<td>&#160;</td>
<td>&#160;</td>
<td>27.604</td>
<td>16.121</td>
<td>105.891</td>
<td>3.837X</td>
<td>6.571X</td>
<td>78.899</td>
<td>2.858X</td>
<td>4.896X</td>
<td>75.152</td>
<td>2.723X</td>
<td>4.663X</td>
<td>95.115</td>
<td>3.772X</td>
<td>6.976X</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<div class="last line-block">
<div class="line">1. Spark time is the execution time of funciton “pageRank.runUntilConvergence”.</div>
<div class="line">2. Spark running on platform with Intel(R) Xeon(R) CPU E5-2690 v4 &#64;2.600GHz, 56 Threads (2 Sockets, 14 Core(s) per socket, 2 Thread(s) per core).</div>
<div class="line">3. time unit: second.</div>
<div class="line">4. “-” Indicates that the result could not be obtained due to insufficient memory.</div>
<div class="line">5. FPGA time is the kernel runtime by adding data transfer and executed with pagerank_cache</div>
</div>
</div>
<div class="toctree-wrapper compound">
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
<!-- Atalwar: Moved the footer code to layout.html to resolve conflict with the Xilinx template -->
</footer>

        </div>
      </div>


	  <!-- Sphinx Page Footer block -->
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="PageRankMultiChannels.html" class="btn btn-neutral float-right" title="Internal Design of PageRankMultiChannels" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="LabelPropagation.html" class="btn btn-neutral float-left" title="Internal Design of Label Propagation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo" class="copyright">
    <p class="footerinfo">

    </p>
	<br>
  </div>
      </div>
    </section>


  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

   <script type="text/javascript">
    jQuery(function() { Search.loadIndex("searchindex.js"); });
  </script>

  <script type="text/javascript" id="searchindexloader"></script>


  
  
    
  



  <!--  Xilinx template footer block -->
							</div>
						</div>
					</div>
				</div>
				<div class="xilinxExperienceFragments experiencefragment aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
					<div class="xf-content-height">
						<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 ">
							<div class="footer parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
								<noindex>
                  <!-- make footer fixed - NileshP -->
                  <style>
                        .footer {
                        position: fixed;
                        left: 0;
                        bottom: 0;
                        width: 100%;
                        }
                  </style>
                  <!-- make footer fixed NileshP-->
									<footer>
										<div class="aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid sub-footer">
													<div class="row">
														<div class="footerSocial parbase">
															<div class="col-md-push-6 col-lg-push-6 col-md-6 col-lg-6">
																<ul class="list-inline pull-right social-menu">
																	<li>
																		<a href="https://www.linkedin.com/company/xilinx">
																		<span class="linkedin icon"></span>
																		<span class="sr-only">Connect on LinkedIn</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.twitter.com/XilinxInc">
																		<span class="twitter icon"></span>
																		<span class="sr-only">Follow us on Twitter</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.facebook.com/XilinxInc">
																		<span class="facebook icon"></span>
																		<span class="sr-only">Connect on Facebook</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.youtube.com/XilinxInc">
																		<span class="youtube icon"></span>
																		<span class="sr-only">Watch us on YouTube</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.xilinx.com/registration/subscriber-signup.html">
																		<span class="newsletter icon"></span>
																		<span class="sr-only">Subscribe to Newsletter</span>
																		</a>
																	</li>
																</ul>
															</div>
														</div>
														<div class="col-md-pull-6 col-lg-pull-6 col-md-6 col-lg-6">
															<span class="copyright">
                                  
                                  &copy; 2020, Xilinx Inc.
                              </span>
															<ul class="list-inline sub-menu">
																<li>
																	<a href="https://www.xilinx.com/about/privacy-policy.html">Privacy</a>
																</li>
																<li>
																	<a href="https://www.xilinx.com/about/legal.html">Legal</a>
																</li>
																<li>
																	<a href="https://www.xilinx.com/about/contact.html">Contact</a>
																</li>
															</ul>
														</div>
													</div>
												</div>
											</div>
										</div>
									</footer>
								</noindex>
							</div>
						</div>
					</div>
				</div>
				<div class="quicklinks parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
					<noindex>
						<span class="quickLinks">
							<ul>
								<li>
									<a href="#top" class="btn backToTop">
									<span class="fas fa-angle-up" aria-hidden="true"></span>
									</a>
								</li>
							</ul>
						</span>
					</noindex>
				</div>
			</div>
		</div>
		<script>window.CQ = window.CQ || {}</script>
		<script src="https://static.cloud.coveo.com/searchui/v2.4382/js/CoveoJsSearch.Lazy.min.js"></script>
		<script>
			var underscoreSetup = function () {
			  _.templateSettings.interpolate = /\{\{=([^-][\S\s]+?)\}\}/g;
			  _.templateSettings.evaluate = /\{\{([^-=][\S\s]+?)\}\}/g;
			  _.templateSettings.escape = /\{\{-([^=][\S\s]+?)\}\}/g;
			}

			underscoreSetup();
		</script>
	</body>
</html>