


<!DOCTYPE HTML>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
	<head>
		<meta charset="utf-8">
		
		<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
		<link rel="stylesheet" href="https://static.cloud.coveo.com/searchui/v2.4382/css/CoveoFullSearch.css"/>
		<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<meta name="description"/>
		<meta name="keywords"/>
		<meta property="og:title" content=""/>
		<meta property="og:description"/>
		<!-- favicon -->
		<link rel="icon" type="image/vnd.microsoft.icon" href="../_static/favicon.ico"/>
		<link rel="shortcut icon" type="image/vnd.microsoft.icon" href="../_static/favicon.ico"/>
		<!-- Fonts -->
		<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet" type="text/css"/>

  
  
  
  

  
      <script type="text/javascript" src="../_static/js/jquery.min.js"></script>	
	  <script type="text/javascript" src="../_static/js/gtm.js"></script>
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
    <script type="text/javascript" src="../_static/js/d3dd8c60ed.js"></script>
    <script type="text/javascript" src="../_static/js/common-ui-all.min.js"></script>		
    <script type="text/javascript" src="../_static/js/header-footer.min.js"></script>	
    <script type="text/javascript" src="../_static/js/jquery-ui.min.js"></script>	
    <script type="text/javascript" src="../_static/js/CoveoJsSearch.Lazy.min.js"></script>	
    <script type="text/javascript" src="../_static/js/linkid.js"></script>		
    <script type="text/javascript" src="../_static/js/Searchbox.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/common-ui-all.min.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/header-footer.min.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/pro.min.css" media="all" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Credit Default Swap" href="CDS.html" />
    <link rel="prev" title="Hull White Analytic Closed-Form Solution" href="HWA.html" /> 
	</head>
	<body>
		<div class="xilinx-bs3"/>
		<div class="root responsivegrid">
			<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 aem-Grid--large--16 aem-Grid--xlarge--16 aem-Grid--xxlarge--16 aem-Grid--xxxlarge--16 ">
				<div class="xilinxExperienceFragments experiencefragment aem-GridColumn aem-GridColumn--default--12">
					<div class="xf-content-height">
						<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 ">
							<div class="header parbase aem-GridColumn aem-GridColumn--default--12">
								<noindex>
									<header data-component="header">
										<nav class="navbar navbar-default aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid main-nav">
													<div class="row">
														<div class="col-xs-12">
															<div class="logo-column">
																<div class="logo">
																	<a href="https://www.xilinx.com/">
																	<img src="https://www.xilinx.com/etc.clientlibs/site/clientlibs/xilinx/all/resources/imgs/header/xilinx-header-logo.svg" title="Xilinx Inc"/>
																	</a>
																</div>
															</div>
															<div class="navbar-column">
																<div class="navbar navbar-collapse collapse" id="xilinx-main-menu">
																	<div class="mobile-search-container">
																		<div id="headerSearchBox" class="headerSearch"
																			data-component="header-search" 
																			data-redirect-if-empty="false"
																			data-coveo-access-token="xxa237d4dd-f0aa-47fc-9baa-af9121851b33"
																			data-coveo-organization-id="xilinxcomprode2rjoqok">
																			<div class='coveo-search-section'>
																				<div class="CoveoAnalytics" data-search-hub="Site"></div>
																				<ul class="dropdown-menu options">
																					<li class="option" data-label="All" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-search-hub="Site">
																						<a href="#">
																						All</a>
																					</li>
																					<li data-label="Silicon Devices" data-action-link="https://www.xilinx.com//products/silicon-devices/si-keyword-search.html" data-search-hub="Product">
																						<a href="#">
																						Silicon Devices</a>
																					</li>
																					<li data-label="Boards and Kits" data-action-link="https://www.xilinx.com//products/boards-and-kits/bk-keyword-search.html" data-search-hub="Product">
																						<a href="#">
																						Boards and Kits</a>
																					</li>
																					<li data-label="Intellectual Property" data-action-link="https://www.xilinx.com//products/intellectual-property/ip-keyword-search.html" data-search-hub="Product">
																						<a href="#">
																						Intellectual Property</a>
																					</li>
																					<li data-label="Support" class="option" data-action-link="https://www.xilinx.com/search/support-keyword-search.html" data-search-hub="Support">
																						<a href="#">
																						Support</a>
																						<ul>
																							<li data-label="Documentation" data-action-link="https://www.xilinx.com//support/documentation-navigation/documentation-keyword-search.html" data-search-hub="Document">
																								<a href="#">
																								Documentation</a>
																							</li>
																							<li data-label="Knowledge Base" data-action-link="https://www.xilinx.com//support/answer-navigation/answer-keyword-search.html" data-search-hub="AnswerRecord">
																								<a href="#">
																								Knowledge Base</a>
																							</li>
																							<li data-label="Community Forums" data-action-link="https://www.xilinx.com/search/forums-keyword-search.html" data-search-hub="Forums">
																								<a href="#">
																								Community Forums</a>
																							</li>
																						</ul>
																					</li>
																					<li data-label="Partners" data-action-link="https://www.xilinx.com//alliance/member-keyword-search.html" data-search-hub="Partner">
																						<a href="#">
																						Partners</a>
																					</li>
																					<li data-label="Videos" data-action-link="https://www.xilinx.com/video/video-keyword-search.html" data-search-hub="Video">
																						<a href="#">
																						Videos</a>
																					</li>
																					<li data-label="Press" data-action-link="https://www.xilinx.com/search/press-keyword-search.html" data-search-hub="Press">
																						<a href="#">
																						Press</a>
																					</li>
																				</ul>
																				<a href="#" class="btn dropdown-toggle value" data-toggle="dropdown"></a>
																				<div class="CoveoSearchbox" data-id="coveosearchbox" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-placeholder="Search Xilinx"></div>
																			</div>
																		</div>
																	</div>
																	<ul class="nav navbar-nav nav-justified">
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/applications.html">
																			Applications</a> 
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/products/silicon-devices.html">
																			Products</a> 
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://developer.xilinx.com/">
																			Developers</a> 
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/support.html">
																			Support</a> 
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/about/company-overview.html">
																			About</a> 
																		</li>
																	</ul>
																</div>
															</div>
															<script type="text/javascript" src="../_static/js/gtm.js"></script>
															<!--<div class="mini-nav">
																<button type="button" data-function="xilinx-mobile-menu" id="nav-toggle" class="navbar-toggle collapsed visible-xs-block" aria-expanded="false">
																<span></span>
																<span></span>
																<span></span>
																<span></span>
																</button>
																<ul class="list-inline">
																	<li class="dropdown user-menu">
																		<button data-toggle="dropdown">
																		<span class="sr-only">Account</span>
																		<span class="fas fa-user"></span>
																		</button>
																		<ul class="dropdown-menu">
																			<li>
																				<a href="https://www.xilinx.com/myprofile/subscriptions.html">
																				My Account</a>
																			</li>
																			<li>
																				<a href="https://www.xilinx.com/registration/create-account.html">
																				Create Account</a>
																			</li>
																			<li>
																				<a href="https://www.xilinx.com/bin/protected/en/signout">
																				Sign Out</a>
																			</li>
																		</ul>
																	</li>
																	<li class="hidden-xs">
																		<button data-function="search-toggle">
																		<span class="sr-only">Search</span>
																		<span class="far fa-search"></span>
																		</button>
																	</li>
																</ul>
															</div>
															-->
															<div class="search-container">
																<div id="headerSearchBox" class="headerSearch"
																	data-component="header-search" 
																	data-redirect-if-empty="false"
																	data-coveo-access-token="xxa237d4dd-f0aa-47fc-9baa-af9121851b33"
																	data-coveo-organization-id="xilinxcomprode2rjoqok">
																	<div class='coveo-search-section'>
																		<div class="CoveoAnalytics" data-search-hub="Site"></div>
																		<ul class="dropdown-menu options">
																			<li class="option" data-label="All" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-search-hub="Site">
																				<a href="#">
																				All</a>
																			</li>
																			<li data-label="Silicon Devices" data-action-link="https://www.xilinx.com/products/silicon-devices/si-keyword-search.html" data-search-hub="Product">
																				<a href="#">
																				Silicon Devices</a>
																			</li>
																			<li data-label="Boards and Kits" data-action-link="https://www.xilinx.com/products/boards-and-kits/bk-keyword-search.html" data-search-hub="Product">
																				<a href="#">
																				Boards and Kits</a>
																			</li>
																			<li data-label="Intellectual Property" data-action-link="https://www.xilinx.com/products/intellectual-property/ip-keyword-search.html" data-search-hub="Product">
																				<a href="#">
																				Intellectual Property</a>
																			</li>
																			<li data-label="Support" class="option" data-action-link="https://www.xilinx.com/search/support-keyword-search.html" data-search-hub="Support">
																				<a href="#">
																				Support</a>
																				<ul>
																					<li data-label="Documentation" data-action-link="https://www.xilinx.com/support/documentation-navigation/documentation-keyword-search.html" data-search-hub="Document">
																						<a href="#">
																						Documentation</a>
																					</li>
																					<li data-label="Knowledge Base" data-action-link="https://www.xilinx.com/support/answer-navigation/answer-keyword-search.html" data-search-hub="AnswerRecord">
																						<a href="#">
																						Knowledge Base</a>
																					</li>
																					<li data-label="Community Forums" data-action-link="https://www.xilinx.com/search/forums-keyword-search.html" data-search-hub="Forums">
																						<a href="#">
																						Community Forums</a>
																					</li>
																				</ul>
																			</li>
																			<li data-label="Partners" data-action-link="https://www.xilinx.com/alliance/member-keyword-search.html" data-search-hub="Partner">
																				<a href="#">
																				Partners</a>
																			</li>
																			<li data-label="Videos" data-action-link="https://www.xilinx.com/video/video-keyword-search.html" data-search-hub="Video">
																				<a href="#">
																				Videos</a>
																			</li>
																			<li data-label="Press" data-action-link="https://www.xilinx.com/search/press-keyword-search.html" data-search-hub="Press">
																				<a href="#">
																				Press</a>
																			</li>
																		</ul>
																		<a href="#" class="btn dropdown-toggle value" data-toggle="dropdown"></a>
																		<div class="CoveoSearchbox" data-id="coveosearchbox" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-placeholder="Search Xilinx"></div>
																	</div>
																</div>
																<button data-function="search-toggle">
																<span class="sr-only">Search</span>
																<span class="far fa-times"></span>
																</button>
															</div>
														</div>
													</div>
												</div>
											</div>
										</nav>
									</header>
								</noindex>
							</div>
						</div>
					</div>
				</div>
				<div class="parsys aem-GridColumn--xxxlarge--none aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
						<div class="container-fluid">
							<div class="row">
							<div class="col-xs-12">
   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> Vitis Quantitative Finance Library
          

          
          </a>

          
            
            
              <div class="version">
                2020.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Library Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../overview.html">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview.html#license">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview.html#trademark-notice">Trademark Notice</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rel.html">Release Note</a></li>
</ul>
<p class="caption"><span class="caption-text">User Guide</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../models_and_methods.html">Pricing Models and Numerical Methods</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../models_and_methods.html#models">Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../models_and_methods.html#numerical-methods">Numerical Methods</a></li>
<li class="toctree-l2"><a class="reference internal" href="../models_and_methods.html#closed-form-solution-methods">Closed-Form Solution Methods</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../models_and_methods.html#risk">Risk</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Portfolio Optimisation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#caveat">Caveat</a></li>
<li class="toctree-l4"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="#global-minimum-variance-portfolio">Global Minimum Variance Portfolio</a></li>
<li class="toctree-l4"><a class="reference internal" href="#efficient-portfolio">Efficient Portfolio</a></li>
<li class="toctree-l4"><a class="reference internal" href="#tangency-portfolio">Tangency Portfolio</a></li>
<li class="toctree-l4"><a class="reference internal" href="#efficient-portfolio-of-risky-and-risk-free-assets">Efficient Portfolio of Risky and Risk Free Assets</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="CDS.html">Credit Default Swap</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../guide_L1/L1.html">L1 Module User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guide_L2/L2.html">L2 Kernel User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guide_L3/L3.html">L3 Overlay User Guide</a></li>
</ul>
<p class="caption"><span class="caption-text">Benchmark Result</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../benchmark/benchmark.html">Quality and Performance</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Vitis Quantitative Finance Library</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../models_and_methods.html">Pricing Models and Numerical Methods</a> &raquo;</li>
        
      <li>Portfolio Optimisation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="portfolio-optimisation">
<h1>Portfolio Optimisation<a class="headerlink" href="#portfolio-optimisation" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
<div class="section" id="caveat">
<h2>Caveat<a class="headerlink" href="#caveat" title="Permalink to this headline">¶</a></h2>
<p>This is not a theoretical description of Portfolio Theory. It simply describes an overview of the maths used in the solution. There are many books and references online that describe the maths and the theory in more detail.</p>
</div>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>A Portfolio consists of a holding in a number of risky assets (shares or funds) and optionally a risk free asset (bonds).</p>
<p>Portfolio Optimisation seeks to select the best asset distribution according to an objective. The objective is assumed to be maximizing the return for a given amount of risk (or minimizing the risk for a given required return). The asset risk is quantified by the variance of the asset. This is basically Modern Portfolio Theory or the Markowitz Model.</p>
<p>The starting point for Portfolio Optimisation is a list of daily prices of the available assets.</p>
<blockquote>
<div><p>The daily returns are calculated as: <span class="math notranslate nohighlight">\(\frac{price_n-price_{n-1}}{price_{n-1}}\)</span></p>
<p>The excess returns are calculated as: <span class="math notranslate nohighlight">\(excess_n = r_n - average\, return\, for\, the\, asset\)</span></p>
<p>The covariance matrix <span class="math notranslate nohighlight">\(\boldsymbol{\Sigma}\)</span> of the excess returns matrix is calculated as:</p>
<p><span class="math notranslate nohighlight">\(\boldsymbol{\Sigma} = [\sigma_{ij}] = \frac{\boldsymbol{A^TA}}{M-1}\)</span></p>
<blockquote>
<div><p>Where <span class="math notranslate nohighlight">\(\boldsymbol{A} =\)</span> excess return matrix <span class="math notranslate nohighlight">\(= \begin{bmatrix} r_{11}-\overline{r_1} &amp; ... &amp; r_{N1}-\overline{r_N} \\ r_{12}-\overline{r_1} &amp; ... &amp; r_{N2}-\overline{r_N} \\ \wr &amp; ... \wr \\ r_{1M}-\overline{r_1} &amp; ... &amp; r_{NM}-\overline{r_N}\end{bmatrix}\)</span></p>
<p><span class="math notranslate nohighlight">\(\boldsymbol{A^T}\)</span> is the transpose of <span class="math notranslate nohighlight">\(\boldsymbol{A}\)</span></p>
<p><span class="math notranslate nohighlight">\(\overline{r_i}\)</span> is the mean return for asset <span class="math notranslate nohighlight">\(i\)</span></p>
<p><span class="math notranslate nohighlight">\(r_{ij}\)</span> is the <span class="math notranslate nohighlight">\(j^{th}\)</span> excess return for asset <span class="math notranslate nohighlight">\(i\)</span></p>
<p><span class="math notranslate nohighlight">\(N\)</span> is the number of assets</p>
<p><span class="math notranslate nohighlight">\(M\)</span> is the number of returns</p>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="global-minimum-variance-portfolio">
<h2>Global Minimum Variance Portfolio<a class="headerlink" href="#global-minimum-variance-portfolio" title="Permalink to this headline">¶</a></h2>
<p>The Global Minimum Variance Portfolio is the asset weight distribution that minimizes the variance (risk) of the overall portfolio. It can be calculated as: <span class="math notranslate nohighlight">\(\boldsymbol{A_mz_m = b}\)</span></p>
<blockquote>
<div><p>Where <span class="math notranslate nohighlight">\(A_m\)</span> is <span class="math notranslate nohighlight">\(= \begin{bmatrix} 2\boldsymbol{\Sigma} &amp; \boldsymbol{1} \\ \boldsymbol{1^t} &amp; 0\end{bmatrix}\)</span></p>
<p><span class="math notranslate nohighlight">\(\boldsymbol{\Sigma}\)</span> is the covariance matrix, <span class="math notranslate nohighlight">\(\boldsymbol{1}\)</span> is an all one’s vector and <span class="math notranslate nohighlight">\(\boldsymbol{1^t}\)</span> its transpose.</p>
<p><span class="math notranslate nohighlight">\(\boldsymbol{z_m}\)</span> is the asset weights (plus a Lagrange Multiplier).</p>
<p><span class="math notranslate nohighlight">\(\boldsymbol{b}\)</span> is a zero vector with the last entry a one.</p>
</div></blockquote>
<p>This equation is solved for <span class="math notranslate nohighlight">\(\boldsymbol{z_m}\)</span> using LU decomposition and back substitution.</p>
<p>Expected Portfolio Return is calculated as: <span class="math notranslate nohighlight">\(\boldsymbol{W^t.\mu}\)</span></p>
<blockquote>
<div>Where <span class="math notranslate nohighlight">\(\boldsymbol{W^t}\)</span> is the transpose of the GMVP weights vector and <span class="math notranslate nohighlight">\(\boldsymbol{\mu}\)</span> is the asset mean returns vector.</div></blockquote>
<p>Portfolio Variance is calculated as <span class="math notranslate nohighlight">\(\boldsymbol{W^t.\Sigma.W}\)</span></p>
</div>
<div class="section" id="efficient-portfolio">
<h2>Efficient Portfolio<a class="headerlink" href="#efficient-portfolio" title="Permalink to this headline">¶</a></h2>
<p>An efficient portfolio is the asset weight distribution that minimises the variance (risk) of the overall portfolio given a required target return. It can be calculated as: <span class="math notranslate nohighlight">\(\boldsymbol{A_mz_m = b}\)</span></p>
<blockquote>
<div><p>Where <span class="math notranslate nohighlight">\(\boldsymbol{A_m}\)</span> is <span class="math notranslate nohighlight">\(\begin{bmatrix} 2\boldsymbol{\Sigma} &amp; \boldsymbol{\mu} &amp; \boldsymbol{1} \\ \boldsymbol{\mu^t} &amp; 0 &amp; 0 \\ \boldsymbol{1^t} &amp; 0 &amp; 0\end{bmatrix}\)</span></p>
<p><span class="math notranslate nohighlight">\(\boldsymbol{\Sigma}\)</span> is the covariance matrix, <span class="math notranslate nohighlight">\(\boldsymbol{1}\)</span> is an all one’s vector and <span class="math notranslate nohighlight">\(\boldsymbol{1^t}\)</span> its transpose.</p>
<p><span class="math notranslate nohighlight">\(\boldsymbol{\mu}\)</span> is the asset mean returns vector and <span class="math notranslate nohighlight">\(\boldsymbol{\mu^t}\)</span> its transpose.</p>
<p><span class="math notranslate nohighlight">\(\boldsymbol{z_m}\)</span> is the asset weights (plus two Lagrange Multipliers).</p>
<p><span class="math notranslate nohighlight">\(\boldsymbol{b}\)</span> is a zero vector with the second last entry the portfolio target return and the last entry a one.</p>
<p>This equation is sloved for <span class="math notranslate nohighlight">\(\boldsymbol{z_m}\)</span> using LU decomposition and back substitution.</p>
</div></blockquote>
</div>
<div class="section" id="tangency-portfolio">
<h2>Tangency Portfolio<a class="headerlink" href="#tangency-portfolio" title="Permalink to this headline">¶</a></h2>
<p>Portfolios can be visualized on a graph where the x-axis is risk (portfolio variance) and the y-axis is portfolio return. The efficient frontier is the curve representing the maximum returns for given risks and it’s shape is typically:</p>
<a class="reference internal image-reference" href="../_images/tangency_portfolio.png"><img alt="../_images/tangency_portfolio.png" class="align-center" src="../_images/tangency_portfolio.png" style="width: 80%;" /></a>
<p>The Tangency Portfolio is the asset weight distribution that maximises the slope (Sharpe Ratio) of a straight line (Capital Market Line) intersecting the the return axis at the risk free rate and passing through the efficient frontier. It can be calculated as: <span class="math notranslate nohighlight">\(\boldsymbol{W_T} = \frac{\boldsymbol{\Sigma^{-1}}(\boldsymbol{\mu}-r_f.\boldsymbol{1})}{\boldsymbol{1^t}\boldsymbol{\Sigma^{-1}}(\boldsymbol{\mu}-r_f.\boldsymbol{1})}\)</span></p>
<blockquote>
<div><p>Where <span class="math notranslate nohighlight">\(\boldsymbol{W_T}\)</span> is the tangency weights vector</p>
<p><span class="math notranslate nohighlight">\(\boldsymbol{\Sigma^{-1}}\)</span> is the inverse of the covariance matrix <span class="math notranslate nohighlight">\(\boldsymbol{\Sigma}\)</span></p>
<p><span class="math notranslate nohighlight">\(\boldsymbol{\mu}\)</span> is the asset mean returns vector</p>
<p><span class="math notranslate nohighlight">\(\boldsymbol{1}\)</span> is the all ones vector and <span class="math notranslate nohighlight">\(\boldsymbol{1^t}\)</span> its transpose</p>
<p><span class="math notranslate nohighlight">\(r_f\)</span> is the risk free rate</p>
</div></blockquote>
<p>This is solved using LU decomposition with back and forward substitution:</p>
<blockquote>
<div><p><span class="math notranslate nohighlight">\(\boldsymbol{\Sigma^{-1}}(\boldsymbol{\mu}-r_f.\boldsymbol{1}) = Y\)</span></p>
<p><span class="math notranslate nohighlight">\((\boldsymbol{\mu}-r_f.\boldsymbol{1}) = Y\boldsymbol{\Sigma}\)</span></p>
</div></blockquote>
<p>The Sharpe Ratio <span class="math notranslate nohighlight">\(= \frac{Tangency\, expected\, return - r_f}{Tangency\, Standard\, Deviation}\)</span></p>
</div>
<div class="section" id="efficient-portfolio-of-risky-and-risk-free-assets">
<h2>Efficient Portfolio of Risky and Risk Free Assets<a class="headerlink" href="#efficient-portfolio-of-risky-and-risk-free-assets" title="Permalink to this headline">¶</a></h2>
<p>This is the asset and risk free weight distribution that minimises portfolio risk given a risk free rate and a target portfolio return.</p>
<p>The total wealth is split between the tangency portfolio and the risk free asset.</p>
<p>It is calculated as:</p>
<blockquote>
<div><p><span class="math notranslate nohighlight">\(Tangency\, Weight = \frac{Target\, return - r_f}{Expected\, return - r_f}\)</span></p>
<p>And <span class="math notranslate nohighlight">\(Asset\, Weights = Tangency\, Weight.x_T\)</span> where <span class="math notranslate nohighlight">\(x_T\)</span> is the Tangency Portfolio weights vector</p>
<p>And <span class="math notranslate nohighlight">\(Risk\, Free\, Weight = 1 - Tangency\, Weight\)</span></p>
</div></blockquote>
</div>
</div>


           </div>
           
          </div>
          <footer>
<!-- Atalwar: Moved the footer code to layout.html to resolve conflict with the Xilinx template -->
</footer>

        </div>
      </div>
	  
	  
	  <!-- Sphinx Page Footer block -->
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="CDS.html" class="btn btn-neutral float-right" title="Credit Default Swap" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="HWA.html" class="btn btn-neutral float-left" title="Hull White Analytic Closed-Form Solution" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo" class="copyright">
    <p class="footerinfo">

    </p>
  </div>	  
      </div>
    </section>


  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
  

  
  <!--  Xilinx template footer block -->
							</div>
						</div>
					</div>
				</div>
				<div class="xilinxExperienceFragments experiencefragment aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
					<div class="xf-content-height">
						<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 ">
							<div class="footer parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
								<noindex>
									<footer>
										<div class="aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid sub-footer">
													<div class="row">
														<div class="footerSocial parbase">
															<div class="col-md-push-6 col-lg-push-6 col-md-6 col-lg-6">
																<ul class="list-inline pull-right social-menu">
																	<li>
																		<a href="https://www.linkedin.com/company/xilinx">
																		<span class="linkedin icon"></span>
																		<span class="sr-only">Connect on LinkedIn</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.twitter.com/XilinxInc">
																		<span class="twitter icon"></span>
																		<span class="sr-only">Follow us on Twitter</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.facebook.com/XilinxInc">
																		<span class="facebook icon"></span>
																		<span class="sr-only">Connect on Facebook</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.youtube.com/XilinxInc">
																		<span class="youtube icon"></span>
																		<span class="sr-only">Watch us on YouTube</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.xilinx.com/registration/subscriber-signup.html">
																		<span class="newsletter icon"></span>
																		<span class="sr-only">Subscribe to Newsletter</span>
																		</a>
																	</li>
																</ul>
															</div>
														</div>
														<div class="col-md-pull-6 col-lg-pull-6 col-md-6 col-lg-6">
															<span class="copyright">
                                  
                                  &copy; 2020, Xilinx
                              </span>
															<ul class="list-inline sub-menu">
																<li>
																	<a href="https://www.xilinx.com/about/privacy-policy.html">Privacy</a>
																</li>
																<li>
																	<a href="https://www.xilinx.com/about/legal.html">Legal</a>
																</li>
																<li>
																	<a href="https://www.xilinx.com/about/contact.html">Contact</a>
																</li>
															</ul>
														</div>
													</div>
												</div>
											</div>
										</div>
									</footer>
								</noindex>
							</div>
						</div>
					</div>
				</div>
				<div class="quicklinks parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
					<noindex>
						<span class="quickLinks">
							<ul>
								<li>
									<a href="#top" class="btn backToTop">
									<span class="fas fa-angle-up" aria-hidden="true"></span>
									</a>
								</li>
							</ul>
						</span>
					</noindex>
				</div>
			</div>
		</div>
		<script>window.CQ = window.CQ || {}</script>
		<script src="https://static.cloud.coveo.com/searchui/v2.4382/js/CoveoJsSearch.Lazy.min.js"></script>
		<script>
			var underscoreSetup = function () {
			  _.templateSettings.interpolate = /\{\{=([^-][\S\s]+?)\}\}/g;
			  _.templateSettings.evaluate = /\{\{([^-=][\S\s]+?)\}\}/g;
			  _.templateSettings.escape = /\{\{-([^=][\S\s]+?)\}\}/g;
			}
			
			underscoreSetup();
		</script>
	</body>
</html>